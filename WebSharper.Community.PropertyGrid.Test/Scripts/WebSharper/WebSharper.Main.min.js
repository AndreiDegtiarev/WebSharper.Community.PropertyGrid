(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp;a=window;b=a.WebSharper=a.WebSharper||{};c=b.JavaScript=b.JavaScript||{};d=c.JSModule=c.JSModule||{};e=b.Collections=b.Collections||{};f=e.EqualityComparer=e.EqualityComparer||{};g=b.MacroModule=b.MacroModule||{};h=g.EquatableEqualityComparer=g.EquatableEqualityComparer||{};i=g.BaseEqualityComparer=g.BaseEqualityComparer||{};j=e.Comparer=e.Comparer||{};k=g.ComparableComparer=g.ComparableComparer||{};l=g.BaseComparer=g.BaseComparer||{};m=c.Pervasives=c.Pervasives||{};n=b.Json=b.Json||{};o=b.Remoting=b.Remoting||{};p=o.XhrProvider=o.XhrProvider||{};q=o.AjaxRemotingProvider=o.AjaxRemotingProvider||{};r=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};s=b.PrintfHelpers=b.PrintfHelpers||{};t=b.Concurrency=b.Concurrency||{};u=t.Scheduler=t.Scheduler||{};v=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};w=b.Enumerator=b.Enumerator||{};x=w.T=w.T||{};y=b.HtmlContentExtensions=b.HtmlContentExtensions||{};z=y.SingleNode=y.SingleNode||{};A=b.Activator=b.Activator||{};B=c.Optional=c.Optional||{};C=b.Arrays=b.Arrays||{};D=b.Seq=b.Seq||{};E=b.List=b.List||{};F=b.Arrays2D=b.Arrays2D||{};G=b.CancellationTokenSource=b.CancellationTokenSource||{};H=b.Char=b.Char||{};I=b.Util=b.Util||{};J=b.DateUtil=b.DateUtil||{};K=b.DateTimeOffset=b.DateTimeOffset||{};L=b.Delegate=b.Delegate||{};M=e.DictionaryUtil=e.DictionaryUtil||{};N=e.KeyCollection=e.KeyCollection||{};O=e.ValueCollection=e.ValueCollection||{};P=e.Dictionary=e.Dictionary||{};Q=b.MatchFailureException=b.MatchFailureException||{};R=b.IndexOutOfRangeException=b.IndexOutOfRangeException||{};S=b.OperationCanceledException=b.OperationCanceledException||{};T=b.ArgumentException=b.ArgumentException||{};U=b.ArgumentOutOfRangeException=b.ArgumentOutOfRangeException||{};V=b.InvalidOperationException=b.InvalidOperationException||{};W=b.AggregateException=b.AggregateException||{};X=b.TimeoutException=b.TimeoutException||{};Y=b.FormatException=b.FormatException||{};Z=b.OverflowException=b.OverflowException||{};_0=b.Guid=b.Guid||{};_1=e.HashSetUtil=e.HashSetUtil||{};_2=e.HashSet=e.HashSet||{};_3=b.Lazy=b.Lazy||{};_4=E.T=E.T||{};_5=b.Nullable=b.Nullable||{};_6=b.Operators=b.Operators||{};_7=b.Slice=b.Slice||{};_8=b.Option=b.Option||{};_9=b.Queue=b.Queue||{};_=b.Random=b.Random||{};$=b.Ref=b.Ref||{};ba=b.Result=b.Result||{};bb=b.Control=b.Control||{};bc=b.Stack=b.Stack||{};bd=b.Strings=b.Strings||{};be=b.Task=b.Task||{};bf=b.Task1=b.Task1||{};bg=b.TaskCompletionSource=b.TaskCompletionSource||{};bh=b.Unchecked=b.Unchecked||{};bi=b.Numeric=b.Numeric||{};bj=a.IntelliFactory;bk=bj&&bj.Runtime;bl=a.JSON;bm=a.Date;bn=a.console;bo=a.String;bp=a.Math;d.GetFieldValues=function(bq){var br,bs;br=[];for(var bt in bq)br.push(bq[bt]);return br;};d.GetFieldNames=function(bq){var br,bs;br=[];for(var bt in bq)br.push(bt);return br;};d.GetFields=function(bq){var br,bs;br=[];for(var bt in bq)br.push([bt,bq[bt]]);return br;};f=e.EqualityComparer=bk.Class({CGetHashCode0:function(bq){return this.GetHashCode(bq);},CEquals0:function(bq,br){return this.Equals(bq,br);},CGetHashCode:function(bq){return this.GetHashCode(bq);},CEquals:function(bq,br){return this.Equals(bq,br);}},null,f);f.New=bk.Ctor(function(){},f);h=g.EquatableEqualityComparer=bk.Class({GetHashCode:function(bq){return bh.Hash(bq);},Equals:function(bq,br){return bq.EEquals(br);}},f,h);h.New=bk.Ctor(function(){f.New.call(this);},h);i=g.BaseEqualityComparer=bk.Class({GetHashCode:function(bq){return bh.Hash(bq);},Equals:function(bq,br){return bh.Equals(bq,br);}},f,i);i.New=bk.Ctor(function(){f.New.call(this);},i);j=e.Comparer=bk.Class({Compare0:function(bq,br){return this.Compare$1(bq,br);},Compare:function(bq,br){return this.Compare$1(bq,br);}},null,j);j.New=bk.Ctor(function(){},j);k=g.ComparableComparer=bk.Class({Compare$1:function(bq,br){return bq.CompareTo(br);}},j,k);k.New=bk.Ctor(function(){j.New.call(this);},k);l=g.BaseComparer=bk.Class({Compare$1:function(bq,br){return bh.Compare(bq,br);}},j,l);l.New=bk.Ctor(function(){j.New.call(this);},l);m.GetJS=function(bq,br){var bs,bt;bs=bq;bt=w.Get(br);try{while(bt.MoveNext())bs=bs[bt.Current()];}finally{if("Dispose"in bt)bt.Dispose();}return bs;};m.NewFromSeq=function(bq){var br,bs,bt;br={};bs=w.Get(bq);try{while(bs.MoveNext()){bt=bs.Current();br[bt[0]]=bt[1];}}finally{if("Dispose"in bs)bs.Dispose();}return br;};n.Activate=function(bq){var bs,bt,bu;function br(bv){var bw,bx,by,bz,bA;if(bh.Equals(bv,null))return bv;else if(typeof bv=="object"){if(bv instanceof a.Array)return n.shallowMap(br,bv);else{bw=n.shallowMap(br,bv.$V);bx=bv.$T;if(bh.Equals(typeof bx,"undefined"))return bw;else{by=C.get(bs,bx);if(by===window.WebSharper.List.T)return E.ofArray(bw);else{bz=new(C.get(bs,bx))();for(var bB in bw)if(function(bC){bz[bC]=bw[bC];return false;}(bB))break;return bz;}}}}else return bv;}bs=bq.$TYPES;for(bt=0,bu=C.length(bs)-1;bt<=bu;bt++)C.set(bs,bt,n.lookup(C.get(bs,bt)));return br(bq.$DATA);};n.shallowMap=function(bq,br){var bs,bt;if(br instanceof a.Array)return C.map(bq,br);else if(typeof br=="object"){bs={};for(var bu in br)if(function(bv){bs[bv]=bq(br[bv]);return false;}(bu))break;return bs;}else return br;};n.lookup=function(bq){var br,bs,bt,bu,bv;bt=C.length(bq);br=window;bs=0;while(bs<bt){bu=C.get(bq,bs);bv=br[bu];!bh.Equals(typeof bv,void 0)?(br=bv,bs=bs+1):_6.FailWith("Invalid server reply. Failed to find type: "+bu);}return br;};p=o.XhrProvider=bk.Class({Sync:function(bq,br,bs){var bt;bt=[null];o.ajax(false,bq,br,bs,function(bu){bt[0]=bu;},function(bu){throw bu;},function(){o.ajax(false,bq,br,bs,function(bu){bt[0]=bu;},function(bu){throw bu;},void 0);});return bt[0];},Async:function(bq,br,bs,bt,bu){o.ajax(true,bq,br,bs,bt,bu,function(){o.ajax(true,bq,br,bs,bt,bu,void 0);});}},null,p);p.New=bk.Ctor(function(){},p);q=o.AjaxRemotingProvider=bk.Class({get_EndPoint:function(){return o.EndPoint();},AsyncBase:function(bq,br){var bs,bt;bs=this;bt=null;return t.Delay(function(){var bu,bv;bu=o.makeHeaders(bq);bv=o.makePayload(br);return t.Bind(t.GetCT(),function(bw){return t.FromContinuations(function(bx,by,bz){var bA,bB,bC;function bD(bE){return bA[0]?(bA[0]=false,bz(new S.New(bw))):null;}bA=[true];bB=t.Register(bw,function(){bD();});bC=bs.get_EndPoint();return o.AjaxProvider().Async(bC,bu,bv,function(bE){if(bA[0]){bA[0]=false;bB.Dispose();bx(n.Activate(bl.parse(bE)));}},function(bE){if(bA[0]){bA[0]=false;bB.Dispose();by(bE);}});});});});},Send:function(bq,br){t.Start(this.AsyncBase(bq,br),null);},Task:function(bq,br){return t.StartAsTask(this.AsyncBase(bq,br),null);},Async:function(bq,br){return this.AsyncBase(bq,br);},Sync:function(bq,br){var bs,bt,bu;return n.Activate(bl.parse((bs=this.get_EndPoint(),(bt=o.makeHeaders(bq),(bu=o.makePayload(br),o.AjaxProvider().Sync(bs,bt,bu))))));}},null,q);q.New=bk.Ctor(function(){},q);o.ajax=function(bq,br,bs,bt,bu,bv,bw){var bx,by,bz;bx=new a.XMLHttpRequest();by=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");bx.open("POST",br,bq);if(bq==true)bx.withCredentials=true;for(var bB in bs)bx.setRequestHeader(bB,bs[bB]);if(by)bx.setRequestHeader("x-csrftoken",by);function bA(){var bC;if(bx.status==200)bu(bx.responseText);else if(bw&&bx.status==403&&bx.responseText=="CSRF")bw();else{bC="Response status is not 200: ";bv(new a.Error(bC+bx.status));}}if("onload"in bx)bx.onload=bx.onerror=bx.onabort=bA;else bx.onreadystatechange=function(){if(bx.readyState==4)bA();};bx.send(bt);};o.makePayload=function(bq){return bl.stringify(bq);};o.makeHeaders=function(bq){return{"content-type":"application/json","x-websharper-rpc":bq};};o.AjaxProvider=function(){r.$cctor();return r.AjaxProvider;};o.set_AjaxProvider=function(bq){r.$cctor();r.AjaxProvider=bq;};o.UseHttps=function(){try{return!bd.StartsWith(a.location.href,"https://")&&(o.set_EndPoint(bd.Replace(a.location.href,"http://","https://")),true);}catch(bq){return false;}};o.EndPoint=function(){r.$cctor();return r.EndPoint;};o.set_EndPoint=function(bq){r.$cctor();r.EndPoint=bq;};r.$cctor=bk.Cctor(function(){r.EndPoint="?";r.AjaxProvider=new p.New();r.$cctor=a.ignore;});s.prettyPrint=function(bq){var br,bs;function bt(bu,bv){return bu+" = "+s.prettyPrint(bv);}return bq===null?"null":(br=typeof bq,br=="string"?"\""+bq+"\"":br=="object"?bq instanceof a.Array?"[|"+bd.concat("; ",C.map(s.prettyPrint,bq))+"|]":(bs=a.String(bq),bs==="[object Object]"?"{"+bd.concat("; ",C.map(function(bu){return bt(bu[0],bu[1]);},d.GetFields(bq)))+"}":bs):a.String(bq));};s.printArray2D=function(bq,br){return br===null?"null":"[["+bd.concat("][",D.delay(function(){var bs;bs=br.length?br[0].length:0;return D.map(function(bt){return bd.concat("; ",D.delay(function(){return D.map(function(bu){return bq(C.get2D(br,bt,bu));},_6.range(0,bs-1));}));},_6.range(0,br.length-1));}))+"]]";};s.printArray=function(bq,br){return br===null?"null":"[|"+bd.concat("; ",C.map(bq,br))+"|]";};s.printList=function(bq,br){return"["+bd.concat("; ",D.map(bq,br))+"]";};s.padNumLeft=function(bq,br){var bs;bs=C.get(bq,0);return bs===" "||bs==="+"||bs==="-"?bs+bd.PadLeftWith(bq.substr(1),br-1,48):bd.PadLeftWith(bq,br,48);};s.spaceForPos=function(bq,br){return 0<=bq?" "+br:br;};s.plusForPos=function(bq,br){return 0<=bq?"+"+br:br;};s.toSafe=function(bq){return bq==null?"":bq;};u=t.Scheduler=bk.Class({tick:function(){var bq,br,bs;br=this;bs=bm.now();bq=true;while(bq)if(this.robin.length===0){this.idle=true;bq=false;}else{(this.robin.shift())();bm.now()-bs>40?(a.setTimeout(function(){br.tick();},0),bq=false):void 0;}},Fork:function(bq){var br;br=this;this.robin.push(bq);this.idle?(this.idle=false,a.setTimeout(function(){br.tick();},0)):void 0;}},null,u);u.New=bk.Ctor(function(){this.idle=true;this.robin=[];},u);t.For=function(bq,br){return t.Using(w.Get(bq),function(bs){return t.While(function(){return bs.MoveNext();},t.Delay(function(){return br(bs.Current());}));});};t.While=function(bq,br){return bq()?t.Bind(br,function(){return t.While(bq,br);}):t.Return();};t.Using=function(bq,br){return t.TryFinally(br(bq),function(){bq.Dispose();});};t.TryCancelled=function(bq,br){return function(bs){bq({k:function(bt){if(bt.$==2){br(bt.$0);bs.k(bt);}else bs.k(bt);},ct:bs.ct});};};t.OnCancel=function(bq){return function(br){br.k({$:0,$0:t.Register(br.ct,bq)});};};t.StartChild=function(bq,br){return function(bs){var bt,bu,bv,bw;bt=[true];bu=[null];bv=[];bw=br!=null&&br.$==1?{$:1,$0:a.setTimeout(function(){var bx;bt[0]=false;bx={$:1,$0:new X.New()};while(bv.length>0)(bv.shift())(bx);},br.$0)}:null;t.scheduler().Fork(function(){if(!bs.ct.c)bq({k:function(bx){if(bt[0]){bu[0]={$:1,$0:bx};bw!=null&&bw.$==1?a.clearTimeout(bw.$0):void 0;while(bv.length>0)(bv.shift())(bx);}},ct:bs.ct});});bs.k({$:0,$0:function(bx){var by;if(bt[0]){by=bu[0];by==null?bv.push(bx.k):bx.k(by.$0);}else bx.k({$:1,$0:new X.New()});}});};};t.Parallel=function(bq){var br;br=C.ofSeq(bq);return C.length(br)===0?t.Return([]):function(bs){var bt,bu,bv;function bw(bx,by){var bz,bA;bA=bu[0];switch(bA===0?0:bA===1?by.$==0?1:(bz=[bA,by],3):by.$==0?2:(bz=[bA,by],3)){case 0:return null;break;case 1:C.set(bv,bx,by.$0);bu[0]=0;return bs.k({$:0,$0:bv});break;case 2:C.set(bv,bx,by.$0);{bu[0]=bA-1;return;}break;case 3:bu[0]=0;return bs.k(bz[1]);break;}}bt=br.length;bu=[bt];bv=new a.Array(bt);C.iteri(function(bx,by){return t.scheduler().Fork(function(){by({k:function(bz){return bw(bx,bz);},ct:bs.ct});});},br);};};t.Sleep=function(bq){return function(br){var bs,bt;bs=void 0;bt=void 0;bs=a.setTimeout(function(){bt.Dispose();t.scheduler().Fork(function(){br.k({$:0,$0:null});});},bq);bt=t.Register(br.ct,function(){a.clearTimeout(bs);t.scheduler().Fork(function(){t.cancel(br);});});};};t.StartAsTask=function(bq,br){var bs;bs=new bg.New();t.StartWithContinuations(bq,function(bt){bs.SetResult(bt);},function(bt){bs.SetException$1(bt);},function(){bs.SetCanceled();},br);return bs.get_Task();};t.AwaitTask1=function(bq){return t.FromContinuations(function(br,bs,bt){bh.Equals(bq.get_Status(),0)?bq.Start():void 0;{bq.ContinueWith$2(function(bu){return bu.get_IsCanceled()?bt(new S.New(t.noneCT())):bu.get_IsFaulted()?bs(bu.get_Exception()):br(bu.get_Result());});return;}});};t.AwaitTask=function(bq){return t.FromContinuations(function(br,bs,bt){bh.Equals(bq.get_Status(),0)?bq.Start():void 0;{bq.ContinueWith$2(function(bu){return bu.get_IsCanceled()?bt(new S.New(t.noneCT())):bu.get_IsFaulted()?bs(bu.get_Exception()):br();});return;}});};t.AwaitEvent=function(bq,br){return function(bs){var bt,bu;bt=void 0;bu=void 0;bt=bq.Subscribe(I.observer(function(bv){bt.Dispose();bu.Dispose();t.scheduler().Fork(function(){bs.k({$:0,$0:bv});});}));bu=t.Register(bs.ct,function(){if(br!=null&&br.$==1)br.$0();else{bt.Dispose();t.scheduler().Fork(function(){t.cancel(bs);});}});};};t.StartImmediate=function(bq,br){var bs,bt;bs=(bt=(t.defCTS())[0],br==null?bt:br.$0);!bs.c?bq({k:function(bu){if(bu.$==1)t.UncaughtAsyncError(bu.$0);},ct:bs}):void 0;};t.Start=function(bq,br){var bs,bt;bs=(bt=(t.defCTS())[0],br==null?bt:br.$0);t.scheduler().Fork(function(){if(!bs.c)bq({k:function(bu){if(bu.$==1)t.UncaughtAsyncError(bu.$0);},ct:bs});});};t.UncaughtAsyncError=function(bq){bn.log("WebSharper: Uncaught asynchronous exception",bq);};t.StartWithContinuations=function(bq,br,bs,bt,bu){var bv,bw;bv=(bw=(t.defCTS())[0],bu==null?bw:bu.$0);!bv.c?bq({k:function(bx){if(bx.$==1)bs(bx.$0);else if(bx.$==2)bt(bx.$0);else br(bx.$0);},ct:bv}):void 0;};t.FromContinuations=function(bq){return function(br){var bs;function bt(bu){if(bs[0])_6.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bs[0]=true;t.scheduler().Fork(bu);}}bs=[false];bq(function(bu){bt(function(){br.k({$:0,$0:bu});});},function(bu){bt(function(){br.k({$:1,$0:bu});});},function(bu){bt(function(){br.k({$:2,$0:bu});});});};};t.GetCT=function(){v.$cctor();return v.GetCT;};t.Catch=function(bq){return function(br){try{bq({k:function(bs){if(bs.$==0)br.k({$:0,$0:{$:0,$0:bs.$0}});else if(bs.$==1)br.k({$:0,$0:{$:1,$0:bs.$0}});else br.k(bs);},ct:br.ct});}catch(bs){br.k({$:0,$0:{$:1,$0:bs}});}};};t.TryWith=function(bq,br){return function(bs){bq({k:function(bt){if(bt.$==0)bs.k({$:0,$0:bt.$0});else if(bt.$==1)try{(br(bt.$0))(bs);}catch(bu){bs.k(bt);}else bs.k(bt);},ct:bs.ct});};};t.TryFinally=function(bq,br){return function(bs){bq({k:function(bt){try{br();bs.k(bt);}catch(bu){bs.k({$:1,$0:bu});}},ct:bs.ct});};};t.Delay=function(bq){return function(br){try{(bq(null))(br);}catch(bs){br.k({$:1,$0:bs});}};};t.Combine=function(bq,br){return t.Bind(bq,function(){return br;});};t.Bind=function(bq,br){return t.checkCancel(function(bs){bq({k:function(bt){var bu;if(bt.$==0){bu=bt.$0;t.scheduler().Fork(function(){try{(br(bu))(bs);}catch(bv){bs.k({$:1,$0:bv});}});}else t.scheduler().Fork(function(){bs.k(bt);});},ct:bs.ct});});};t.Zero=function(){v.$cctor();return v.Zero;};t.Return=function(bq){return function(br){br.k({$:0,$0:bq});};};t.checkCancel=function(bq){return function(br){if(br.ct.c)t.cancel(br);else bq(br);};};t.cancel=function(bq){bq.k({$:2,$0:new S.New(bq.ct)});};t.defCTS=function(){v.$cctor();return v.defCTS;};t.scheduler=function(){v.$cctor();return v.scheduler;};t.Register=function(bq,br){var bs;return bq===t.noneCT()?{Dispose:function(){return null;}}:(bs=bq.r.push(br)-1,{Dispose:function(){return C.set(bq.r,bs,a.ignore);}});};t.noneCT=function(){v.$cctor();return v.noneCT;};v.$cctor=bk.Cctor(function(){v.noneCT={c:false,r:[]};v.scheduler=new u.New();v.defCTS=[new G.New()];v.Zero=t.Return();v.GetCT=function(bq){bq.k({$:0,$0:bq.ct});};v.$cctor=a.ignore;});x=w.T=bk.Class({Dispose:function(){if(this.d)this.d(this);},Current:function(){return this.c;},Current0:function(){return this.c;},MoveNext:function(){return this.n(this);}},null,x);x.New=bk.Ctor(function(bq,br,bs,bt){this.s=bq;this.c=br;this.n=bs;this.d=bt;},x);w.Get0=function(bq){return bq instanceof a.Array?w.ArrayEnumerator(bq):bh.Equals(typeof bq,"string")?w.StringEnumerator(bq):"GetEnumerator0"in bq?bq.GetEnumerator0():bq.GetEnumerator();};w.Get=function(bq){return bq instanceof a.Array?w.ArrayEnumerator(bq):bh.Equals(typeof bq,"string")?w.StringEnumerator(bq):bq.GetEnumerator();};w.StringEnumerator=function(bq){return new x.New(0,null,function(br){var bs;bs=br.s;return bs<bq.length&&(br.c=bq.charCodeAt(bs),br.s=bs+1,true);},void 0);};w.ArrayEnumerator=function(bq){return new x.New(0,null,function(br){var bs;bs=br.s;return bs<C.length(bq)&&(br.c=C.get(bq,bs),br.s=bs+1,true);},void 0);};z=y.SingleNode=bk.Class({ReplaceInDom:function(bq){this.node.parentNode.replaceChild(this.node,bq);}},null,z);z.New=bk.Ctor(function(bq){this.node=bq;},z);A.hasDocument=function(){return typeof a.document!=="undefined";};A.Activate=function(){var bq;if(A.hasDocument()){bq=a.document.getElementById("websharper-data");bq?a.jQuery(a.document).ready(function(){function br(bs,bt){bt.Body().ReplaceInDom(a.document.getElementById(bs));}return C.iter(function(bs){return br(bs[0],bs[1]);},d.GetFields(n.Activate(bl.parse(bq.getAttribute("content")))));}):void 0;}};B.Undefined={$:0};C.splitInto=function(bq,br){var bs,bt,bu,bv,bw,bx,by,bz,bA;if(bq<=0)_6.FailWith("Count must be positive");bt=C.length(br);if(bt===0)return[];else{bu=bh.Compare(bq,bt)===-1?bq:bt;bv=C.create(bu,null);bw=bt/bu>>0;bs=0;for(bx=0,by=bt%bu-1;bx<=by;bx++){bv[bx]=C.sub(br,bs,bw+1);bs=bs+bw+1;}for(bz=bt%bu,bA=bu-1;bz<=bA;bz++){bv[bz]=C.sub(br,bs,bw);bs=bs+bw;}return bv;}};C.contains=function(bq,br){var bs,bt,bu,bv;bs=true;bt=0;bv=C.length(br);while(bs&&bt<bv)if(bh.Equals(br[bt],bq))bs=false;else bt=bt+1;return!bs;};C.tryFindBack=function(bq,br){var bs,bt,bu;bs=null;bt=br.length-1;while(bt>=0&&bs==null){bu=br[bt];bq(bu)?bs={$:1,$0:bu}:void 0;bt=bt-1;}return bs;};C.tryFindIndexBack=function(bq,br){var bs,bt;bs=null;bt=br.length-1;while(bt>=0&&bs==null){bq(C.get(br,bt))?bs={$:1,$0:bt}:void 0;bt=bt-1;}return bs;};C.mapFold=function(bq,br,bs){var bt,bu,bv,bw,bx;bu=new a.Array(bs.length);bt=br;for(bv=0,bw=bs.length-1;bv<=bw;bv++){bx=bq(bt,bs[bv]);bu[bv]=bx[0];bt=bx[1];}return[bu,bt];};C.mapFoldBack=function(bq,br,bs){var bt,bu,bv,bw,bx,by,bz,bA;bv=new a.Array(br.length);bt=bs;bw=br.length;for(bx=1,by=bw;bx<=by;bx++){bz=bw-bx;bA=bq(br[bz],bt);bv[bz]=bA[0];bt=bA[1];}return[bv,bt];};C.mapInPlace=function(bq,br){var bs,bt;for(bs=0,bt=br.length-1;bs<=bt;bs++)br[bs]=bq(br[bs]);};C.mapiInPlace=function(bq,br){var bs,bt;for(bs=0,bt=br.length-1;bs<=bt;bs++)br[bs]=bq(bs,br[bs]);return br;};C.sortInPlaceByDescending=function(bq,br){C.mapInPlace(function(bs){return bs[0];},C.mapiInPlace(function(bs,bt){return[bt,[bq(bt),bs]];},br).sort(function(bs,bt){return-bh.Compare(bs[1],bt[1]);}));};D.tryHead=function(bq){var br;br=w.Get(bq);try{return br.MoveNext()?{$:1,$0:br.Current()}:null;}finally{if("Dispose"in br)br.Dispose();}};D.tryItem=function(bq,br){var bs,bt,bu;if(bq<0)return null;else{bs=0;bt=w.Get(br);try{bu=true;while(bu&&bs<=bq)if(bt.MoveNext())bs=bs+1;else bu=false;return bu?{$:1,$0:bt.Current()}:null;}finally{if("Dispose"in bt)bt.Dispose();}}};D.tryLast=function(bq){var br,bs;br=w.Get(bq);try{if(br.MoveNext()){while(br.MoveNext());bs={$:1,$0:br.Current()};}else bs=null;return bs;}finally{if("Dispose"in br)br.Dispose();}};D.chunkBySize=function(bq,br){bq<=0?_6.FailWith("Chunk size must be positive"):void 0;return{GetEnumerator:function(){var bs;bs=w.Get(br);return new x.New(null,null,function(bt){var bu;if(bs.MoveNext()){bu=[bs.Current()];while(C.length(bu)<bq&&bs.MoveNext())bu.push(bs.Current());bt.c=bu;return true;}else return false;},function(){bs.Dispose();});}};};C.countBy=function(bq,br){var bs,bt,bu,bv,bw;bs=new P.New$5();bt=[];for(bu=0,bv=C.length(br)-1;bu<=bv;bu++){bw=bq(br[bu]);bs.ContainsKey(bw)?bs.set_Item(bw,bs.get_Item(bw)+1):(bt.push(bw),bs.Add(bw,1));}C.mapInPlace(function(bx){return[bx,bs.get_Item(bx)];},bt);return bt;};D.except=function(bq,br){return{GetEnumerator:function(){var bs,bt;bs=w.Get(br);bt=new _2.New$2(bq);return new x.New(null,null,function(bu){var bv,bw;if(bs.MoveNext()){bv=bs.Current();bw=bt.Add(bv);while(!bw&&bs.MoveNext()){bv=bs.Current();bw=bt.Add(bv);}return bw&&(bu.c=bv,true);}else return false;},function(){bs.Dispose();});}};};E.skip=function(bq,br){var bs,bt,bu;bs=br;for(bt=1,bu=bq;bt<=bu;bt++)if(bs.$==0)_6.FailWith("Input list too short.");else bs=bs.$1;return bs;};C.groupBy=function(bq,br){var bs,bt,bu,bv,bw,bx;bs=new P.New$5();bt=[];for(bu=0,bv=C.length(br)-1;bu<=bv;bu++){bw=br[bu];bx=bq(bw);bs.ContainsKey(bx)?bs.get_Item(bx).push(bw):(bt.push(bx),bs.Add(bx,[bw]));}C.mapInPlace(function(by){return[by,bs.get_Item(by)];},bt);return bt;};D.insufficient=function(){return _6.FailWith("The input sequence has an insufficient number of elements.");};D.last=function(bq){var br,bs;br=w.Get(bq);try{if(!br.MoveNext())bs=D.insufficient();else{while(br.MoveNext());bs=br.Current();}return bs;}finally{if("Dispose"in br)br.Dispose();}};D.contains=function(bq,br){var bs,bt;bs=w.Get(br);try{bt=false;while(!bt&&bs.MoveNext())bt=bh.Equals(bs.Current(),bq);return bt;}finally{if("Dispose"in bs)bs.Dispose();}};E.skipWhile=function(bq,br){var bs;bs=br;while(!(bs.$==0)&&bq(E.head(bs)))bs=E.tail(bs);return bs;};D.nonNegative=function(){return _6.FailWith("The input must be non-negative.");};C.checkBounds=function(bq,br){if(br<0||br>=bq.length)_6.FailWith("Index was outside the bounds of the array.");};C.checkBounds2D=function(bq,br,bs){if(br<0||bs<0||br>=bq.length||bs>=(bq.length?bq[0].length:0))throw new R.New();};C.checkRange=function(bq,br,bs){if(bs<0||br<0||bq.length<br+bs)_6.FailWith("Index was outside the bounds of the array.");};C.set=function(bq,br,bs){C.checkBounds(bq,br);bq[br]=bs;};C.get=function(bq,br){C.checkBounds(bq,br);return bq[br];};C.sub=function(bq,br,bs){C.checkRange(bq,br,bs);return bq.slice(br,br+bs);};C.setSub=function(bq,br,bs,bt){var bu,bv;for(bu=0,bv=bs-1;bu<=bv;bu++)C.set(bq,br+bu,C.get(bt,bu));};C.get2D=function(bq,br,bs){C.checkBounds2D(bq,br,bs);return bq[br][bs];};C.set2D=function(bq,br,bs,bt){C.checkBounds2D(bq,br,bs);bq[br][bs]=bt;};C.zeroCreate2D=function(bq,br){var bs;bs=C.init(bq,function(){return C.create(br,null);});bs.dims=2;return bs;};C.sub2D=function(bq,br,bs,bt,bu){var bv,bw,bx,by,bz,bA,bB;bv=bt<0?0:bt;bw=bu<0?0:bu;bx=C.zeroCreate2D(bv,bw);for(by=0,bz=bv-1;by<=bz;by++){for(bA=0,bB=bw-1;bA<=bB;bA++)C.set2D(bx,by,bA,C.get2D(bq,br+by,bs+bA));}return bx;};C.setSub2D=function(bq,br,bs,bt,bu,bv){var bw,bx,by,bz;for(bw=0,bx=bt-1;bw<=bx;bw++){for(by=0,bz=bu-1;by<=bz;by++)C.set2D(bq,br+bw,bs+by,C.get2D(bv,bw,by));}};C.length=function(bq){return bq.dims===2?bq.length*bq.length:bq.length;};b.checkThis=function(bq){return bh.Equals(bq,null)?_6.InvalidOp("The initialization of an object or value resulted in an object or value being accessed recursively before it was fully initialized."):bq;};C.reverse=function(bq,br,bs){var bt;bt=C.sub(bq,br,bs).slice().reverse();C.blit(bt,0,bq,br,C.length(bt));};C.sum=function(bq){var br,bs;br=0;bs=0;for(;bs<bq.length;bs++)br+=bq[bs];return br;};C.sumBy=function(bq,br){var bs,bt;bs=0;bt=0;for(;bt<br.length;bt++)bs+=bq(br[bt]);return bs;};C.allPairs=function(bq,br){var bs,bt,bu,bv,bw,bx,by;bs=bq.length;bt=br.length;bu=new a.Array(bs*bt);for(bv=0,bw=bs-1;bv<=bw;bv++){for(bx=0,by=bt-1;bx<=by;bx++)bu[bv*bt+bx]=[bq[bv],br[bx]];}return bu;};C.average=function(bq){return a.Number(C.sum(bq))/a.Number(bq.length);};C.averageBy=function(bq,br){return a.Number(C.sumBy(bq,br))/a.Number(br.length);};C.blit=function(bq,br,bs,bt,bu){var bv,bw;C.checkRange(bq,br,bu);C.checkRange(bs,bt,bu);for(bv=0,bw=bu-1;bv<=bw;bv++)bs[bt+bv]=bq[br+bv];};C.choose=function(bq,br){var bs,bt,bu,bv;bs=[];for(bt=0,bu=br.length-1;bt<=bu;bt++){bv=bq(br[bt]);bv==null?void 0:bs.push(bv.$0);}return bs;};C.collect=function(bq,br){return a.Array.prototype.concat.apply([],C.map(bq,br));};C.concat=function(bq){return a.Array.prototype.concat.apply([],C.ofSeq(bq));};C.create=function(bq,br){var bs,bt,bu;bs=new a.Array(bq);for(bt=0,bu=bq-1;bt<=bu;bt++)bs[bt]=br;return bs;};C.exists=function(bq,br){var bs,bt,bu,bv;bs=false;bt=0;bv=C.length(br);while(!bs&&bt<bv)if(bq(br[bt]))bs=true;else bt=bt+1;return bs;};C.exists2=function(bq,br,bs){var bt,bu,bv,bw;C.checkLength(br,bs);bt=false;bu=0;bw=C.length(br);while(!bt&&bu<bw)if(bq(br[bu],bs[bu]))bt=true;else bu=bu+1;return bt;};C.fill=function(bq,br,bs,bt){var bu,bv;C.checkRange(bq,br,bs);for(bu=br,bv=br+bs-1;bu<=bv;bu++)bq[bu]=bt;};C.filter=function(bq,br){var bs,bt,bu;bs=[];for(bt=0,bu=br.length-1;bt<=bu;bt++)if(bq(br[bt]))bs.push(br[bt]);return bs;};C.find=function(bq,br){var bs;bs=C.tryFind(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};C.findIndex=function(bq,br){var bs;bs=C.tryFindIndex(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};C.fold=function(bq,br,bs){var bt,bu,bv;bt=br;for(bu=0,bv=bs.length-1;bu<=bv;bu++)bt=bq(bt,bs[bu]);return bt;};C.fold2=function(bq,br,bs,bt){var bu,bv,bw;C.checkLength(bs,bt);bu=br;for(bv=0,bw=bs.length-1;bv<=bw;bv++)bu=bq(bu,bs[bv],bt[bv]);return bu;};C.foldBack=function(bq,br,bs){var bt,bu,bv,bw,bx;bt=bs;bv=br.length;for(bw=1,bx=bv;bw<=bx;bw++)bt=bq(br[bv-bw],bt);return bt;};C.foldBack2=function(bq,br,bs,bt){var bu,bv,bw,bx,by;C.checkLength(br,bs);bw=br.length;bv=bt;for(bx=1,by=bw;bx<=by;bx++)bv=bq(br[bw-bx],bs[bw-bx],bv);return bv;};C.forall=function(bq,br){var bs,bt,bu,bv;bs=true;bt=0;bv=C.length(br);while(bs&&bt<bv)if(bq(br[bt]))bt=bt+1;else bs=false;return bs;};C.forall2=function(bq,br,bs){var bt,bu,bv,bw;C.checkLength(br,bs);bt=true;bu=0;bw=C.length(br);while(bt&&bu<bw)if(bq(br[bu],bs[bu]))bu=bu+1;else bt=false;return bt;};C.init=function(bq,br){var bs,bt,bu;bq<0?_6.FailWith("Negative size given."):null;bs=new a.Array(bq);for(bt=0,bu=bq-1;bt<=bu;bt++)bs[bt]=br(bt);return bs;};C.iter=function(bq,br){var bs,bt;for(bs=0,bt=br.length-1;bs<=bt;bs++)bq(br[bs]);};C.iter2=function(bq,br,bs){var bt,bu;C.checkLength(br,bs);for(bt=0,bu=br.length-1;bt<=bu;bt++)bq(br[bt],bs[bt]);};C.iteri=function(bq,br){var bs,bt;for(bs=0,bt=br.length-1;bs<=bt;bs++)bq(bs,br[bs]);};C.iteri2=function(bq,br,bs){var bt,bu;C.checkLength(br,bs);for(bt=0,bu=br.length-1;bt<=bu;bt++)bq(bt,br[bt],bs[bt]);};C.map=function(bq,br){var bs,bt,bu;bs=new a.Array(br.length);for(bt=0,bu=br.length-1;bt<=bu;bt++)bs[bt]=bq(br[bt]);return bs;};C.map2=function(bq,br,bs){var bt,bu,bv;C.checkLength(br,bs);bt=new a.Array(bs.length);for(bu=0,bv=bs.length-1;bu<=bv;bu++)bt[bu]=bq(br[bu],bs[bu]);return bt;};C.mapi=function(bq,br){var bs,bt,bu;bs=new a.Array(br.length);for(bt=0,bu=br.length-1;bt<=bu;bt++)bs[bt]=bq(bt,br[bt]);return bs;};C.mapi2=function(bq,br,bs){var bt,bu,bv;C.checkLength(br,bs);bt=new a.Array(br.length);for(bu=0,bv=br.length-1;bu<=bv;bu++)bt[bu]=bq(bu,br[bu],bs[bu]);return bt;};C.max=function(bq){return C.reduce(function(br,bs){return bh.Compare(br,bs)===1?br:bs;},bq);};C.maxBy=function(bq,br){return C.reduce(function(bs,bt){return bh.Compare(bq(bs),bq(bt))===1?bs:bt;},br);};C.min=function(bq){return C.reduce(function(br,bs){return bh.Compare(br,bs)===-1?br:bs;},bq);};C.minBy=function(bq,br){return C.reduce(function(bs,bt){return bh.Compare(bq(bs),bq(bt))===-1?bs:bt;},br);};C.ofList=function(bq){var br,bs;bs=[];br=bq;while(!(br.$==0)){bs.push(E.head(br));br=E.tail(br);}return bs;};C.ofSeq=function(bq){var br,bs;if(bq instanceof a.Array)return bq.slice();else if(bq instanceof _4)return C.ofList(bq);else{br=[];bs=w.Get(bq);try{while(bs.MoveNext())br.push(bs.Current());return br;}finally{if("Dispose"in bs)bs.Dispose();}}};C.partition=function(bq,br){var bs,bt,bu,bv;bs=[];bt=[];for(bu=0,bv=br.length-1;bu<=bv;bu++)if(bq(br[bu]))bs.push(br[bu]);else bt.push(br[bu]);return[bs,bt];};C.permute=function(bq,br){var bs,bt,bu;bs=new a.Array(br.length);for(bt=0,bu=br.length-1;bt<=bu;bt++)bs[bq(bt)]=br[bt];return bs;};C.pick=function(bq,br){var bs;bs=C.tryPick(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};C.reduce=function(bq,br){var bs,bt,bu;C.nonEmpty(br);bs=br[0];for(bt=1,bu=br.length-1;bt<=bu;bt++)bs=bq(bs,br[bt]);return bs;};C.reduceBack=function(bq,br){var bs,bt,bu,bv,bw;C.nonEmpty(br);bu=br.length;bt=br[bu-1];for(bv=2,bw=bu;bv<=bw;bv++)bt=bq(br[bu-bv],bt);return bt;};C.scan=function(bq,br,bs){var bt,bu,bv;bt=new a.Array(1+bs.length);bt[0]=br;for(bu=0,bv=bs.length-1;bu<=bv;bu++)bt[bu+1]=bq(bt[bu],bs[bu]);return bt;};C.scanBack=function(bq,br,bs){var bt,bu,bv,bw;bt=br.length;bu=new a.Array(1+bt);bu[bt]=bs;for(bv=0,bw=bt-1;bv<=bw;bv++)bu[bt-bv-1]=bq(br[bt-bv-1],bu[bt-bv]);return bu;};C.sort=function(bq){return C.map(function(br){return br[0];},C.mapi(function(br,bs){return[bs,br];},bq).sort(bh.Compare));};C.sortBy=function(bq,br){return C.map(function(bs){return bs[0];},C.mapi(function(bs,bt){return[bt,[bq(bt),bs]];},br).sort(function(bs,bt){return bh.Compare(bs[1],bt[1]);}));};C.sortInPlace=function(bq){C.mapInPlace(function(br){return br[0];},C.mapiInPlace(function(br,bs){return[bs,br];},bq).sort(bh.Compare));};C.sortInPlaceBy=function(bq,br){C.mapInPlace(function(bs){return bs[0];},C.mapiInPlace(function(bs,bt){return[bt,[bq(bt),bs]];},br).sort(function(bs,bt){return bh.Compare(bs[1],bt[1]);}));};C.sortInPlaceWith=function(bq,br){br.sort(bq);};C.sortWith=function(bq,br){return br.slice().sort(bq);};C.sortByDescending=function(bq,br){return C.map(function(bs){return bs[0];},C.mapi(function(bs,bt){return[bt,[bq(bt),bs]];},br).sort(function(bs,bt){return-bh.Compare(bs[1],bt[1]);}));};C.sortDescending=function(bq){return C.map(function(br){return br[0];},C.mapi(function(br,bs){return[bs,br];},bq).sort(function(br,bs){return-bh.Compare(br,bs);}));};C.tryFind=function(bq,br){var bs,bt;bs=null;bt=0;while(bt<br.length&&bs==null){bq(br[bt])?bs={$:1,$0:br[bt]}:void 0;bt=bt+1;}return bs;};C.tryFindIndex=function(bq,br){var bs,bt;bs=null;bt=0;while(bt<br.length&&bs==null){bq(br[bt])?bs={$:1,$0:bt}:void 0;bt=bt+1;}return bs;};C.tryHead=function(bq){return bq.length===0?null:{$:1,$0:bq[0]};};C.tryItem=function(bq,br){return br.length<=bq||bq<0?null:{$:1,$0:br[bq]};};C.tryLast=function(bq){var br;br=bq.length;return br===0?null:{$:1,$0:bq[br-1]};};C.tryPick=function(bq,br){var bs,bt,bu;bs=null;bt=0;while(bt<br.length&&bs==null){bu=bq(br[bt]);bu!=null&&bu.$==1?bs=bu:void 0;bt=bt+1;}return bs;};C.unzip=function(bq){var br,bs,bt,bu,bv;br=[];bs=[];for(bt=0,bu=bq.length-1;bt<=bu;bt++){bv=bq[bt];br.push(bv[0]);bs.push(bv[1]);}return[br,bs];};C.unzip3=function(bq){var br,bs,bt,bu,bv,bw;br=[];bs=[];bt=[];for(bu=0,bv=bq.length-1;bu<=bv;bu++){bw=bq[bu];br.push(bw[0]);bs.push(bw[1]);bt.push(bw[2]);}return[br,bs,bt];};C.zip=function(bq,br){var bs,bt,bu;C.checkLength(bq,br);bs=C.create(bq.length,null);for(bt=0,bu=bq.length-1;bt<=bu;bt++)bs[bt]=[bq[bt],br[bt]];return bs;};C.zip3=function(bq,br,bs){var bt,bu,bv;C.checkLength(bq,br);C.checkLength(br,bs);bt=C.create(bq.length,null);for(bu=0,bv=bq.length-1;bu<=bv;bu++)bt[bu]=[bq[bu],br[bu],bs[bu]];return bt;};C.chunkBySize=function(bq,br){return C.ofSeq(D.chunkBySize(bq,br));};C.compareWith=function(bq,br,bs){return D.compareWith(bq,br,bs);};C.distinct=function(bq){return C.ofSeq(D.distinct(bq));};C.distinctBy=function(bq,br){return C.ofSeq(D.distinctBy(bq,br));};C.except=function(bq,br){return C.ofSeq(D.except(bq,br));};C.findBack=function(bq,br){var bs;bs=C.tryFindBack(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};C.findIndexBack=function(bq,br){var bs;bs=C.tryFindIndexBack(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};C.head=function(bq){C.nonEmpty(bq);return bq[0];};C.last=function(bq){C.nonEmpty(bq);return bq[bq.length-1];};C.map3=function(bq,br,bs,bt){var bu,bv,bw;C.checkLength(br,bs);C.checkLength(br,bt);bu=new a.Array(bt.length);for(bv=0,bw=bt.length-1;bv<=bw;bv++)bu[bv]=bq(br[bv],bs[bv],bt[bv]);return bu;};C.pairwise=function(bq){return C.ofSeq(D.pairwise(bq));};C.replicate=function(bq,br){return C.create(bq,br);};C.indexed=function(bq){return C.mapi(function(br,bs){return[br,bs];},bq);};C.skip=function(bq,br){return bq<0?D.nonNegative():bq>br.length?D.insufficient():br.slice(bq);};C.skipWhile=function(bq,br){var bs,bt;bt=br.length;bs=0;while(bs<bt&&bq(br[bs]))bs=bs+1;return br.slice(bs);};C.tail=function(bq){return C.skip(1,bq);};C.take=function(bq,br){return bq<0?D.nonNegative():bq>br.length?D.insufficient():br.slice(0,bq);};C.takeWhile=function(bq,br){var bs,bt;bt=br.length;bs=0;while(bs<bt&&bq(br[bs]))bs=bs+1;return br.slice(0,bs);};C.exactlyOne=function(bq){return bq.length===1?bq[0]:_6.FailWith("The input does not have precisely one element.");};C.unfold=function(bq,br){return C.ofSeq(D.unfold(bq,br));};C.windowed=function(bq,br){return C.ofSeq(D.windowed(bq,br));};C.splitAt=function(bq,br){return[C.take(bq,br),C.skip(bq,br)];};C.nonEmpty=function(bq){if(bq.length===0)_6.FailWith("The input array was empty.");};C.checkLength=function(bq,br){if(bq.length!==br.length)_6.FailWith("The arrays have different lengths.");};F.init=function(bq,br,bs){var bt,bu,bv,bw,bx;bt=C.zeroCreate2D(bq,br);for(bu=0,bv=bq-1;bu<=bv;bu++){for(bw=0,bx=br-1;bw<=bx;bw++)C.set2D(bt,bu,bw,bs(bu,bw));}return bt;};F.iter=function(bq,br){var bs,bt,bu,bv,bw,bx;bs=br.length;bt=br.length?br[0].length:0;for(bu=0,bv=bs-1;bu<=bv;bu++){for(bw=0,bx=bt-1;bw<=bx;bw++)bq(C.get2D(br,bu,bw));}};F.iteri=function(bq,br){var bs,bt,bu,bv,bw,bx;bs=br.length;bt=br.length?br[0].length:0;for(bu=0,bv=bs-1;bu<=bv;bu++){for(bw=0,bx=bt-1;bw<=bx;bw++)bq(bu,bw,C.get2D(br,bu,bw));}};F.map=function(bq,br){return F.init(br.length,br.length?br[0].length:0,function(bs,bt){return bq(C.get2D(br,bs,bt));});};F.mapi=function(bq,br){return F.init(br.length,br.length?br[0].length:0,function(bs,bt){return bq(bs,bt,C.get2D(br,bs,bt));});};F.copy=function(bq){return F.init(bq.length,bq.length?bq[0].length:0,function(br,bs){return C.get2D(bq,br,bs);});};G=b.CancellationTokenSource=bk.Class({CancelAfter:function(bq){var br,bs;br=this;!this.c?(bs=this.pending,bs==null?void 0:a.clearTimeout(bs.$0),this.pending={$:1,$0:a.setTimeout(function(){br.Cancel$1();},bq)}):void 0;},Cancel:function(bq){if(!bq)this.Cancel$1();else if(!this.c){this.c=true;C.iter(function(br){br();},this.r);}},Cancel$1:function(){var bq;if(!this.c){this.c=true;bq=C.choose(function(br){try{br();return null;}catch(bs){return{$:1,$0:bs};}},this.r);if(C.length(bq)>0)throw new W.New$3(bq);else void 0;}}},null,G);G.CreateLinkedTokenSource=function(bq,br){return G.CreateLinkedTokenSource$1([bq,br]);};G.CreateLinkedTokenSource$1=function(bq){var br;br=new G.New();C.iter(function(bs){function bt(bu){return br.Cancel$1();}t.Register(bs,function(){bt();});},bq);return br;};G.New=bk.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},G);H.IsWhiteSpace=function(bq){return bo.fromCharCode(bq).match(new a.RegExp("\\s"))!==null;};H.Parse=function(bq){return bq.length===1?bq.charCodeAt(0):_6.FailWith("String must be exactly one character long.");};H.IsUpper=function(bq){return bq>=65&&bq<=90;};H.IsLower=function(bq){return bq>=97&&bq<=122;};H.IsLetterOrDigit=function(bq){return H.IsLetter(bq)||H.IsDigit(bq);};H.IsLetter=function(bq){return bq>=65&&bq<=90||bq>=97&&bq<=122;};H.IsDigit=function(bq){return bq>=48&&bq<=57;};H.IsControl=function(bq){return bq>=0&&bq<=31||bq>=128&&bq<=159;};H.GetNumericValue=function(bq){return bq>=48&&bq<=57?a.Number(bq)-a.Number(48):-1;};I.observer=function(bq){return{OnCompleted:function(){return null;},OnError:function(){return null;},OnNext:bq};};J.LongTime=function(bq){return(new bm(bq)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});};J.ShortTime=function(bq){return(new bm(bq)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});};J.LongDate=function(bq){return(new bm(bq)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});};J.Parse=function(bq){var br;br=J.TryParse(bq);return br!=null&&br.$==1?br.$0:_6.FailWith("Failed to parse date string.");};J.TryParse=function(bq){var br;br=bm.parse(bq);return a.isNaN(br)?null:{$:1,$0:br};};J.AddMonths=function(bq,br){var bs;bs=new bm(bq);return(new bm(bs.getFullYear(),bs.getMonth()+br,bs.getDate(),bs.getHours(),bs.getMinutes(),bs.getSeconds(),bs.getMilliseconds())).getTime();};J.AddYears=function(bq,br){var bs;bs=new bm(bq);return(new bm(bs.getFullYear()+br,bs.getMonth(),bs.getDate(),bs.getHours(),bs.getMinutes(),bs.getSeconds(),bs.getMilliseconds())).getTime();};J.TimePortion=function(bq){var br;br=new bm(bq);return(((24*0+br.getHours())*60+br.getMinutes())*60+br.getSeconds())*1000+br.getMilliseconds();};J.DatePortion=function(bq){var br;br=new bm(bq);return(new bm(br.getFullYear(),br.getMonth(),br.getDate())).getTime();};K=b.DateTimeOffset=bk.Class({ToUniversalTime:function(){return new K.New(this.d,0);},ToLocalTime:function(){return new K.New(this.d,(new bm()).getTimezoneOffset());}},null,K);K.New=bk.Ctor(function(bq,br){this.d=bq;},K);L.InvocationList=function(bq){return bq.$Invokes||[bq];};L.RemoveAll=function(bq,br){var bs;bs=L.InvocationList(bq);C.length(L.InvocationList(br))>1?_6.FailWith("TODO: Remove multicast delegates"):void 0;return bk.CreateDelegate(C.filter(function(bt){return!bh.Equals(bt,br);},bs));};L.Remove=function(bq,br){var bs,bt,bu,bv,bw,bx,by;bu=L.InvocationList(bq);if(C.length(L.InvocationList(br))>1)_6.FailWith("TODO: Remove multicast delegates");bv=[];bt=false;for(bw=C.length(bu)-1,bx=0;bw>=bx;bw--){by=C.get(bu,bw);!bt&&bk.DelegateEqual(by,br)?bt=true:bv.unshift(by);}return bk.CreateDelegate(bv);};L.DelegateTarget=function(bq){var br;return!bq?null:"$Target"in bq?bq.$Target:"$Invokes"in bq?(br=bq.$Invokes,(C.get(br,C.length(br)-1))[1]):null;};M.getHashCode=function(bq,br){return bq.CGetHashCode(br);};M.equals=function(bq){return function(br,bs){return bq.CEquals(br,bs);};};M.alreadyAdded=function(){return _6.FailWith("An item with the same key has already been added.");};M.notPresent=function(){return _6.FailWith("The given key was not present in the dictionary.");};N=e.KeyCollection=bk.Class({GetEnumerator$1:function(){return w.Get(D.map(function(bq){return bq.K;},this.d));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,N);N.New=bk.Ctor(function(bq){this.d=bq;},N);O=e.ValueCollection=bk.Class({GetEnumerator$1:function(){return w.Get(D.map(function(bq){return bq.V;},this.d));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,O);O.New=bk.Ctor(function(bq){this.d=bq;},O);P=e.Dictionary=bk.Class({remove:function(bq){var br,bs,bt,bu;br=this;bs=this.hash(bq);bt=this.data[bs];return bt&&(bu=C.filter(function(bv){return!br.equals.apply(null,[(_6.KeyValue(bv))[0],bq]);},bt),C.length(bu)<bt.length&&(this.count=this.count-1,this.data[bs]=bu,true));},add:function(bq,br){var bs,bt,bu;bs=this;bt=this.hash(bq);bu=this.data[bt];bu?(C.exists(function(bv){return bs.equals.apply(null,[(_6.KeyValue(bv))[0],bq]);},bu)?M.alreadyAdded():void 0,this.count=this.count+1,bu.push({K:bq,V:br})):(this.count=this.count+1,this.data[bt]=new a.Array({K:bq,V:br}));},set:function(bq,br){var bs,bt,bu,bv;bs=this;bt=this.hash(bq);bu=this.data[bt];bu?(bv=C.tryFindIndex(function(bw){return bs.equals.apply(null,[(_6.KeyValue(bw))[0],bq]);},bu),bv==null?(this.count=this.count+1,bu.push({K:bq,V:br})):bu[bv.$0]={K:bq,V:br}):(this.count=this.count+1,this.data[bt]=new a.Array({K:bq,V:br}));},get:function(bq){var br,bs;br=this;bs=this.data[this.hash(bq)];return bs?C.pick(function(bt){var bu;bu=_6.KeyValue(bt);return br.equals.apply(null,[bu[0],bq])?{$:1,$0:bu[1]}:null;},bs):M.notPresent();},get_Keys:function(){return new N.New(this);},get_Values:function(){return new O.New(this);},TryGetValue:function(bq,br){var bs,bt,bu;bs=this;bt=this.data[this.hash(bq)];return bt&&(bu=C.tryPick(function(bv){var bw;bw=_6.KeyValue(bv);return bs.equals.apply(null,[bw[0],bq])?{$:1,$0:bw[1]}:null;},bt),bu!=null&&bu.$==1&&(br.set(bu.$0),true));},Remove:function(bq){return this.remove(bq);},GetEnumerator$1:function(){return w.Get0(this);},set_Item:function(bq,br){this.set(bq,br);},get_Item:function(bq){return this.get(bq);},ContainsKey:function(bq){var br,bs;br=this;bs=this.data[this.hash(bq)];return bs&&C.exists(function(bt){return br.equals.apply(null,[(_6.KeyValue(bt))[0],bq]);},bs);},Clear:function(){this.data=[];this.count=0;},Add:function(bq,br){this.add(bq,br);},GetEnumerator:function(){return w.Get0(this);},GetEnumerator0:function(){return w.Get0(C.concat(d.GetFieldValues(this.data)));}},null,P);P.New=bk.Ctor(function(bq,br){P.New$6.call(this,bq,M.equals(br),function(bs){return M.getHashCode(br,bs);});},P);P.New$1=bk.Ctor(function(bq){P.New$6.call(this,bq,bh.Equals,bh.Hash);},P);P.New$2=bk.Ctor(function(bq,br){P.New$3.call(this,br);},P);P.New$3=bk.Ctor(function(bq){P.New$6.call(this,[],M.equals(bq),function(br){return M.getHashCode(bq,br);});},P);P.New$4=bk.Ctor(function(bq){P.New$5.call(this);},P);P.New$5=bk.Ctor(function(){P.New$6.call(this,[],bh.Equals,bh.Hash);},P);P.New$6=bk.Ctor(function(bq,br,bs){var bt,bu;this.equals=br;this.hash=bs;this.count=0;this.data=[];bt=w.Get(bq);try{while(bt.MoveNext()){bu=bt.Current();this.set(bu.K,bu.V);}}finally{if("Dispose"in bt)bt.Dispose();}},P);Q=b.MatchFailureException=bk.Class({},null,Q);Q.New=bk.Ctor(function(bq,br,bs){this.message=bq+" at "+bo(br)+":"+bo(bs);},Q);R=b.IndexOutOfRangeException=bk.Class({},null,R);R.New=bk.Ctor(function(){R.New$1.call(this,"Index was outside the bounds of the array.");},R);R.New$1=bk.Ctor(function(bq){this.message=bq;},R);S=b.OperationCanceledException=bk.Class({},null,S);S.New=bk.Ctor(function(bq){S.New$1.call(this,"The operation was canceled.",null,bq);},S);S.New$1=bk.Ctor(function(bq,br,bs){this.message=bq;this.inner=br;this.ct=bs;},S);T=b.ArgumentException=bk.Class({},null,T);T.New=bk.Ctor(function(bq,br){T.New$2.call(this,br+"\nParameter name: "+bq);},T);T.New$1=bk.Ctor(function(){T.New$2.call(this,"Value does not fall within the expected range.");},T);T.New$2=bk.Ctor(function(bq){this.message=bq;},T);U=b.ArgumentOutOfRangeException=bk.Class({},null,U);U.New=bk.Ctor(function(){U.New$1.call(this,"Specified argument was out of the range of valid values.");},U);U.New$1=bk.Ctor(function(bq){this.message=bq;},U);V=b.InvalidOperationException=bk.Class({},null,V);V.New=bk.Ctor(function(){V.New$1.call(this,"Operation is not valid due to the current state of the object.");},V);V.New$1=bk.Ctor(function(bq){this.message=bq;},V);W=b.AggregateException=bk.Class({},null,W);W.New=bk.Ctor(function(bq,br){W.New$4.call(this,bq,[br]);},W);W.New$1=bk.Ctor(function(bq,br){W.New$4.call(this,bq,C.ofSeq(br));},W);W.New$2=bk.Ctor(function(bq){W.New$4.call(this,"One or more errors occurred.",C.ofSeq(bq));},W);W.New$3=bk.Ctor(function(bq){W.New$4.call(this,"One or more errors occurred.",bq);},W);W.New$4=bk.Ctor(function(bq,br){this.message=bq;this.innerExceptions=br;},W);X=b.TimeoutException=bk.Class({},null,X);X.New=bk.Ctor(function(){X.New$1.call(this,"The operation has timed out.");},X);X.New$1=bk.Ctor(function(bq){this.message=bq;},X);Y=b.FormatException=bk.Class({},null,Y);Y.New=bk.Ctor(function(){Y.New$1.call(this,"One of the identified items was in an invalid format.");},Y);Y.New$1=bk.Ctor(function(bq){this.message=bq;},Y);Z=b.OverflowException=bk.Class({},null,Z);Z.New=bk.Ctor(function(){Z.New$1.call(this,"Arithmetic operation resulted in an overflow.");},Z);Z.New$1=bk.Ctor(function(bq){this.message=bq;},Z);C.create2D=function(bq){var br;br=C.ofSeq(D.map(C.ofSeq,bq));br.dims=2;return br;};_0.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(bq){var br,bs;br=bp.random()*16|0;bs=bq=="x"?br:br&3|8;return bs.toString(16);});};_1.concat=function(bq){var br,bs;br=[];for(var bt in bq)br.push.apply(br,bq[bt]);return br;};_2=e.HashSet=bk.Class({add:function(bq){var br,bs;br=this.hash(bq);bs=this.data[br];return bs==null?(this.data[br]=[bq],this.count=this.count+1,true):this.arrContains(bq,bs)?false:(bs.push(bq),this.count=this.count+1,true);},arrRemove:function(bq,br){var bs,bt,bu,bv;bs=true;bt=0;bv=br.length;while(bs&&bt<bv)if(this.equals.apply(null,[br[bt],bq])){br.splice.apply(br,[bt,1]);bs=false;}else bt=bt+1;return!bs;},arrContains:function(bq,br){var bs,bt,bu,bv;bs=true;bt=0;bv=br.length;while(bs&&bt<bv)if(this.equals.apply(null,[br[bt],bq]))bs=false;else bt=bt+1;return!bs;},UnionWith:function(bq){var br;br=w.Get(bq);try{while(br.MoveNext())this.Add(br.Current());}finally{if("Dispose"in br)br.Dispose();}},SymmetricExceptWith:function(bq){var br,bs;br=w.Get(bq);try{while(br.MoveNext()){bs=br.Current();this.Contains(bs)?this.Remove(bs):this.Add(bs);}}finally{if("Dispose"in br)br.Dispose();}},SetEquals:function(bq){var br;br=new _2.New$4(bq,this.equals,this.hash);return this.get_Count()===br.get_Count()&&this.IsSupersetOf(br);},RemoveWhere:function(bq){var br,bs,bt,bu,bv;bs=_1.concat(this.data);br=0;for(bt=0,bu=bs.length-1;bt<=bu;bt++){bv=bs[bt];bq(bv)?this.Remove(bv)?br=br+1:void 0:void 0;}return br;},Remove:function(bq){var br;br=this.data[this.hash(bq)];return br==null?false:this.arrRemove(bq,br)&&(this.count=this.count-1,true);},Overlaps:function(bq){var br;br=this;return D.exists(function(bs){return br.Contains(bs);},bq);},IsSupersetOf:function(bq){var br;br=this;return D.forall(function(bs){return br.Contains(bs);},bq);},IsSubsetOf:function(bq){var br;br=new _2.New$4(bq,this.equals,this.hash);return C.forall(function(bs){return br.Contains(bs);},_1.concat(this.data));},IsProperSupersetOf:function(bq){var br;br=C.ofSeq(bq);return this.count>C.length(br)&&this.IsSupersetOf(br);},IsProperSubsetOf:function(bq){var br;br=C.ofSeq(bq);return this.count<C.length(br)&&this.IsSubsetOf(br);},IntersectWith:function(bq){var br,bs,bt,bu,bv;br=new _2.New$4(bq,this.equals,this.hash);bs=_1.concat(this.data);for(bt=0,bu=bs.length-1;bt<=bu;bt++){bv=bs[bt];!br.Contains(bv)?this.Remove(bv):void 0;}},ExceptWith:function(bq){var br;br=w.Get(bq);try{while(br.MoveNext())this.Remove(br.Current());}finally{if("Dispose"in br)br.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bq){var br,bs,bt,bu;br=0;bs=_1.concat(this.data);for(bt=0,bu=bs.length-1;bt<=bu;bt++)C.set(bq,bt,bs[bt]);},Contains:function(bq){var br;br=this.data[this.hash(bq)];return br==null?false:this.arrContains(bq,br);},Clear:function(){this.data=[];this.count=0;},Add:function(bq){return this.add(bq);},GetEnumerator:function(){return w.Get(_1.concat(this.data));},GetEnumerator0:function(){return w.Get(_1.concat(this.data));}},null,_2);_2.New=bk.Ctor(function(bq,br){_2.New$4.call(this,bq,M.equals(br),function(bs){return M.getHashCode(br,bs);});},_2);_2.New$1=bk.Ctor(function(bq){_2.New$4.call(this,[],M.equals(bq),function(br){return M.getHashCode(bq,br);});},_2);_2.New$2=bk.Ctor(function(bq){_2.New$4.call(this,bq,bh.Equals,bh.Hash);},_2);_2.New$3=bk.Ctor(function(){_2.New$4.call(this,[],bh.Equals,bh.Hash);},_2);_2.New$4=bk.Ctor(function(bq,br,bs){var bt;this.equals=br;this.hash=bs;this.data=[];this.count=0;bt=w.Get(bq);try{while(bt.MoveNext())this.add(bt.Current());}finally{if("Dispose"in bt)bt.Dispose();}},_2);_3.Force=function(bq){return bq.f();};_3.CreateFromValue=function(bq){return{c:true,v:bq,f:_3.cachedLazy};};_3.Create=function(bq){return{c:false,v:bq,f:_3.forceLazy};};_3.forceLazy=function(){var bq;bq=this.v();this.c=true;this.v=bq;this.f=_3.cachedLazy;return bq;};_3.cachedLazy=function(){return this.v;};_4=E.T=bk.Class({GetSlice:function(bq,br){var bs;return bq!=null&&bq.$==1?br!=null&&br.$==1?(bs=bq.$0,E.ofSeq(D.take(br.$0-bs+1,E.skip(bs,this)))):E.skip(bq.$0,this):br!=null&&br.$==1?E.ofSeq(D.take(br.$0+1,this)):this;},get_Item:function(bq){return D.nth(bq,this);},get_Length:function(){return E.length(this);},GetEnumerator:function(){return new x.New(this,null,function(bq){var br;br=bq.s;return br.$==0?false:(bq.c=br.$0,bq.s=br.$1,true);},void 0);},GetEnumerator0:function(){return w.Get(this);}},null,_4);_4.Empty=new _4({$:0});E.allPairs=function(bq,br){return E.ofArray(C.allPairs(C.ofList(bq),C.ofList(br)));};E.append=function(bq,br){var bs,bt,bu,bv,bw;if(bq.$==0)return br;else if(br.$==0)return bq;else{bv=new _4({$:1});bs=bv;bt=bq;bu=true;while(bu){bs.$0=bt.$0;bt=bt.$1;bt.$==0?bu=false:bs=(bw=new _4({$:1}),bs.$1=bw,bw);}bs.$1=br;return bv;}};E.choose=function(bq,br){return E.ofSeq(D.choose(bq,br));};E.collect=function(bq,br){return E.ofSeq(D.collect(bq,br));};E.concat=function(bq){return E.ofSeq(D.concat(bq));};E.exists=function(bq,br){var bs,bt;bs=false;bt=br;while(!bs&&bt.$==1){bs=bq(bt.$0);bt=bt.$1;}return bs;};E.exists2=function(bq,br,bs){var bt,bu,bv;bt=false;bu=br;bv=bs;while(!bt&&bu.$==1&&bv.$==1){bt=bq(bu.$0,bv.$0);bu=bu.$1;bv=bv.$1;}!bt&&(bu.$==1||bv.$==1)?E.badLengths():void 0;return bt;};E.filter=function(bq,br){return E.ofSeq(D.filter(bq,br));};E.fold2=function(bq,br,bs,bt){return C.fold2(bq,br,C.ofList(bs),C.ofList(bt));};E.foldBack=function(bq,br,bs){return C.foldBack(bq,C.ofList(br),bs);};E.foldBack2=function(bq,br,bs,bt){return C.foldBack2(bq,C.ofList(br),C.ofList(bs),bt);};E.forAll=function(bq,br){var bs,bt;bs=true;bt=br;while(bs&&bt.$==1){bs=bq(bt.$0);bt=bt.$1;}return bs;};E.forall2=function(bq,br,bs){var bt,bu,bv;bt=true;bu=br;bv=bs;while(bt&&bu.$==1&&bv.$==1){bt=bq(bu.$0,bv.$0);bu=bu.$1;bv=bv.$1;}bt&&(bu.$==1||bv.$==1)?E.badLengths():void 0;return bt;};E.head=function(bq){return bq.$==1?bq.$0:E.listEmpty();};E.init=function(bq,br){return E.ofArray(C.init(bq,br));};E.iter=function(bq,br){var bs;bs=br;while(bs.$==1){bq(E.head(bs));bs=E.tail(bs);}};E.iter2=function(bq,br,bs){var bt,bu;bt=br;bu=bs;while(bt.$==1){bu.$==0?E.badLengths():void 0;bq(E.head(bt),E.head(bu));bt=E.tail(bt);bu=E.tail(bu);}bu.$==1?E.badLengths():void 0;};E.iteri=function(bq,br){var bs,bt;bs=br;bt=0;while(bs.$==1){bq(bt,E.head(bs));bs=E.tail(bs);bt=bt+1;}};E.iteri2=function(bq,br,bs){var bt,bu,bv;bt=br;bu=bs;bv=0;while(bt.$==1){bu.$==0?E.badLengths():void 0;bq(bv,E.head(bt),E.head(bu));bt=E.tail(bt);bu=E.tail(bu);bv=bv+1;}bu.$==1?E.badLengths():void 0;};E.length=function(bq){var br,bs;br=bq;bs=0;while(br.$==1){br=E.tail(br);bs=bs+1;}return bs;};E.map=function(bq,br){var bs,bt,bu,bv,bw;if(br.$==0)return br;else{bv=new _4({$:1});bs=bv;bt=br;bu=true;while(bu){bs.$0=bq(bt.$0);bt=bt.$1;bt.$==0?bu=false:bs=(bw=new _4({$:1}),bs.$1=bw,bw);}bs.$1=_4.Empty;return bv;}};E.map2=function(bq,br,bs){var bt,bu,bv,bw,bx,by;bt=br.$==1&&bs.$==1;if(!bt)return br.$==1||bs.$==1?E.badLengths():br;else{bx=new _4({$:1});bu=bx;bv=br;bw=bs;while(bt){bu.$0=bq(bv.$0,bw.$0);bv=bv.$1;bw=bw.$1;bv.$==1&&bw.$==1?bu=(by=new _4({$:1}),bu.$1=by,by):bt=false;}if(bv.$==1||bw.$==1)E.badLengths();bu.$1=_4.Empty;return bx;}};E.map3=function(bq,br,bs,bt){var bu,bv,bw,bx,by,bz,bA;bu=br.$==1&&bs.$==1&&bt.$==1;if(!bu)return br.$==1||bs.$==1||bt.$==1?E.badLengths():br;else{bz=new _4({$:1});bv=bz;bw=br;bx=bs;by=bt;while(bu){bv.$0=bq(bw.$0,bx.$0,by.$0);bw=bw.$1;bx=bx.$1;by=by.$1;bw.$==1&&bx.$==1&&by.$==1?bv=(bA=new _4({$:1}),bv.$1=bA,bA):bu=false;}if(bw.$==1||bx.$==1||by.$==1)E.badLengths();bv.$1=_4.Empty;return bz;}};E.mapi=function(bq,br){var bs,bt,bu,bv,bw,bx;if(br.$==0)return br;else{bw=new _4({$:1});bs=bw;bt=br;bu=0;bv=true;while(bv){bs.$0=bq(bu,bt.$0);bt=bt.$1;bt.$==0?bv=false:(bs=(bx=new _4({$:1}),bs.$1=bx,bx),bu=bu+1);}bs.$1=_4.Empty;return bw;}};E.mapi2=function(bq,br,bs){var bt,bu,bv,bw,bx,by,bz;bt=br.$==1&&bs.$==1;if(!bt)return br.$==1||bs.$==1?E.badLengths():br;else{by=new _4({$:1});bu=by;bv=br;bw=bs;bx=0;while(bt){bu.$0=bq(bx,bv.$0,bw.$0);bv=bv.$1;bw=bw.$1;bv.$==1&&bw.$==1?(bu=(bz=new _4({$:1}),bu.$1=bz,bz),bx=bx+1):bt=false;}if(bv.$==1||bw.$==1)E.badLengths();bu.$1=_4.Empty;return by;}};E.max=function(bq){return D.reduce(function(br,bs){return bh.Compare(br,bs)===1?br:bs;},bq);};E.maxBy=function(bq,br){return D.reduce(function(bs,bt){return bh.Compare(bq(bs),bq(bt))===1?bs:bt;},br);};E.min=function(bq){return D.reduce(function(br,bs){return bh.Compare(br,bs)===-1?br:bs;},bq);};E.minBy=function(bq,br){return D.reduce(function(bs,bt){return bh.Compare(bq(bs),bq(bt))===-1?bs:bt;},br);};E.ofArray=function(bq){var br,bs,bt;br=_4.Empty;for(bs=C.length(bq)-1,bt=0;bs>=bt;bs--)br=new _4({$:1,$0:C.get(bq,bs),$1:br});return br;};E.ofSeq=function(bq){var br,bs,bt,bu,bv,bw;if(bq instanceof _4)return bq;else if(bq instanceof a.Array)return E.ofArray(bq);else{br=w.Get(bq);try{bt=br.MoveNext();if(!bt)bs=_4.Empty;else{bv=new _4({$:1});bu=bv;while(bt){bu.$0=br.Current();br.MoveNext()?bu=(bw=new _4({$:1}),bu.$1=bw,bw):bt=false;}bu.$1=_4.Empty;bs=bv;}return bs;}finally{if("Dispose"in br)br.Dispose();}}};E.partition=function(bq,br){var bs;bs=C.partition(bq,C.ofList(br));return[E.ofArray(bs[0]),E.ofArray(bs[1])];};E.permute=function(bq,br){return E.ofArray(C.permute(bq,C.ofList(br)));};E.reduceBack=function(bq,br){return C.reduceBack(bq,C.ofList(br));};E.replicate=function(bq,br){return E.ofArray(C.create(bq,br));};E.rev=function(bq){var br,bs;br=_4.Empty;bs=bq;while(bs.$==1){br=new _4({$:1,$0:bs.$0,$1:br});bs=bs.$1;}return br;};E.scan=function(bq,br,bs){return E.ofSeq(D.scan(bq,br,bs));};E.scanBack=function(bq,br,bs){return E.ofArray(C.scanBack(bq,C.ofList(br),bs));};E.sort=function(bq){var br;br=C.ofList(bq);C.sortInPlace(br);return E.ofArray(br);};E.sortBy=function(bq,br){return E.sortWith(function(bs,bt){return bh.Compare(bq(bs),bq(bt));},br);};E.sortByDescending=function(bq,br){return E.sortWith(function(bs,bt){return-bh.Compare(bq(bs),bq(bt));},br);};E.sortDescending=function(bq){var br;br=C.ofList(bq);C.sortInPlaceByDescending(a.id,br);return E.ofArray(br);};E.sortWith=function(bq,br){var bs;bs=C.ofList(br);C.sortInPlaceWith(bq,bs);return E.ofArray(bs);};E.tail=function(bq){return bq.$==1?bq.$1:E.listEmpty();};E.unzip=function(bq){var br,bs,bt,bu;br=[];bs=[];bt=w.Get(bq);try{while(bt.MoveNext()){bu=bt.Current();br.push(bu[0]);bs.push(bu[1]);}}finally{if("Dispose"in bt)bt.Dispose();}return[E.ofArray(br.slice(0)),E.ofArray(bs.slice(0))];};E.unzip3=function(bq){var br,bs,bt,bu,bv;br=[];bs=[];bt=[];bu=w.Get(bq);try{while(bu.MoveNext()){bv=bu.Current();br.push(bv[0]);bs.push(bv[1]);bt.push(bv[2]);}}finally{if("Dispose"in bu)bu.Dispose();}return[E.ofArray(br.slice(0)),E.ofArray(bs.slice(0)),E.ofArray(bt.slice(0))];};E.zip=function(bq,br){return E.map2(function(bs,bt){return[bs,bt];},bq,br);};E.zip3=function(bq,br,bs){return E.map3(function(bt,bu,bv){return[bt,bu,bv];},bq,br,bs);};E.chunkBySize=function(bq,br){return E.map(E.ofArray,E.ofSeq(D.chunkBySize(bq,br)));};E.compareWith=function(bq,br,bs){return D.compareWith(bq,br,bs);};E.countBy=function(bq,br){return E.ofArray(C.countBy(bq,C.ofList(br)));};E.distinct=function(bq){return E.ofSeq(D.distinct(bq));};E.distinctBy=function(bq,br){return E.ofSeq(D.distinctBy(bq,br));};E.splitInto=function(bq,br){return E.map(E.ofArray,E.ofArray(C.splitInto(bq,C.ofList(br))));};E.except=function(bq,br){return E.ofSeq(D.except(bq,br));};E.tryFindBack=function(bq,br){return C.tryFindBack(bq,C.ofList(br));};E.findBack=function(bq,br){var bs;bs=E.tryFindBack(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};E.findIndexBack=function(bq,br){var bs;bs=C.tryFindIndexBack(bq,C.ofList(br));return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};E.groupBy=function(bq,br){var bs;function bt(bu,bv){return[bu,E.ofArray(bv)];}bs=C.groupBy(bq,C.ofList(br));C.mapInPlace(function(bu){return bt(bu[0],bu[1]);},bs);return E.ofArray(bs);};E.last=function(bq){var br,bs;bq.$==0?E.listEmpty():null;br=bq;bs=br.$1;while(bs.$==1){br=bs;bs=br.$1;}return br.$0;};E.contains=function(bq,br){var bs,bt;bs=false;bt=br;while(!bs&&bt.$==1){bs=bh.Equals(bq,bt.$0);bt=bt.$1;}return bs;};E.mapFold=function(bq,br,bs){var bt;bt=C.mapFold(bq,br,C.ofList(bs));return[E.ofArray(bt[0]),bt[1]];};E.mapFoldBack=function(bq,br,bs){var bt;bt=C.mapFoldBack(bq,C.ofList(br),bs);return[E.ofArray(bt[0]),bt[1]];};E.pairwise=function(bq){return E.ofSeq(D.pairwise(bq));};E.indexed=function(bq){return E.mapi(function(br,bs){return[br,bs];},bq);};E.tryHead=function(bq){return bq.$==0?null:{$:1,$0:bq.$0};};E.exactlyOne=function(bq){var br;return bq.$==1&&(bq.$1.$==0&&(br=bq.$0,true))?br:_6.FailWith("The input does not have precisely one element.");};E.unfold=function(bq,br){return E.ofSeq(D.unfold(bq,br));};E.windowed=function(bq,br){return E.ofSeq(D.map(E.ofArray,D.windowed(bq,br)));};E.splitAt=function(bq,br){return[E.ofSeq(D.take(bq,br)),E.skip(bq,br)];};E.listEmpty=function(){return _6.FailWith("The input list was empty.");};E.badLengths=function(){return _6.FailWith("The lists have different lengths.");};_5.getOrValue=function(bq,br){return bq==null?br:bq;};_5.get=function(bq){return bq==null?_6.FailWith("Nullable object must have a value."):bq;};_6.range=function(bq,br){var bs;bs=1+br-bq;return bs<=0?[]:D.init(bs,function(bt){return bt+bq;});};_6.step=function(bq,br,bs){var bt;bt=_6.Sign(br);return D.takeWhile(function(bu){return bt*(bs-bu)>=0;},D.initInfinite(function(bu){return bq+bu*br;}));};_6.KeyValue=function(bq){return[bq.K,bq.V];};_6.Truncate=function(bq){return bq<0?bp.ceil(bq):bp.floor(bq);};_6.Sign=function(bq){return bq===0?0:bq<0?-1:1;};_6.Pown=function(bq,br){function bs(bt){var bu;return bt===1?bq:bt%2===0?(bu=bs(bt/2>>0),bu*bu):bq*bs(bt-1);}return bs(br);};_6.InvalidArg=function(bq,br){throw new T.New(bq,br);};_6.InvalidOp=function(bq){throw new V.New$1(bq);};_6.FailWith=function(bq){throw a.Error(bq);};_7.string=function(bq,br,bs){return br==null?bs!=null&&bs.$==1?bq.slice(0,bs.$0+1):"":bs==null?bq.slice(br.$0):bq.slice(br.$0,bs.$0+1);};_7.array=function(bq,br,bs){return br==null?bs!=null&&bs.$==1?bq.slice(0,bs.$0+1):[]:bs==null?bq.slice(br.$0):bq.slice(br.$0,bs.$0+1);};_7.setArray=function(bq,br,bs,bt){var bu;bu=br!=null&&br.$==1?br.$0:0;C.setSub(bq,bu,(bs!=null&&bs.$==1?bs.$0:bq.length-1)-bu+1,bt);};_7.array2D=function(bq,br,bs,bt,bu){var bv,bw;bv=br!=null&&br.$==1?br.$0:0;bw=bt!=null&&bt.$==1?bt.$0:0;return C.sub2D(bq,bv,bw,(bs!=null&&bs.$==1?bs.$0:bq.length-1)-bv+1,(bu!=null&&bu.$==1?bu.$0:(bq.length?bq[0].length:0)-1)-bw+1);};_7.array2Dfix1=function(bq,br,bs,bt){var bu,bv,bw,bx,by,bz;bu=bs!=null&&bs.$==1?bs.$0:0;bv=bt!=null&&bt.$==1?bt.$0:(bq.length?bq[0].length:0)-1;bw=bv-bu+1;bx=new a.Array(bw);for(by=0,bz=bw-1;by<=bz;by++)C.set(bx,by,C.get2D(bq,br,bu+by));return bx;};_7.array2Dfix2=function(bq,br,bs,bt){var bu,bv,bw,bx,by,bz;bu=br!=null&&br.$==1?br.$0:0;bv=bs!=null&&bs.$==1?bs.$0:bq.length-1;bw=bv-bu+1;bx=new a.Array(bw);for(by=0,bz=bw-1;by<=bz;by++)C.set(bx,by,C.get2D(bq,bu+by,bt));return bx;};_7.setArray2Dfix1=function(bq,br,bs,bt,bu){var bv,bw,bx,by;bv=bs!=null&&bs.$==1?bs.$0:0;bw=bt!=null&&bt.$==1?bt.$0:(bq.length?bq[0].length:0)-1;for(bx=0,by=bw-bv+1-1;bx<=by;bx++)C.set2D(bq,br,bv+bx,C.get(bu,bx));};_7.setArray2Dfix2=function(bq,br,bs,bt,bu){var bv,bw,bx,by;bv=br!=null&&br.$==1?br.$0:0;bw=bs!=null&&bs.$==1?bs.$0:bq.length-1;for(bx=0,by=bw-bv+1-1;bx<=by;bx++)C.set2D(bq,bv+bx,bt,C.get(bu,bx));};_7.setArray2D=function(bq,br,bs,bt,bu,bv){var bw,bx;bw=br!=null&&br.$==1?br.$0:0;bx=bt!=null&&bt.$==1?bt.$0:0;C.setSub2D(bq,bw,bx,(bs!=null&&bs.$==1?bs.$0:bq.length-1)-bw+1,(bu!=null&&bu.$==1?bu.$0:(bq.length?bq[0].length:0)-1)-bx+1,bv);};_8.filter=function(bq,br){var bs;return br!=null&&br.$==1&&(bq(br.$0)&&(bs=br.$0,true))?br:null;};_8.fold=function(bq,br,bs){return bs==null?br:bq(br,bs.$0);};_8.foldBack=function(bq,br,bs){return br==null?bs:bq(br.$0,bs);};_8.ofNullable=function(bq){return bq==null?null:{$:1,$0:_5.get(bq)};};_8.ofObj=function(bq){return bq==null?null:{$:1,$0:bq};};_8.toArray=function(bq){return bq==null?[]:[bq.$0];};_8.toList=function(bq){return bq==null?_4.Empty:E.ofArray([bq.$0]);};_8.toNullable=function(bq){return bq!=null&&bq.$==1?bq.$0:null;};_8.toObj=function(bq){return bq==null?null:bq.$0;};_9.CopyTo=function(bq,br,bs){C.blit(bq,0,br,bs,C.length(bq));};_9.Contains=function(bq,br){return D.exists(function(bs){return bh.Equals(br,bs);},bq);};_9.Clear=function(bq){bq.splice(0,C.length(bq));};_=b.Random=bk.Class({NextBytes:function(bq){var br,bs;for(br=0,bs=C.length(bq)-1;br<=bs;br++)C.set(bq,br,bp.floor(bp.random()*256));},Next:function(bq,br){return bq>br?_6.FailWith("'minValue' cannot be greater than maxValue."):bq+bp.floor(bp.random()*(br-bq));},Next$1:function(bq){return bq<0?_6.FailWith("'maxValue' must be greater than zero."):bp.floor(bp.random()*bq);},Next$2:function(){return bp.floor(bp.random()*2147483648);}},null,_);_.New=bk.Ctor(function(){},_);$.New=function(bq){return[bq];};ba.MapError=function(bq,br){return br.$==1?{$:1,$0:bq(br.$0)}:{$:0,$0:br.$0};};ba.Map=function(bq,br){return br.$==1?{$:1,$0:br.$0}:{$:0,$0:bq(br.$0)};};ba.Bind=function(bq,br){return br.$==1?{$:1,$0:br.$0}:bq(br.$0);};D.enumFinally=function(bq,br){return{GetEnumerator:function(){var bs;try{bs=w.Get(bq);}catch(bt){br();throw bt;}return new x.New(null,null,function(bu){return bs.MoveNext()&&(bu.c=bs.Current(),true);},function(){bs.Dispose();br();});}};};D.enumUsing=function(bq,br){return{GetEnumerator:function(){var bs;try{bs=w.Get(br(bq));}catch(bt){bq.Dispose();throw bt;}return new x.New(null,null,function(bu){return bs.MoveNext()&&(bu.c=bs.Current(),true);},function(){bs.Dispose();bq.Dispose();});}};};D.enumWhile=function(bq,br){return{GetEnumerator:function(){return new x.New(null,null,function(bs){var bt;while(true){bt=bs.s;if(bh.Equals(bt,null)){if(bq()){bs.s=w.Get(br);bs=bs;}else return false;}else if(bt.MoveNext()){bs.c=bt.Current();return true;}else{bt.Dispose();bs.s=null;bs=bs;}}},function(bs){var bt;bt=bs.s;!bh.Equals(bt,null)?bt.Dispose():void 0;});}};};bb.createEvent=function(bq,br,bs){return{AddHandler:bq,RemoveHandler:br,Subscribe:function(bt){var bu;bu=bs(function(){return function(bv){return bt.OnNext(bv);};});bq(bu);return{Dispose:function(){return br(bu);}};}};};D.allPairs=function(bq,br){var bs;bs=D.cache(br);return D.collect(function(bt){return D.map(function(bu){return[bt,bu];},bs);},bq);};D.append=function(bq,br){return{GetEnumerator:function(){var bs;bs=[true];return new x.New(w.Get(bq),null,function(bt){var bu;return bt.s.MoveNext()?(bt.c=bt.s.Current(),true):(bu=bt.s,!bh.Equals(bu,null)?bu.Dispose():void 0,bt.s=null,bs[0]&&(bs[0]=false,bt.s=w.Get(br),bt.s.MoveNext()?(bt.c=bt.s.Current(),true):(bt.s.Dispose(),bt.s=null,false)));},function(bt){var bu;bu=bt.s;!bh.Equals(bu,null)?bu.Dispose():void 0;});}};};D.average=function(bq){var br,bs;br=D.fold(function(bt,bu){return(function(bv){var bw,bx;bw=bv[0];bx=bv[1];return function(by){return[bw+1,bx+by];};}(bt))(bu);},[0,0],bq);bs=br[0];return bs===0?_6.InvalidArg("source","The input sequence was empty."):br[1]/bs;};D.averageBy=function(bq,br){var bs,bt;bs=D.fold(function(bu,bv){return(function(bw){var bx,by;bx=bw[0];by=bw[1];return function(bz){return[bx+1,by+bq(bz)];};}(bu))(bv);},[0,0],br);bt=bs[0];return bt===0?_6.InvalidArg("source","The input sequence was empty."):bs[1]/bt;};D.cache=function(bq){var br,bs;br=[];bs=[w.Get(bq)];return{GetEnumerator:function(){return new x.New(0,null,function(bt){var bu;return bt.s<br.length?(bt.c=br[bt.s],bt.s=bt.s+1,true):(bu=bs[0],bh.Equals(bu,null)?false:bu.MoveNext()?(bt.s=bt.s+1,bt.c=bu.Current(),br.push(bt.c),true):(bu.Dispose(),bs[0]=null,false));},void 0);}};};D.choose=function(bq,br){return D.collect(function(bs){var bt;bt=bq(bs);return bt==null?_4.Empty:E.ofArray([bt.$0]);},br);};D.collect=function(bq,br){return D.concat(D.map(bq,br));};D.compareWith=function(bq,br,bs){var bt,bu,bv,bw,bx;bt=w.Get(br);try{bv=w.Get(bs);try{bw=0;bx=true;while(bx&&bw===0)if(bt.MoveNext())bw=bv.MoveNext()?bq(bt.Current(),bv.Current()):1;else if(bv.MoveNext())bw=-1;else bx=false;bu=bw;}finally{if("Dispose"in bv)bv.Dispose();}return bu;}finally{if("Dispose"in bt)bt.Dispose();}};D.concat=function(bq){return{GetEnumerator:function(){var br;br=w.Get(bq);return new x.New(null,null,function(bs){var bt;while(true){bt=bs.s;if(bh.Equals(bt,null)){if(br.MoveNext()){bs.s=w.Get(br.Current());bs=bs;}else{br.Dispose();return false;}}else if(bt.MoveNext()){bs.c=bt.Current();return true;}else{bs.Dispose();bs.s=null;bs=bs;}}},function(bs){var bt;bt=bs.s;!bh.Equals(bt,null)?bt.Dispose():void 0;!bh.Equals(br,null)?br.Dispose():void 0;});}};};D.countBy=function(bq,br){return D.delay(function(){return C.countBy(bq,C.ofSeq(br));});};D.delay=function(bq){return{GetEnumerator:function(){return w.Get(bq());}};};D.distinct=function(bq){return D.distinctBy(a.id,bq);};D.distinctBy=function(bq,br){return{GetEnumerator:function(){var bs,bt;bs=w.Get(br);bt=new _2.New$3();return new x.New(null,null,function(bu){var bv,bw;if(bs.MoveNext()){bv=bs.Current();bw=bt.Add(bq(bv));while(!bw&&bs.MoveNext()){bv=bs.Current();bw=bt.Add(bq(bv));}return bw&&(bu.c=bv,true);}else return false;},function(){bs.Dispose();});}};};D.splitInto=function(bq,br){bq<=0?_6.FailWith("Count must be positive"):void 0;return D.delay(function(){return C.splitInto(bq,C.ofSeq(br));});};D.exactlyOne=function(bq){var br,bs;br=w.Get(bq);try{return br.MoveNext()?(bs=br.Current(),br.MoveNext()?_6.InvalidOp("Sequence contains more than one element"):bs):_6.InvalidOp("Sequence contains no elements");}finally{if("Dispose"in br)br.Dispose();}};D.exists=function(bq,br){var bs,bt;bs=w.Get(br);try{bt=false;while(!bt&&bs.MoveNext())bt=bq(bs.Current());return bt;}finally{if("Dispose"in bs)bs.Dispose();}};D.exists2=function(bq,br,bs){var bt,bu,bv,bw;bt=w.Get(br);try{bv=w.Get(bs);try{bw=false;while(!bw&&bt.MoveNext()&&bv.MoveNext())bw=bq(bt.Current(),bv.Current());bu=bw;}finally{if("Dispose"in bv)bv.Dispose();}return bu;}finally{if("Dispose"in bt)bt.Dispose();}};D.filter=function(bq,br){return{GetEnumerator:function(){var bs;bs=w.Get(br);return new x.New(null,null,function(bt){var bu,bv,bw;bu=bs.MoveNext();bv=bs.Current();bw=false;while(bu)if(bq(bv)){bt.c=bv;bw=true;bu=false;}else if(bs.MoveNext())bv=bs.Current();else bu=false;return bw;},function(){bs.Dispose();});}};};D.find=function(bq,br){var bs;bs=D.tryFind(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};D.findIndex=function(bq,br){var bs;bs=D.tryFindIndex(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};D.fold=function(bq,br,bs){var bt,bu;bt=br;bu=w.Get(bs);try{while(bu.MoveNext())bt=bq(bt,bu.Current());return bt;}finally{if("Dispose"in bu)bu.Dispose();}};D.forall=function(bq,br){return!D.exists(function(bs){return!bq(bs);},br);};D.forall2=function(bq,br,bs){return!D.exists2(function(bt,bu){return!bq(bt,bu);},br,bs);};D.groupBy=function(bq,br){return D.delay(function(){return C.groupBy(bq,C.ofSeq(br));});};D.head=function(bq){var br;br=w.Get(bq);try{return br.MoveNext()?br.Current():D.insufficient();}finally{if("Dispose"in br)br.Dispose();}};D.init=function(bq,br){return D.take(bq,D.initInfinite(br));};D.initInfinite=function(bq){return{GetEnumerator:function(){return new x.New(0,null,function(br){br.c=bq(br.s);br.s=br.s+1;return true;},void 0);}};};D.isEmpty=function(bq){var br;br=w.Get(bq);try{return!br.MoveNext();}finally{if("Dispose"in br)br.Dispose();}};D.iter=function(bq,br){var bs;bs=w.Get(br);try{while(bs.MoveNext())bq(bs.Current());}finally{if("Dispose"in bs)bs.Dispose();}};D.iter2=function(bq,br,bs){var bt,bu,bv;bt=w.Get(br);try{bv=w.Get(bs);try{while(bt.MoveNext()&&bv.MoveNext())bq(bt.Current(),bv.Current());bu=void 0;}finally{if("Dispose"in bv)bv.Dispose();}bu;}finally{if("Dispose"in bt)bt.Dispose();}};D.iteri=function(bq,br){var bs,bt;bs=0;bt=w.Get(br);try{while(bt.MoveNext()){bq(bs,bt.Current());bs=bs+1;}}finally{if("Dispose"in bt)bt.Dispose();}};D.length=function(bq){var br,bs;br=0;bs=w.Get(bq);try{while(bs.MoveNext())br=br+1;return br;}finally{if("Dispose"in bs)bs.Dispose();}};D.map=function(bq,br){return{GetEnumerator:function(){var bs;bs=w.Get(br);return new x.New(null,null,function(bt){return bs.MoveNext()&&(bt.c=bq(bs.Current()),true);},function(){bs.Dispose();});}};};D.mapi=function(bq,br){return D.map2(bq,D.initInfinite(a.id),br);};D.map2=function(bq,br,bs){return{GetEnumerator:function(){var bt,bu;bt=w.Get(br);bu=w.Get(bs);return new x.New(null,null,function(bv){return bt.MoveNext()&&bu.MoveNext()&&(bv.c=bq(bt.Current(),bu.Current()),true);},function(){bt.Dispose();bu.Dispose();});}};};D.maxBy=function(bq,br){return D.reduce(function(bs,bt){return bh.Compare(bq(bs),bq(bt))>=0?bs:bt;},br);};D.minBy=function(bq,br){return D.reduce(function(bs,bt){return bh.Compare(bq(bs),bq(bt))<=0?bs:bt;},br);};D.max=function(bq){return D.reduce(function(br,bs){return bh.Compare(br,bs)>=0?br:bs;},bq);};D.min=function(bq){return D.reduce(function(br,bs){return bh.Compare(br,bs)<=0?br:bs;},bq);};D.nth=function(bq,br){var bs,bt;if(bq<0)_6.FailWith("negative index requested");bs=-1;bt=w.Get(br);try{while(bs<bq){!bt.MoveNext()?D.insufficient():void 0;bs=bs+1;}return bt.Current();}finally{if("Dispose"in bt)bt.Dispose();}};D.pairwise=function(bq){return D.map(function(br){return[C.get(br,0),C.get(br,1)];},D.windowed(2,bq));};D.pick=function(bq,br){var bs;bs=D.tryPick(bq,br);return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};D.readOnly=function(bq){return{GetEnumerator:function(){return w.Get(bq);}};};D.reduce=function(bq,br){var bs,bt;bs=w.Get(br);try{if(!bs.MoveNext())_6.FailWith("The input sequence was empty");bt=bs.Current();while(bs.MoveNext())bt=bq(bt,bs.Current());return bt;}finally{if("Dispose"in bs)bs.Dispose();}};D.scan=function(bq,br,bs){return{GetEnumerator:function(){var bt;bt=w.Get(bs);return new x.New(false,null,function(bu){return bu.s?bt.MoveNext()&&(bu.c=bq(bu.c,bt.Current()),true):(bu.c=br,bu.s=true,true);},function(){bt.Dispose();});}};};D.skip=function(bq,br){return{GetEnumerator:function(){var bs;bs=w.Get(br);return new x.New(true,null,function(bt){var bu,bv;if(bt.s){for(bu=1,bv=bq;bu<=bv;bu++)if(!bs.MoveNext())D.insufficient();bt.s=false;}else null;return bs.MoveNext()&&(bt.c=bs.Current(),true);},function(){bs.Dispose();});}};};D.skipWhile=function(bq,br){return{GetEnumerator:function(){var bs;bs=w.Get(br);return new x.New(true,null,function(bt){var bu,bv;if(bt.s){bu=true;bv=false;while(bu)if(bs.MoveNext()){if(!bq(bs.Current()))bu=false;}else{bu=false;bv=true;}bt.s=false;return bv?false:(bt.c=bs.Current(),true);}else return bs.MoveNext()&&(bt.c=bs.Current(),true);},function(){bs.Dispose();});}};};D.sort=function(bq){return D.sortBy(a.id,bq);};D.sortBy=function(bq,br){return D.delay(function(){var bs;bs=C.ofSeq(br);C.sortInPlaceBy(bq,bs);return bs;});};D.sortByDescending=function(bq,br){return D.delay(function(){var bs;bs=C.ofSeq(br);C.sortInPlaceByDescending(bq,bs);return bs;});};D.sortDescending=function(bq){return D.sortByDescending(a.id,bq);};D.sum=function(bq){return D.fold(function(br,bs){return br+bs;},0,bq);};D.sumBy=function(bq,br){return D.fold(function(bs,bt){return bs+bq(bt);},0,br);};D.take=function(bq,br){bq<0?D.nonNegative():void 0;return{GetEnumerator:function(){var bs;bs=[w.Get(br)];return new x.New(0,null,function(bt){var bu;bt.s=bt.s+1;return bt.s>bq?false:(bu=bs[0],bh.Equals(bu,null)?D.insufficient():bu.MoveNext()?(bt.c=bu.Current(),bt.s===bq?(bu.Dispose(),bs[0]=null):void 0,true):(bu.Dispose(),bs[0]=null,D.insufficient()));},function(){var bt;bt=bs[0];!bh.Equals(bt,null)?bt.Dispose():void 0;});}};};D.takeWhile=function(bq,br){return D.delay(function(){return D.enumUsing(w.Get(br),function(bs){return D.enumWhile(function(){return bs.MoveNext()&&bq(bs.Current());},D.delay(function(){return[bs.Current()];}));});});};D.truncate=function(bq,br){return D.delay(function(){return D.enumUsing(w.Get(br),function(bs){var bt;bt=[0];return D.enumWhile(function(){return bs.MoveNext()&&bt[0]<bq;},D.delay(function(){bt[0]++;return[bs.Current()];}));});});};D.tryFind=function(bq,br){var bs,bt,bu;bs=w.Get(br);try{bt=null;while(bt==null&&bs.MoveNext()){bu=bs.Current();bq(bu)?bt={$:1,$0:bu}:void 0;}return bt;}finally{if("Dispose"in bs)bs.Dispose();}};D.findBack=function(bq,br){var bs;bs=C.tryFindBack(bq,C.ofSeq(br));return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};D.tryFindIndex=function(bq,br){var bs,bt,bu;bs=w.Get(br);try{bt=true;bu=0;while(bt&&bs.MoveNext())if(bq(bs.Current()))bt=false;else bu=bu+1;return bt?null:{$:1,$0:bu};}finally{if("Dispose"in bs)bs.Dispose();}};D.findIndexBack=function(bq,br){var bs;bs=C.tryFindIndexBack(bq,C.ofSeq(br));return bs==null?_6.FailWith("KeyNotFoundException"):bs.$0;};D.tryPick=function(bq,br){var bs,bt;bs=w.Get(br);try{bt=null;while(bh.Equals(bt,null)&&bs.MoveNext())bt=bq(bs.Current());return bt;}finally{if("Dispose"in bs)bs.Dispose();}};D.unfold=function(bq,br){return{GetEnumerator:function(){return new x.New(br,null,function(bs){var bt;bt=bq(bs.s);return bt==null?false:(bs.c=bt.$0[0],bs.s=bt.$0[1],true);},void 0);}};};D.windowed=function(bq,br){bq<=0?_6.FailWith("The input must be positive."):void 0;return D.delay(function(){return D.enumUsing(w.Get(br),function(bs){var bt;bt=[];return D.append(D.enumWhile(function(){return bt.length<bq&&bs.MoveNext();},D.delay(function(){bt.push(bs.Current());return[];})),D.delay(function(){return bt.length===bq?D.append([bt.slice(0)],D.delay(function(){return D.enumWhile(function(){return bs.MoveNext();},D.delay(function(){bt.shift();bt.push(bs.Current());return[bt.slice(0)];}));})):[];}));});});};D.zip=function(bq,br){return D.map2(function(bs,bt){return[bs,bt];},bq,br);};D.map3=function(bq,br,bs,bt){return{GetEnumerator:function(){var bu,bv,bw;bu=w.Get(br);bv=w.Get(bs);bw=w.Get(bt);return new x.New(null,null,function(bx){return bu.MoveNext()&&bv.MoveNext()&&bw.MoveNext()&&(bx.c=bq(bu.Current(),bv.Current(),bw.Current()),true);},function(){bu.Dispose();bv.Dispose();bw.Dispose();});}};};D.zip3=function(bq,br,bs){return D.map3(function(bt,bu,bv){return[bt,bu,bv];},bq,br,bs);};D.fold2=function(bq,br,bs,bt){return C.fold2(bq,br,C.ofSeq(bs),C.ofSeq(bt));};D.foldBack=function(bq,br,bs){return C.foldBack(bq,C.ofSeq(br),bs);};D.foldBack2=function(bq,br,bs,bt){return C.foldBack2(bq,C.ofSeq(br),C.ofSeq(bs),bt);};D.iteri2=function(bq,br,bs){var bt,bu,bv,bw;bt=0;bu=w.Get(br);try{bw=w.Get(bs);try{while(bu.MoveNext()&&bw.MoveNext()){bq(bt,bu.Current(),bw.Current());bt=bt+1;}bv=void 0;}finally{if("Dispose"in bw)bw.Dispose();}bv;}finally{if("Dispose"in bu)bu.Dispose();}};D.mapi2=function(bq,br,bs){return D.map3(function(bt,bu,bv){return((bq(bt))(bu))(bv);},D.initInfinite(a.id),br,bs);};D.mapFold=function(bq,br,bs){return C.mapFold(bq,br,C.ofSeq(bs));};D.mapFoldBack=function(bq,br,bs){return C.mapFoldBack(bq,C.ofSeq(br),bs);};D.permute=function(bq,br){return D.delay(function(){return C.permute(bq,C.ofSeq(br));});};D.reduceBack=function(bq,br){return C.reduceBack(bq,C.ofSeq(br));};D.replicate=function(bq,br){bq<0?D.nonNegative():void 0;return D.delay(function(){return D.map(function(){return br;},_6.range(0,bq-1));});};D.rev=function(bq){return D.delay(function(){return C.ofSeq(bq).slice().reverse();});};D.scanBack=function(bq,br,bs){return D.delay(function(){return C.scanBack(bq,C.ofSeq(br),bs);});};D.indexed=function(bq){return D.mapi(function(br,bs){return[br,bs];},bq);};D.sortWith=function(bq,br){return D.delay(function(){var bs;bs=C.ofSeq(br);C.sortInPlaceWith(bq,bs);return bs;});};D.tail=function(bq){return D.skip(1,bq);};bc.CopyTo=function(bq,br,bs){C.blit(br,0,br,bs,C.length(bq));};bc.Contains=function(bq,br){return D.exists(function(bs){return bh.Equals(br,bs);},bq);};bc.Clear=function(bq){bq.splice(0,C.length(bq));};bd.RegexEscape=function(bq){return bq.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bd.SplitWith=function(bq,br){return bq.split(br);};bd.Join=function(bq,br){return br.join(bq);};bd.TrimEndWS=function(bq){return bq.replace(new a.RegExp("\\s+$"),"");};bd.TrimStartWS=function(bq){return bq.replace(new a.RegExp("^\\s+"),"");};bd.Trim=function(bq){return bq.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bd.StartsWith=function(bq,br){return bq.substring(0,br.length)==br;};bd.Substring=function(bq,br,bs){return bq.substr(br,bs);};bd.ReplaceOnce=function(bq,br,bs){return bq.replace(br,bs);};bd.Remove=function(bq,br,bs){return bq.substring(0,br)+bq.substring(br+bs);};bd.PadRightWith=function(bq,br,bs){return br>bq.length?bq+a.Array(br-bq.length+1).join(bo.fromCharCode(bs)):bq;};bd.PadLeftWith=function(bq,br,bs){return br>bq.length?a.Array(br-bq.length+1).join(bo.fromCharCode(bs))+bq:bq;};bd.LastIndexOf=function(bq,br,bs){return bq.lastIndexOf(bo.fromCharCode(br),bs);};bd.IsNullOrWhiteSpace=function(bq){return bq==null||(new a.RegExp("^\\s*$")).test(bq);};bd.IsNullOrEmpty=function(bq){return bq==null||bq=="";};bd.Insert=function(bq,br,bs){return bq.substring(0,br-1)+bs+bq.substring(br);};bd.IndexOf=function(bq,br,bs){return bq.indexOf(bo.fromCharCode(br),bs);};bd.EndsWith=function(bq,br){return bq.substring(bq.length-br.length)==br;};bd.collect=function(bq,br){return C.init(br.length,function(bs){return bq(br.charCodeAt(bs));}).join("");};bd.concat=function(bq,br){return C.ofSeq(br).join(bq);};bd.exists=function(bq,br){return D.exists(bq,bd.protect(br));};bd.forall=function(bq,br){return D.forall(bq,bd.protect(br));};bd.init=function(bq,br){return C.init(bq,br).join("");};bd.iter=function(bq,br){D.iter(bq,bd.protect(br));};bd.iteri=function(bq,br){D.iteri(bq,bd.protect(br));};bd.length=function(bq){return bd.protect(bq).length;};bd.map=function(bq,br){return bd.collect(function(bs){return bo.fromCharCode(bq(bs));},bd.protect(br));};bd.mapi=function(bq,br){return C.ofSeq(D.mapi(function(bs,bt){return bo.fromCharCode(bq(bs,bt));},br)).join("");};bd.replicate=function(bq,br){return bd.init(bq,function(){return br;});};bd.protect=function(bq){return bq===null?"":bq;};bd.SFormat=function(bq,br){return bq.replace(new a.RegExp("{(0|[1-9]\\d*)(?:,(-?[1-9]\\d*|0))?(?::(.*?))?}","g"),function(bs,bt,bu){var bv,bw,bx;bv=bo(C.get(br,+bt));return!bh.Equals(bu,void 0)?(bw=+bu,(bx=bp.abs(bw),bx>bv.length?bw>0?bd.PadLeft(bv,bx):bd.PadRight(bv,bx):bv)):bv;});};bd.Filter=function(bq,br){return C.ofSeq(D.choose(function(bs){return bq(bs)?{$:1,$0:bo.fromCharCode(bs)}:null;},br)).join("");};bd.SplitStrings=function(bq,br,bs){return bd.Split(bq,new a.RegExp(bd.concat("|",C.map(bd.RegexEscape,br))),bs);};bd.SplitChars=function(bq,br,bs){return bd.Split(bq,new a.RegExp("["+bd.RegexEscape(bo.fromCharCode.apply(void 0,br))+"]"),bs);};bd.Split=function(bq,br,bs){return bs===1?C.filter(function(bt){return bt!=="";},bd.SplitWith(bq,br)):bd.SplitWith(bq,br);};bd.TrimEnd=function(bq,br){var bs,bt;if(bh.Equals(br,null)||br.length==0)return bd.TrimEndWS(bq);else{bs=bq.length-1;bt=true;while(bs>=0&&bt)(function(){var bu;bu=bq.charCodeAt(bs);return C.exists(function(bv){return bu===bv;},br)?void(bs=bs-1):void(bt=false);}());return bd.Substring(bq,0,bs+1);}};bd.TrimStart=function(bq,br){var bs,bt;if(bh.Equals(br,null)||br.length==0)return bd.TrimStartWS(bq);else{bs=0;bt=true;while(bs<bq.length&&bt)(function(){var bu;bu=bq.charCodeAt(bs);return C.exists(function(bv){return bu===bv;},br)?void(bs=bs+1):void(bt=false);}());return bq.substring(bs);}};bd.ToCharArrayRange=function(bq,br,bs){return C.init(bs,function(bt){return bq.charCodeAt(br+bt);});};bd.ToCharArray=function(bq){return C.init(bq.length,function(br){return bq.charCodeAt(br);});};bd.ReplaceChar=function(bq,br,bs){return bd.Replace(bq,bo.fromCharCode(br),bo.fromCharCode(bs));};bd.Replace=function(bq,br,bs){function bt(bu){var bv,bw,bx;bv=bu.indexOf(br);return bv!==-1?(bw=bd.ReplaceOnce(bu,br,bs),(bx=bv+bs.length,bd.Substring(bw,0,bv+bs.length)+bt(bw.substring(bx)))):bu;}return bt(bq);};bd.PadRight=function(bq,br){return bd.PadRightWith(bq,br,32);};bd.PadLeft=function(bq,br){return bd.PadLeftWith(bq,br,32);};bd.CopyTo=function(bq,br,bs,bt,bu){C.blit(bd.ToCharArray(bq),br,bs,bt,bu);};bd.Compare=function(bq,br){return bh.Compare(bq,br);};be=b.Task=bk.Class({Execute:function(){this.action();},Start:function(){var bq;bq=this;bh.Equals(this.status,0)?(this.status=2,t.scheduler().Fork(function(){var br;bq.status=3;try{bq.Execute();bq.status=5;}catch(bs){bs instanceof S&&(bh.Equals(bs.ct,bq.token)&&(br=bs,true))?(bn.log("Task cancellation caught:",br),bq.exc=new W.New$3([br]),bq.status=6):(bn.log("Task error caught:",bs),bq.exc=new W.New$3([bs]),bq.status=7);}bq.RunContinuations();})):_6.InvalidOp("Task not in initial state");},StartContinuation:function(){var bq;bq=this;bh.Equals(this.status,1)?(this.status=2,t.scheduler().Fork(function(){if(bh.Equals(bq.status,2)){bq.status=3;try{bq.Execute();bq.status=5;}catch(br){bq.exc=new W.New$3([br]);bq.status=7;}bq.RunContinuations();}})):void 0;},ContinueWith:function(bq,br){var bs,bt;bs=this;bt=new bf.New(function(){return bq(bs);},br,1,null,void 0);this.get_IsCompleted()?bt.StartContinuation():this.continuations.push(bt);return bt;},ContinueWith$1:function(bq,br){var bs,bt;bs=this;bt=new be.New$2(function(){return bq(bs);},br,1,null);this.get_IsCompleted()?bt.StartContinuation():this.continuations.push(bt);return bt;},ContinueWith$2:function(bq){return this.ContinueWith$1(bq,t.noneCT());},RunContinuations:function(){var bq,br,bs;bq=this.continuations;for(br=0,bs=bq.length-1;br<=bs;br++)C.get(bq,br).StartContinuation();},OnCompleted:function(bq){if(this.get_IsCompleted())bq();else{bh.Equals(this.get_Status(),0)?this.Start():void 0;this.ContinueWith$2(function(){return bq();});}},get_Status:function(){return this.status;},get_IsFaulted:function(){return bh.Equals(this.status,7);},get_IsCompleted:function(){return bh.Equals(this.status,5)||bh.Equals(this.status,7)||bh.Equals(this.status,6);},get_IsCanceled:function(){return bh.Equals(this.status,6);},get_Exception:function(){return this.exc;}},null,be);be.WhenAll=function(bq){var br,bs,bt,bu,bv,bw;br=C.length(bq);bs=[0];bt=new a.Array(br);bu=new bg.New();for(bv=0,bw=br-1;bv<=bw;bv++)(function(bx){C.get(bq,bv).ContinueWith$2(function(by){return by.get_IsFaulted()?void bu.TrySetException$1(by.get_Exception()):by.get_IsCanceled()?void bu.TrySetCanceled$1():(bs[0]++,bt[bx]=by.get_Result(),bs[0]===br?bu.SetResult(bt):null);});}(bv));return bu.get_Task();};be.WhenAll$1=function(bq){var br,bs,bt,bu,bv;br=C.length(bq);bs=[0];bt=new bg.New();for(bu=0,bv=br-1;bu<=bv;bu++)C.get(bq,bu).ContinueWith$2(function(bw){return bw.get_IsFaulted()?void bt.TrySetException$1(bw.get_Exception()):bw.get_IsCanceled()?void bt.TrySetCanceled$1():(bs[0]++,bs[0]===br?void bt.TrySetResult():null);});return bt.get_Task();};be.WhenAny=function(bq){var br,bs,bt;br=new bg.New();for(bs=0,bt=bq.length-1;bs<=bt;bs++)C.get(bq,bs).ContinueWith(function(bu){br.TrySetResult(bu);},t.noneCT());return br.get_Task();};be.WhenAny$1=function(bq){var br,bs,bt;br=new bg.New();for(bs=0,bt=bq.length-1;bs<=bt;bs++)C.get(bq,bs).ContinueWith$2(function(bu){br.TrySetResult(bu);});return br.get_Task();};be.Delay=function(bq,br){return t.StartAsTask(t.Sleep(bq),{$:1,$0:br});};be.Delay$1=function(bq){return t.StartAsTask(t.Sleep(bq),null);};be.Run=function(bq,br){var bs;bs=bq();return br.c?be.FromCanceled(br):(bh.Equals(bs.get_Status(),0)?bs.Start():void 0,bs);};be.Run$1=function(bq,br){var bs;bs=new bf.New(bq,br,0,null,void 0);bs.Start();return bs;};be.Run$2=function(bq,br){var bs;bs=bq();return br.c?be.FromCanceled$1(br):(bh.Equals(bs.get_Status(),0)?bs.Start():void 0,bs);};be.Run$3=function(bq,br){var bs;bs=new be.New$2(bq,br,0,null);bs.Start();return bs;};be.FromResult=function(bq){return new bf.New(null,t.noneCT(),5,null,bq);};be.FromException=function(bq){return new bf.New(null,t.noneCT(),7,new W.New$3([bq]),null);};be.FromException$1=function(bq){return new be.New$2(null,t.noneCT(),7,new W.New$3([bq]));};be.FromCanceled=function(bq){return new bf.New(null,bq,6,null,null);};be.FromCanceled$1=function(bq){return new be.New$2(null,bq,6,null);};be.New=bk.Ctor(function(bq,br){be.New$2.call(this,bq,br,0,null);},be);be.New$1=bk.Ctor(function(bq){be.New$2.call(this,bq,t.noneCT(),0,null);},be);be.New$2=bk.Ctor(function(bq,br,bs,bt){this.action=bq;this.token=br;this.status=bs;this.continuations=[];this.exc=bt;},be);bf=b.Task1=bk.Class({get_Result:function(){return this.result;},Execute:function(){this.result=this.func();}},be,bf);bf.New=bk.Ctor(function(bq,br,bs,bt,bu){be.New$2.call(this,null,br,bs,bt);this.func=bq;this.result=bu;},bf);bg=b.TaskCompletionSource=bk.Class({TrySetResult:function(bq){return!this.task.get_IsCompleted()&&(this.task.status=5,this.task.result=bq,this.task.RunContinuations(),true);},TrySetException:function(bq){return this.TrySetException$1(new W.New$2(bq));},TrySetException$1:function(bq){return!this.task.get_IsCompleted()&&(this.task.status=7,this.task.exc=new W.New$3([bq]),this.task.RunContinuations(),true);},TrySetCanceled:function(bq){return!this.task.get_IsCompleted()&&(this.task.status=6,this.task.RunContinuations(),true);},TrySetCanceled$1:function(){return!this.task.get_IsCompleted()&&(this.task.status=6,this.task.RunContinuations(),true);},SetResult:function(bq){this.task.get_IsCompleted()?_6.FailWith("Task already completed."):void 0;this.task.status=5;this.task.result=bq;this.task.RunContinuations();},SetException:function(bq){this.SetException$1(new W.New$2(bq));},SetException$1:function(bq){this.task.get_IsCompleted()?_6.FailWith("Task already completed."):void 0;this.task.status=7;this.task.exc=new W.New$3([bq]);this.task.RunContinuations();},SetCanceled:function(){this.task.get_IsCompleted()?_6.FailWith("Task already completed."):void 0;this.task.status=6;this.task.RunContinuations();},get_Task:function(){return this.task;}},null,bg);bg.New=bk.Ctor(function(){this.task=new bf.New(null,t.noneCT(),1,null,void 0);},bg);bh.Hash=function(bq){var br;br=typeof bq;return br=="function"?0:br=="boolean"?bq?1:0:br=="number"?bq:br=="string"?bh.hashString(bq):br=="object"?bq==null?0:bq instanceof a.Array?bh.hashArray(bq):bh.hashObject(bq):0;};bh.hashObject=function(bq){var br,bs;if("GetHashCode"in bq)return bq.GetHashCode();else{br=[0];for(var bt in bq)if(function(bu){br[0]=bh.hashMix(bh.hashMix(br[0],bh.hashString(bu)),bh.Hash(bq[bu]));return false;}(bt))break;return br[0];}};bh.hashString=function(bq){var br,bs,bt;if(bq===null)return 0;else{br=5381;for(bs=0,bt=bq.length-1;bs<=bt;bs++)br=bh.hashMix(br,bq.charCodeAt(bs)<<0);return br;}};bh.hashArray=function(bq){var br,bs,bt;br=-34948909;for(bs=0,bt=C.length(bq)-1;bs<=bt;bs++)br=bh.hashMix(br,bh.Hash(C.get(bq,bs)));return br;};bh.hashMix=function(bq,br){return(bq<<5)+bq+br;};bh.Equals=function(bq,br){var bs,bt,bu,bv;if(bq===br)return true;else{bs=typeof bq;if(bs=="object"){if(bq===null||bq===void 0||br===null||br===void 0)return false;else if("Equals"in bq)return bq.Equals(br);else if(bq instanceof a.Array&&br instanceof a.Array)return bh.arrayEquals(bq,br);else if(bq instanceof bm&&br instanceof bm)return bh.dateEquals(bq,br);else{bt=[true];for(var bw in bq)if(function(bx){bt[0]=!bq.hasOwnProperty(bx)||br.hasOwnProperty(bx)&&bh.Equals(bq[bx],br[bx]);return!bt[0];}(bw))break;if(bt[0]){for(var bx in br)if(function(by){bt[0]=!br.hasOwnProperty(by)||bq.hasOwnProperty(by);return!bt[0];}(bx))break;}return bt[0];}}else return bs=="function"&&("$Func"in bq?bq.$Func===br.$Func&&bq.$Target===br.$Target:"$Invokes"in bq&&"$Invokes"in br&&bh.arrayEquals(bq.$Invokes,br.$Invokes));}};bh.dateEquals=function(bq,br){return bq.getTime()===br.getTime();};bh.arrayEquals=function(bq,br){var bs,bt;if(C.length(bq)===C.length(br)){bs=true;bt=0;while(bs&&bt<C.length(bq)){!bh.Equals(C.get(bq,bt),C.get(br,bt))?bs=false:void 0;bt=bt+1;}return bs;}else return false;};bh.Compare=function(bq,br){var bs,bt,bu,bv,bw,bx;if(bq===br)return 0;else{bt=typeof bq;switch(bt=="function"?1:bt=="boolean"?2:bt=="number"?2:bt=="string"?2:bt=="object"?3:0){case 0:return typeof br=="undefined"?0:-1;break;case 1:return _6.FailWith("Cannot compare function values.");break;case 2:return bq<br?-1:1;break;case 3:if(bq===null)bu=-1;else if(br===null)bu=1;else if("CompareTo"in bq)bu=bq.CompareTo(br);else if("CompareTo0"in bq)bu=bq.CompareTo0(br);else if(bq instanceof a.Array&&br instanceof a.Array)bu=bh.compareArrays(bq,br);else if(bq instanceof bm&&br instanceof bm)bu=bh.compareDates(bq,br);else{bv=[0];for(var by in bq)if(function(bz){return!bq.hasOwnProperty(bz)?false:!br.hasOwnProperty(bz)?(bv[0]=1,true):(bv[0]=bh.Compare(bq[bz],br[bz]),bv[0]!==0);}(by))break;if(bv[0]===0){for(var bz in br)if(function(bA){return!br.hasOwnProperty(bA)?false:!bq.hasOwnProperty(bA)&&(bv[0]=-1,true);}(bz))break;}bu=bv[0];}return bu;break;}}};bh.compareDates=function(bq,br){return bh.Compare(bq.getTime(),br.getTime());};bh.compareArrays=function(bq,br){var bs,bt;if(C.length(bq)<C.length(br))return -1;else if(C.length(bq)>C.length(br))return 1;else{bs=0;bt=0;while(bs===0&&bt<C.length(bq)){bs=bh.Compare(C.get(bq,bt),C.get(br,bt));bt=bt+1;}return bs;}};bi.TryParse=function(bq,br,bs,bt){var bu,bv;bu=+bq;bv=bu===bu-bu%1&&bu>=br&&bu<=bs;bv?bt.set(bu):void 0;return bv;};bi.Parse=function(bq,br,bs,bt){var bu;bu=+bq;if(bu!==bu-bu%1)throw new Y.New$1("Input string was not in a correct format.");else if(bu<br||bu>bs)throw new Z.New$1(bt);else return bu;};bi.ParseByte=function(bq){return bi.Parse(bq,0,255,"Value was either too large or too small for an unsigned byte.");};bi.TryParseByte=function(bq,br){return bi.TryParse(bq,0,255,br);};bi.ParseSByte=function(bq){return bi.Parse(bq,-128,127,"Value was either too large or too small for a signed byte.");};bi.TryParseSByte=function(bq,br){return bi.TryParse(bq,-128,127,br);};bi.ParseInt16=function(bq){return bi.Parse(bq,-32768,32767,"Value was either too large or too small for an Int16.");};bi.TryParseInt16=function(bq,br){return bi.TryParse(bq,-32768,32767,br);};bi.ParseInt32=function(bq){return bi.Parse(bq,-2147483648,2147483647,"Value was either too large or too small for an Int32.");};bi.TryParseInt32=function(bq,br){return bi.TryParse(bq,-2147483648,2147483647,br);};bi.ParseUInt16=function(bq){return bi.Parse(bq,0,65535,"Value was either too large or too small for an UInt16.");};bi.TryParseUInt16=function(bq,br){return bi.TryParse(bq,0,65535,br);};bi.ParseUInt32=function(bq){return bi.Parse(bq,0,4294967295,"Value was either too large or too small for an UInt32.");};bi.TryParseUInt32=function(bq,br){return bi.TryParse(bq,0,4294967295,br);};bi.ParseInt64=function(bq){return bi.Parse(bq,-9223372036854775808,9223372036854775807,"Value was either too large or too small for an Int64.");};bi.TryParseInt64=function(bq,br){return bi.TryParse(bq,-9223372036854775808,9223372036854775807,br);};bi.ParseUInt64=function(bq){return bi.Parse(bq,0,18446744073709551615,"Value was either too large or too small for an UInt64.");};bi.TryParseUInt64=function(bq,br){return bi.TryParse(bq,0,18446744073709551615,br);};}());
