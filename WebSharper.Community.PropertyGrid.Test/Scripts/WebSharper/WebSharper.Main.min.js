(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx;a=window;b=a.WebSharper=a.WebSharper||{};c=b.JavaScript=b.JavaScript||{};d=c.JSModule=c.JSModule||{};e=b.Collections=b.Collections||{};f=e.EqualityComparer=e.EqualityComparer||{};g=b.MacroModule=b.MacroModule||{};h=g.EquatableEqualityComparer=g.EquatableEqualityComparer||{};i=g.BaseEqualityComparer=g.BaseEqualityComparer||{};j=e.Comparer=e.Comparer||{};k=g.ComparableComparer=g.ComparableComparer||{};l=g.BaseComparer=g.BaseComparer||{};m=c.Pervasives=c.Pervasives||{};n=b.Json=b.Json||{};o=b.Remoting=b.Remoting||{};p=o.XhrProvider=o.XhrProvider||{};q=o.AjaxRemotingProvider=o.AjaxRemotingProvider||{};r=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};s=b.PrintfHelpers=b.PrintfHelpers||{};t=b.Concurrency=b.Concurrency||{};u=t.Scheduler=t.Scheduler||{};v=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};w=b.Enumerator=b.Enumerator||{};x=w.T=w.T||{};y=b.HtmlContentExtensions=b.HtmlContentExtensions||{};z=y.SingleNode=y.SingleNode||{};A=b.Activator=b.Activator||{};B=c.Optional=c.Optional||{};C=b.Arrays=b.Arrays||{};D=b.Seq=b.Seq||{};E=b.List=b.List||{};F=b.Arrays2D=b.Arrays2D||{};G=b.CancellationTokenSource=b.CancellationTokenSource||{};H=b.Char=b.Char||{};I=b.Util=b.Util||{};J=b.DateUtil=b.DateUtil||{};K=b.DateTimeOffset=b.DateTimeOffset||{};L=b.Delegate=b.Delegate||{};M=e.DictionaryUtil=e.DictionaryUtil||{};N=e.KeyCollection=e.KeyCollection||{};O=e.ValueCollection=e.ValueCollection||{};P=e.Dictionary=e.Dictionary||{};Q=b.MatchFailureException=b.MatchFailureException||{};R=b.IndexOutOfRangeException=b.IndexOutOfRangeException||{};S=b.OperationCanceledException=b.OperationCanceledException||{};T=b.ArgumentException=b.ArgumentException||{};U=b.ArgumentOutOfRangeException=b.ArgumentOutOfRangeException||{};V=b.InvalidOperationException=b.InvalidOperationException||{};W=b.AggregateException=b.AggregateException||{};X=b.TimeoutException=b.TimeoutException||{};Y=b.FormatException=b.FormatException||{};Z=b.OverflowException=b.OverflowException||{};_0=b.Guid=b.Guid||{};_1=e.HashSetUtil=e.HashSetUtil||{};_2=e.HashSet=e.HashSet||{};_3=b.Lazy=b.Lazy||{};_4=E.T=E.T||{};_5=b.Nullable=b.Nullable||{};_6=b.Ref=b.Ref||{};_7=b.Operators=b.Operators||{};_8=b.Slice=b.Slice||{};_9=b.Option=b.Option||{};_=b.Queue=b.Queue||{};$=b.Random=b.Random||{};ba=a.Microsoft=a.Microsoft||{};bb=ba.FSharp=ba.FSharp||{};bc=bb.Core=bb.Core||{};bd=bc.FSharpRef=bc.FSharpRef||{};be=b.Result=b.Result||{};bf=b.Control=b.Control||{};bg=b.Stack=b.Stack||{};bh=b.Strings=b.Strings||{};bi=b.Task=b.Task||{};bj=b.Task1=b.Task1||{};bk=b.TaskCompletionSource=b.TaskCompletionSource||{};bl=b.Unchecked=b.Unchecked||{};bm=b.N=b.N||{};bn=b.Byte=b.Byte||{};bo=b.SByte=b.SByte||{};bp=b.Int16=b.Int16||{};bq=b.Int32=b.Int32||{};br=b.UInt16=b.UInt16||{};bs=b.UInt32=b.UInt32||{};bt=b.Int64=b.Int64||{};bu=b.UInt64=b.UInt64||{};bv=a.IntelliFactory;bw=bv&&bv.Runtime;bx=a.String;d.LogMore=function(by){if(a.console)a.console.log.apply(a.console,by);};d.Log=function(by){if(a.console)a.console.log(by);};d.GetFieldValues=function(by){var bz,bA;bz=[];for(var bB in by)bz.push(by[bB]);return bz;};d.GetFieldNames=function(by){var bz,bA;bz=[];for(var bB in by)bz.push(bB);return bz;};d.GetFields=function(by){var bz,bA;bz=[];for(var bB in by)bz.push([bB,by[bB]]);return bz;};f=e.EqualityComparer=bw.Class({CGetHashCode0:function(by){return this.GetHashCode(by);},CEquals0:function(by,bz){return this.Equals(by,bz);},CGetHashCode:function(by){return this.GetHashCode(by);},CEquals:function(by,bz){return this.Equals(by,bz);}},null,f);f.New=bw.Ctor(function(){},f);h=g.EquatableEqualityComparer=bw.Class({GetHashCode:function(by){return bl.Hash(by);},Equals:function(by,bz){return by.EEquals(bz);}},f,h);h.New=bw.Ctor(function(){f.New.call(this);},h);i=g.BaseEqualityComparer=bw.Class({GetHashCode:function(by){return bl.Hash(by);},Equals:function(by,bz){return bl.Equals(by,bz);}},f,i);i.New=bw.Ctor(function(){f.New.call(this);},i);j=e.Comparer=bw.Class({Compare0:function(by,bz){return this.Compare$1(by,bz);},Compare:function(by,bz){return this.Compare$1(by,bz);}},null,j);j.New=bw.Ctor(function(){},j);k=g.ComparableComparer=bw.Class({Compare$1:function(by,bz){return by.CompareTo(bz);}},j,k);k.New=bw.Ctor(function(){j.New.call(this);},k);l=g.BaseComparer=bw.Class({Compare$1:function(by,bz){return _7.Compare(by,bz);}},j,l);l.New=bw.Ctor(function(){j.New.call(this);},l);m.GetJS=function(by,bz){var bA,bB;bA=by;bB=w.Get(bz);try{while(bB.MoveNext())bA=bA[bB.Current()];}finally{if("Dispose"in bB)bB.Dispose();}return bA;};m.NewFromSeq=function(by){var bz,bA,bB;bz={};bA=w.Get(by);try{while(bA.MoveNext()){bB=bA.Current();bz[bB[0]]=bB[1];}}finally{if("Dispose"in bA)bA.Dispose();}return bz;};n.Activate=function(by){var bA,bB,bC;function bz(bD){var bE,bF,bG,bH,bI,bJ;if(bl.Equals(bD,null))return bD;else if(typeof bD=="object"){if(bD instanceof a.Array)return n.shallowMap(bz,bD);else{bF=n.shallowMap(bz,bD.$V);bG=bD.$T;if(bl.Equals(typeof bG,"undefined"))return bF;else{bH=C.get(bA,bG);if(bH===a.WebSharper.List.T)return E.ofArray(bF);else{bI=(bE=C.get(bA,bG),new bE());for(var bK in bF)if(function(bL){bI[bL]=bF[bL];return false;}(bK))break;return bI;}}}}else return bD;}bA=by.$TYPES;for(bB=0,bC=C.length(bA)-1;bB<=bC;bB++)C.set(bA,bB,n.lookup(C.get(bA,bB)));return bz(by.$DATA);};n.shallowMap=function(by,bz){var bA,bB;if(bz instanceof a.Array)return C.map(by,bz);else if(typeof bz=="object"){bA={};for(var bC in bz)if(function(bD){bA[bD]=by(bz[bD]);return false;}(bC))break;return bA;}else return bz;};n.lookup=function(by){var bz,bA,bB,bC,bD;bB=C.length(by);bz=a;bA=0;while(bA<bB){bC=C.get(by,bA);bD=bz[bC];!bl.Equals(typeof bD,void 0)?(bz=bD,bA=bA+1):_7.FailWith("Invalid server reply. Failed to find type: "+bC);}return bz;};p=o.XhrProvider=bw.Class({Sync:function(by,bz,bA){var bB;bB=[null];o.ajax(false,by,bz,bA,function(bC){bB[0]=bC;},function(bC){throw bC;},function(){o.ajax(false,by,bz,bA,function(bC){bB[0]=bC;},function(bC){throw bC;},void 0);});return bB[0];},Async:function(by,bz,bA,bB,bC){o.ajax(true,by,bz,bA,bB,bC,function(){o.ajax(true,by,bz,bA,bB,bC,void 0);});}},null,p);p.New=bw.Ctor(function(){},p);q=o.AjaxRemotingProvider=bw.Class({get_EndPoint:function(){return o.EndPoint();},AsyncBase:function(by,bz){var bA;bA=this;return t.Delay(function(){var bB,bC;bB=o.makeHeaders(by);bC=o.makePayload(bz);return t.Bind(t.GetCT(),function(bD){return t.FromContinuations(function(bE,bF,bG){var bH,bI,bJ,bK;bH=[true];bI=(bJ=function(){return bH[0]?(bH[0]=false,bG(new S.New(bD))):null;},t.Register(bD,function(){bJ();}));bK=bA.get_EndPoint();return o.AjaxProvider().Async(bK,bB,bC,function(bL){if(bH[0]){bH[0]=false;bI.Dispose();bE(n.Activate(a.JSON.parse(bL)));}},function(bL){if(bH[0]){bH[0]=false;bI.Dispose();bF(bL);}});});});});},Send:function(by,bz){var bA;bA=this.AsyncBase(by,bz);t.Start(bA,null);},Task:function(by,bz){var bA;bA=this.AsyncBase(by,bz);return t.StartAsTask(bA,null);},Async:function(by,bz){return this.AsyncBase(by,bz);},Sync:function(by,bz){var bA,bB,bC,bD;bA=(bB=this.get_EndPoint(),(bC=o.makeHeaders(by),(bD=o.makePayload(bz),o.AjaxProvider().Sync(bB,bC,bD))));return n.Activate(a.JSON.parse(bA));}},null,q);q.New=bw.Ctor(function(){},q);o.ajax=function(by,bz,bA,bB,bC,bD,bE){var bF,bG,bH;bF=new a.XMLHttpRequest();bG=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");bF.open("POST",bz,by);if(by==true)bF.withCredentials=true;for(var bJ in bA)bF.setRequestHeader(bJ,bA[bJ]);if(bG)bF.setRequestHeader("x-csrftoken",bG);function bI(){var bK;if(bF.status==200)bC(bF.responseText);else if(bE&&bF.status==403&&bF.responseText=="CSRF")bE();else{bK="Response status is not 200: ";bD(new a.Error(bK+bF.status));}}if("onload"in bF)bF.onload=bF.onerror=bF.onabort=bI;else bF.onreadystatechange=function(){if(bF.readyState==4)bI();};bF.send(bB);};o.makePayload=function(by){return a.JSON.stringify(by);};o.makeHeaders=function(by){return{"x-websharper-rpc":by,"content-type":"application/json"};};o.AjaxProvider=function(){r.$cctor();return r.AjaxProvider;};o.set_AjaxProvider=function(by){r.$cctor();r.AjaxProvider=by;};o.UseHttps=function(){var by,bz;try{return!(by=a.window.location.href,bh.StartsWith(by,"https://"))?(o.set_EndPoint((bz=a.window.location.href,bh.Replace(bz,"http://","https://"))),true):false;}catch(bA){return false;}};o.EndPoint=function(){r.$cctor();return r.EndPoint;};o.set_EndPoint=function(by){r.$cctor();r.EndPoint=by;};r.$cctor=bw.Cctor(function(){r.EndPoint="?";r.AjaxProvider=new p.New();r.$cctor=a.ignore;});s.prettyPrint=function(by){var bz,bA,bB,bC,bD;return by===null?"null":(bz=typeof by,bz=="string"?"\""+by+"\"":bz=="object"?by instanceof a.Array?"[|"+(bA=C.map(s.prettyPrint,by),bh.concat("; ",bA))+"|]":(bB=a.String(by),bB==="[object Object]"?"{"+(bC=(bD=function(bE,bF){return bE+" = "+s.prettyPrint(bF);},function(bE){return C.map(function(bF){return bD(bF[0],bF[1]);},bE);}(d.GetFields(by))),bh.concat("; ",bC))+"}":bB):a.String(by));};s.printArray2D=function(by,bz){return bz===null?"null":"[["+bh.concat("][",D.delay(function(){var bA;bA=bz.length?bz[0].length:0;return D.map(function(bB){return bh.concat("; ",D.delay(function(){return D.map(function(bC){return by(C.get2D(bz,bB,bC));},_7.range(0,bA-1));}));},_7.range(0,bz.length-1));}))+"]]";};s.printArray=function(by,bz){var bA;return bz===null?"null":"[|"+(bA=C.map(by,bz),bh.concat("; ",bA))+"|]";};s.printList=function(by,bz){return"["+bh.concat("; ",D.map(by,bz))+"]";};s.padNumLeft=function(by,bz){var bA,bB;bA=C.get(by,0);return((bA===" "?true:bA==="+")?true:bA==="-")?bA+(bB=by.substr(1),bh.PadLeftWith(bB,bz-1,48)):bh.PadLeftWith(by,bz,48);};s.spaceForPos=function(by,bz){return 0<=by?" "+bz:bz;};s.plusForPos=function(by,bz){return 0<=by?"+"+bz:bz;};s.toSafe=function(by){return by==null?"":by;};u=t.Scheduler=bw.Class({tick:function(){var by,bz,bA,bB,bC;bz=this;bA=a.Date.now();by=true;while(by){bB=this.robin.length;bB===0?(this.idle=true,by=false):((this.robin.shift())(),a.Date.now()-bA>40?(bC=a.setTimeout(function(){bz.tick();},0),by=false):void 0);}},Fork:function(by){var bz,bA;bz=this;this.robin.push(by);this.idle?(this.idle=false,bA=a.setTimeout(function(){bz.tick();},0)):void 0;}},null,u);u.New=bw.Ctor(function(){this.idle=true;this.robin=[];},u);t.For=function(by,bz){return t.Using(w.Get(by),function(bA){return t.While(function(){return bA.MoveNext();},t.Delay(function(){return bz(bA.Current());}));});};t.While=function(by,bz){return by()?t.Bind(bz,function(){return t.While(by,bz);}):t.Return();};t.Using=function(by,bz){return t.TryFinally(bz(by),function(){by.Dispose();});};t.TryCancelled=function(by,bz){return function(bA){by({k:function(bB){if(bB.$==2){bz(bB.$0);bA.k(bB);}else bA.k(bB);},ct:bA.ct});};};t.OnCancel=function(by){return function(bz){bz.k({$:0,$0:t.Register(bz.ct,by)});};};t.StartChild=function(by,bz){return function(bA){var bB,bC,bD,bE,bF;bB=[true];bC=[null];bD=[];bE=(bz!=null?bz.$==1:false)?(bF=bz.$0,{$:1,$0:a.setTimeout(function(){var bG;bB[0]=false;bG={$:1,$0:new X.New()};while(bD.length>0)(bD.shift())(bG);},bF)}):null;t.scheduler().Fork(function(){if(!bA.ct.c)by({k:function(bG){var bH;if(bB[0]){bC[0]={$:1,$0:bG};(bE!=null?bE.$==1:false)?(bH=bE.$0,a.clearTimeout(bH)):void 0;while(bD.length>0)(bD.shift())(bG);}},ct:bA.ct});});bA.k({$:0,$0:function(bG){var bH;if(bB[0]){bH=bC[0];bH==null?bD.push(bG.k):bG.k(bH.$0);}else bG.k({$:1,$0:new X.New()});}});};};t.Parallel=function(by){var bz;bz=C.ofSeq(by);return C.length(bz)===0?t.Return([]):function(bA){var bB,bC,bD,bE;bB=bz.length;bC=[bB];bD=new a.Array(bB);bE=function(bF,bG){var bH,bI,bJ,bK,bL;bI=bC[0];switch(bI===0?0:bI===1?bG.$==0?1:(bH=[bI,bG],3):bG.$==0?2:(bH=[bI,bG],3)){case 0:return null;break;case 1:bJ=bG.$0;C.set(bD,bF,bJ);bC[0]=0;return bA.k({$:0,$0:bD});break;case 2:bK=bG.$0;C.set(bD,bF,bK);bC[0]=bI-1;break;case 3:bL=bH[1];bC[0]=0;return bA.k(bL);break;}};C.iteri(function(bF,bG){return t.scheduler().Fork(function(){bG({k:function(bH){return bE(bF,bH);},ct:bA.ct});});},bz);};};t.Sleep=function(by){return function(bz){var bA,bB,bC,bD;function bE(){return a.setTimeout(function(){_3.Force(bB).Dispose();t.scheduler().Fork(function(){bz.k({$:0,$0:null});});},by);}function bF(){return t.Register(bz.ct,function(){var bG;bG=_3.Force(bA);a.clearTimeout(bG);t.scheduler().Fork(function(){t.cancel(bz);});});}bA=_3.Create(bE);bB=_3.Create(bF);bC=_3.Force(bA);bD=_3.Force(bB);};};t.StartAsTask=function(by,bz){var bA;bA=new bk.New();t.StartWithContinuations(by,function(bB){bA.SetResult(bB);},function(bB){bA.SetException$1(bB);},function(){bA.SetCanceled();},bz);return bA.get_Task();};t.AwaitTask1=function(by){return t.FromContinuations(function(bz,bA,bB){var bC;bl.Equals(by.get_Status(),0)?by.Start():void 0;return bC=by.ContinueWith$2(function(bD){return bD.get_IsCanceled()?bB(new S.New(t.noneCT())):bD.get_IsFaulted()?bA(bD.get_Exception()):bz(bD.get_Result());});});};t.AwaitTask=function(by){return t.FromContinuations(function(bz,bA,bB){var bC;bl.Equals(by.get_Status(),0)?by.Start():void 0;return bC=by.ContinueWith$2(function(bD){return bD.get_IsCanceled()?bB(new S.New(t.noneCT())):bD.get_IsFaulted()?bA(bD.get_Exception()):bz();});});};t.AwaitEvent=function(by,bz){return function(bA){var bB,bC,bD,bE;function bF(){return I.subscribeTo(by,function(bH){_3.Force(bB).Dispose();_3.Force(bC).Dispose();t.scheduler().Fork(function(){bA.k({$:0,$0:bH});});});}function bG(){return t.Register(bA.ct,function(){if(bz!=null?bz.$==1:false)bz.$0();else{_3.Force(bB).Dispose();t.scheduler().Fork(function(){t.cancel(bA);});}});}bB=_3.Create(bF);bC=_3.Create(bG);bD=_3.Force(bB);bE=_3.Force(bC);};};t.StartImmediate=function(by,bz){var bA;bA=_7.DefaultArg(bz,(t.defCTS())[0]);!bA.c?by({k:function(bB){if(bB.$==1)t.UncaughtAsyncError(bB.$0);},ct:bA}):void 0;};t.Start=function(by,bz){var bA;bA=_7.DefaultArg(bz,(t.defCTS())[0]);t.scheduler().Fork(function(){if(!bA.c)by({k:function(bB){if(bB.$==1)t.UncaughtAsyncError(bB.$0);},ct:bA});});};t.UncaughtAsyncError=function(by){a.console.log.apply(a.console,["WebSharper: Uncaught asynchronous exception"].concat([by]));};t.StartWithContinuations=function(by,bz,bA,bB,bC){var bD;bD=_7.DefaultArg(bC,(t.defCTS())[0]);!bD.c?by({k:function(bE){if(bE.$==1)bA(bE.$0);else if(bE.$==2)bB(bE.$0);else bz(bE.$0);},ct:bD}):void 0;};t.FromContinuations=function(by){return function(bz){var bA,bB;bA=[false];bB=function(bC){if(bA[0])_7.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bA[0]=true;t.scheduler().Fork(bC);}};by(function(bC){bB(function(){bz.k({$:0,$0:bC});});},function(bC){bB(function(){bz.k({$:1,$0:bC});});},function(bC){bB(function(){bz.k({$:2,$0:bC});});});};};t.GetCT=function(){v.$cctor();return v.GetCT;};t.Catch=function(by){return function(bz){try{by({k:function(bA){if(bA.$==0)bz.k({$:0,$0:{$:0,$0:bA.$0}});else if(bA.$==1)bz.k({$:0,$0:{$:1,$0:bA.$0}});else bz.k(bA);},ct:bz.ct});}catch(bA){bz.k({$:0,$0:{$:1,$0:bA}});}};};t.TryWith=function(by,bz){return function(bA){by({k:function(bB){var bC;if(bB.$==0)bA.k({$:0,$0:bB.$0});else if(bB.$==1){bC=bB.$0;try{(bz(bC))(bA);}catch(bD){bA.k(bB);}}else bA.k(bB);},ct:bA.ct});};};t.TryFinally=function(by,bz){return function(bA){by({k:function(bB){try{bz();bA.k(bB);}catch(bC){bA.k({$:1,$0:bC});}},ct:bA.ct});};};t.Delay=function(by){return function(bz){try{(by(null))(bz);}catch(bA){bz.k({$:1,$0:bA});}};};t.Combine=function(by,bz){return t.Bind(by,function(){return bz;});};t.Bind=function(by,bz){return t.checkCancel(function(bA){by({k:function(bB){var bC;if(bB.$==0){bC=bB.$0;t.scheduler().Fork(function(){try{(bz(bC))(bA);}catch(bD){bA.k({$:1,$0:bD});}});}else t.scheduler().Fork(function(){bA.k(bB);});},ct:bA.ct});});};t.Return=function(by){return function(bz){bz.k({$:0,$0:by});};};t.checkCancel=function(by){return function(bz){if(bz.ct.c)t.cancel(bz);else by(bz);};};t.cancel=function(by){by.k({$:2,$0:new S.New(by.ct)});};t.defCTS=function(){v.$cctor();return v.defCTS;};t.scheduler=function(){v.$cctor();return v.scheduler;};t.Register=function(by,bz){var bA;return by===t.noneCT()?{Dispose:function(){return null;}}:(bA=by.r.push(bz)-1,{Dispose:function(){return C.set(by.r,bA,function(){});}});};t.noneCT=function(){v.$cctor();return v.noneCT;};v.$cctor=bw.Cctor(function(){v.noneCT={c:false,r:[]};v.scheduler=new u.New();v.defCTS=[new G.New()];v.GetCT=function(by){by.k({$:0,$0:by.ct});};v.$cctor=a.ignore;});x=w.T=bw.Class({Dispose:function(){if(this.d)this.d(this);},Current:function(){return this.c;},Current0:function(){return this.c;},MoveNext:function(){return this.n(this);}},null,x);x.New=bw.Ctor(function(by,bz,bA,bB){this.s=by;this.c=bz;this.n=bA;this.d=bB;},x);w.Get0=function(by){return by instanceof a.Array?w.ArrayEnumerator(by):bl.Equals(typeof by,"string")?w.StringEnumerator(by):"GetEnumerator0"in by?by.GetEnumerator0():by.GetEnumerator();};w.Get=function(by){return by instanceof a.Array?w.ArrayEnumerator(by):bl.Equals(typeof by,"string")?w.StringEnumerator(by):by.GetEnumerator();};w.StringEnumerator=function(by){return new x.New(0,null,function(bz){var bA;bA=bz.s;return bA<by.length?(bz.c=by.charCodeAt(bA),bz.s=bA+1,true):false;},void 0);};w.ArrayEnumerator=function(by){return new x.New(0,null,function(bz){var bA;bA=bz.s;return bA<C.length(by)?(bz.c=C.get(by,bA),bz.s=bA+1,true):false;},void 0);};z=y.SingleNode=bw.Class({ReplaceInDom:function(by){var bz;bz=this.node.parentNode.replaceChild(this.node,by);}},null,z);z.New=bw.Ctor(function(by){this.node=by;},z);A.hasDocument=function(){return typeof a.document!=="undefined";};A.Activate=function(){var by,bz;if(A.hasDocument()){by=a.document.getElementById("websharper-data");by?(bz=a.document,a.jQuery(bz)).ready(function(){var bA,bB,bC;bA=by.getAttribute("content");bB=n.Activate(a.JSON.parse(bA));bC=function(bD,bE){var bF;bF=bE.Body();bF.ReplaceInDom(a.document.getElementById(bD));};return function(bD){C.iter(function(bE){return bC(bE[0],bE[1]);},bD);}(d.GetFields(bB));}):void 0;}};B.Undefined={$:0};C.splitInto=function(by,bz){var bA,bB,bC,bD,bE,bF,bG,bH,bI;if(by<=0)_7.FailWith("Count must be positive");bB=C.length(bz);if(bB===0)return[];else{bC=_7.Min(by,bB);bD=C.create(bC,null);bE=bB/bC>>0;bA=0;for(bF=0,bG=bB%bC-1;bF<=bG;bF++){bD[bF]=C.sub(bz,bA,bE+1);bA=bA+bE+1;}for(bH=bB%bC,bI=bC-1;bH<=bI;bH++){bD[bH]=C.sub(bz,bA,bE);bA=bA+bE;}return bD;}};C.contains=function(by,bz){var bA,bB,bC,bD;bA=true;bB=0;bD=C.length(bz);while(bA?bB<bD:false)if(bl.Equals(bz[bB],by))bA=false;else bB=bB+1;return!bA;};C.tryFindBack=function(by,bz){var bA,bB,bC;bA=null;bB=bz.length-1;while(bB>=0?bA==null:false){bC=bz[bB];by(bC)?bA={$:1,$0:bC}:void 0;bB=bB-1;}return bA;};C.tryFindIndexBack=function(by,bz){var bA,bB;bA=null;bB=bz.length-1;while(bB>=0?bA==null:false){by(C.get(bz,bB))?bA={$:1,$0:bB}:void 0;bB=bB-1;}return bA;};C.mapFold=function(by,bz,bA){var bB,bC,bD,bE,bF,bG,bH;bD=(bB=bA.length,new a.Array(bB));bC=bz;for(bE=0,bF=bA.length-1;bE<=bF;bE++){bG=by(bC,bA[bE]);bH=bG[1];bD[bE]=bG[0];bC=bH;}return[bD,bC];};C.mapFoldBack=function(by,bz,bA){var bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK;bE=(bB=bz.length,new a.Array(bB));bC=bA;bF=bz.length;for(bG=1,bH=bF;bG<=bH;bG++){bI=bF-bG;bJ=by(bz[bI],bC);bK=bJ[1];bE[bI]=bJ[0];bC=bK;}return[bE,bC];};C.mapInPlace=function(by,bz){var bA,bB;for(bA=0,bB=bz.length-1;bA<=bB;bA++)bz[bA]=by(bz[bA]);};C.mapiInPlace=function(by,bz){var bA,bB;for(bA=0,bB=bz.length-1;bA<=bB;bA++)bz[bA]=by(bA,bz[bA]);return bz;};C.sortInPlaceByDescending=function(by,bz){var bA,bB;bA=function(bC){return bC[0];};(function(bC){C.mapInPlace(bA,bC);}((bB=C.mapiInPlace(function(bC,bD){return[bD,[by(bD),bC]];},bz),bB.sort(function(bC,bD){return-_7.Compare(bC[1],bD[1]);}))));};D.tryHead=function(by){var bz;bz=w.Get(by);try{return bz.MoveNext()?{$:1,$0:bz.Current()}:null;}finally{if("Dispose"in bz)bz.Dispose();}};D.tryItem=function(by,bz){var bA,bB,bC;if(by<0)return null;else{bA=0;bB=w.Get(bz);try{bC=true;while(bC?bA<=by:false)if(bB.MoveNext())bA=bA+1;else bC=false;return bC?{$:1,$0:bB.Current()}:null;}finally{if("Dispose"in bB)bB.Dispose();}}};D.tryLast=function(by){var bz,bA;bz=w.Get(by);try{if(bz.MoveNext()){while(bz.MoveNext());bA={$:1,$0:bz.Current()};}else bA=null;return bA;}finally{if("Dispose"in bz)bz.Dispose();}};D.chunkBySize=function(by,bz){by<=0?_7.FailWith("Chunk size must be positive"):void 0;return{GetEnumerator:function(){var bA;bA=w.Get(bz);return new x.New(null,null,function(bB){var bC,bD;if(bA.MoveNext()){bC=[bA.Current()];while(C.length(bC)<by?bA.MoveNext():false){bD=bC.push(bA.Current());}bB.c=bC;return true;}else return false;},function(){bA.Dispose();});}};};C.countBy=function(by,bz){var bA,bB,bC,bD,bE,bF,bG;bB=new P.New$5();bC=a.Array.prototype.constructor.apply(a.Array,[]);for(bD=0,bE=C.length(bz)-1;bD<=bE;bD++){bF=by(bz[bD]);bB.ContainsKey(bF)?bB.set_Item(bF,bB.get_Item(bF)+1):(bG=bC.push(bF),bB.Add(bF,1));}bA=function(bH){return[bH,bB.get_Item(bH)];};(function(bH){C.mapInPlace(bA,bH);}(bC));return bC;};D.except=function(by,bz){return{GetEnumerator:function(){var bA,bB;bA=w.Get(bz);bB=new _2.New$2(by);return new x.New(null,null,function(bC){var bD,bE;if(bA.MoveNext()){bD=bA.Current();bE=bB.Add(bD);while(!bE?bA.MoveNext():false){bD=bA.Current();bE=bB.Add(bD);}return bE?(bC.c=bD,true):false;}else return false;},function(){bA.Dispose();});}};};E.skip=function(by,bz){var bA,bB,bC;bA=bz;for(bB=1,bC=by;bB<=bC;bB++)if(bA.$==0)_7.FailWith("Input list too short.");else bA=bA.$1;return bA;};C.groupBy=function(by,bz){var bA,bB,bC,bD,bE,bF,bG,bH,bI;bB=new P.New$5();bC=a.Array.prototype.constructor.apply(a.Array,[]);for(bD=0,bE=C.length(bz)-1;bD<=bE;bD++){bF=bz[bD];bG=by(bF);bB.ContainsKey(bG)?bH=bB.get_Item(bG).push(bF):(bI=bC.push(bG),bB.Add(bG,[bF]));}bA=function(bJ){return[bJ,bB.get_Item(bJ)];};(function(bJ){C.mapInPlace(bA,bJ);}(bC));return bC;};D.insufficient=function(){return _7.FailWith("The input sequence has an insufficient number of elements.");};D.last=function(by){var bz,bA;bz=w.Get(by);try{if(!bz.MoveNext())bA=D.insufficient();else{while(bz.MoveNext());bA=bz.Current();}return bA;}finally{if("Dispose"in bz)bz.Dispose();}};D.contains=function(by,bz){var bA,bB;bA=w.Get(bz);try{bB=false;while(!bB?bA.MoveNext():false)bB=bl.Equals(bA.Current(),by);return bB;}finally{if("Dispose"in bA)bA.Dispose();}};E.skipWhile=function(by,bz){var bA;bA=bz;while(!(bA.$==0)?by(E.head(bA)):false)bA=E.tail(bA);return bA;};D.nonNegative=function(){return _7.FailWith("The input must be non-negative.");};C.checkBounds=function(by,bz){if(bz<0?true:bz>=by.length)_7.FailWith("Index was outside the bounds of the array.");};C.checkBounds2D=function(by,bz,bA){if(((bz<0?true:bA<0)?true:bz>=by.length)?true:bA>=(by.length?by[0].length:0))throw new R.New();};C.checkRange=function(by,bz,bA){if((bA<0?true:bz<0)?true:by.length<bz+bA)_7.FailWith("Index was outside the bounds of the array.");};C.set=function(by,bz,bA){C.checkBounds(by,bz);by[bz]=bA;};C.get=function(by,bz){C.checkBounds(by,bz);return by[bz];};C.sub=function(by,bz,bA){C.checkRange(by,bz,bA);return by.slice(bz,bz+bA);};C.setSub=function(by,bz,bA,bB){var bC,bD;for(bC=0,bD=bA-1;bC<=bD;bC++)C.set(by,bz+bC,C.get(bB,bC));};C.get2D=function(by,bz,bA){C.checkBounds2D(by,bz,bA);return by[bz][bA];};C.set2D=function(by,bz,bA,bB){C.checkBounds2D(by,bz,bA);by[bz][bA]=bB;};C.zeroCreate2D=function(by,bz){var bA;bA=C.init(by,function(){return C.create(bz,null);});bA.dims=2;return bA;};C.sub2D=function(by,bz,bA,bB,bC){var bD,bE,bF,bG,bH,bI,bJ;bD=bB<0?0:bB;bE=bC<0?0:bC;bF=C.zeroCreate2D(bD,bE);for(bG=0,bH=bD-1;bG<=bH;bG++){for(bI=0,bJ=bE-1;bI<=bJ;bI++)C.set2D(bF,bG,bI,C.get2D(by,bz+bG,bA+bI));}return bF;};C.setSub2D=function(by,bz,bA,bB,bC,bD){var bE,bF,bG,bH;for(bE=0,bF=bB-1;bE<=bF;bE++){for(bG=0,bH=bC-1;bG<=bH;bG++)C.set2D(by,bz+bE,bA+bG,C.get2D(bD,bE,bG));}};C.length=function(by){return by.dims===2?by.length*by.length:by.length;};b.checkThis=function(by){return bl.Equals(by,null)?_7.InvalidOp("The initialization of an object or value resulted in an object or value being accessed recursively before it was fully initialized."):by;};C.reverse=function(by,bz,bA){var bB;bB=C.sub(by,bz,bA).slice().reverse();C.blit(bB,0,by,bz,C.length(bB));};C.sum=function(by){var bz,bA;bz=0;bA=0;for(;bA<by.length;bA++)bz+=by[bA];return bz;};C.sumBy=function(by,bz){var bA,bB;bA=0;bB=0;for(;bB<bz.length;bB++)bA+=by(bz[bB]);return bA;};C.average=function(by){var bz,bA;return(bz=C.sum(by),a.Number(bz))/(bA=by.length,a.Number(bA));};C.averageBy=function(by,bz){var bA,bB;return(bA=C.sumBy(by,bz),a.Number(bA))/(bB=bz.length,a.Number(bB));};C.blit=function(by,bz,bA,bB,bC){var bD,bE;C.checkRange(by,bz,bC);C.checkRange(bA,bB,bC);for(bD=0,bE=bC-1;bD<=bE;bD++)bA[bB+bD]=by[bz+bD];};C.choose=function(by,bz){var bA,bB,bC,bD;bA=[];for(bB=0,bC=bz.length-1;bB<=bC;bB++){bD=by(bz[bB]);bD==null?void 0:bA.push(bD.$0);}return bA;};C.collect=function(by,bz){var bA;bA=C.map(by,bz);return a.Array.prototype.concat.apply([],bA);};C.concat=function(by){var bz;bz=C.ofSeq(by);return a.Array.prototype.concat.apply([],bz);};C.create=function(by,bz){var bA,bB,bC;bA=new a.Array(by);for(bB=0,bC=by-1;bB<=bC;bB++)bA[bB]=bz;return bA;};C.exists=function(by,bz){var bA,bB,bC,bD;bA=false;bB=0;bD=C.length(bz);while(!bA?bB<bD:false)if(by(bz[bB]))bA=true;else bB=bB+1;return bA;};C.exists2=function(by,bz,bA){var bB,bC,bD,bE;C.checkLength(bz,bA);bB=false;bC=0;bE=C.length(bz);while(!bB?bC<bE:false)if(by(bz[bC],bA[bC]))bB=true;else bC=bC+1;return bB;};C.fill=function(by,bz,bA,bB){var bC,bD;C.checkRange(by,bz,bA);for(bC=bz,bD=bz+bA-1;bC<=bD;bC++)by[bC]=bB;};C.filter=function(by,bz){var bA,bB,bC;bA=[];for(bB=0,bC=bz.length-1;bB<=bC;bB++)if(by(bz[bB]))bA.push(bz[bB]);return bA;};C.find=function(by,bz){var bA;bA=C.tryFind(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};C.findIndex=function(by,bz){var bA;bA=C.tryFindIndex(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};C.fold=function(by,bz,bA){var bB,bC,bD;bB=bz;for(bC=0,bD=bA.length-1;bC<=bD;bC++)bB=by(bB,bA[bC]);return bB;};C.fold2=function(by,bz,bA,bB){var bC,bD,bE;C.checkLength(bA,bB);bC=bz;for(bD=0,bE=bA.length-1;bD<=bE;bD++)bC=by(bC,bA[bD],bB[bD]);return bC;};C.foldBack=function(by,bz,bA){var bB,bC,bD,bE,bF;bB=bA;bD=bz.length;for(bE=1,bF=bD;bE<=bF;bE++)bB=by(bz[bD-bE],bB);return bB;};C.foldBack2=function(by,bz,bA,bB){var bC,bD,bE,bF,bG;C.checkLength(bz,bA);bE=bz.length;bD=bB;for(bF=1,bG=bE;bF<=bG;bF++)bD=by(bz[bE-bF],bA[bE-bF],bD);return bD;};C.forall=function(by,bz){var bA,bB,bC,bD;bA=true;bB=0;bD=C.length(bz);while(bA?bB<bD:false)if(by(bz[bB]))bB=bB+1;else bA=false;return bA;};C.forall2=function(by,bz,bA){var bB,bC,bD,bE;C.checkLength(bz,bA);bB=true;bC=0;bE=C.length(bz);while(bB?bC<bE:false)if(by(bz[bC],bA[bC]))bC=bC+1;else bB=false;return bB;};C.init=function(by,bz){var bA,bB,bC;by<0?_7.FailWith("Negative size given."):null;bA=new a.Array(by);for(bB=0,bC=by-1;bB<=bC;bB++)bA[bB]=bz(bB);return bA;};C.iter=function(by,bz){var bA,bB;for(bA=0,bB=bz.length-1;bA<=bB;bA++)by(bz[bA]);};C.iter2=function(by,bz,bA){var bB,bC;C.checkLength(bz,bA);for(bB=0,bC=bz.length-1;bB<=bC;bB++)by(bz[bB],bA[bB]);};C.iteri=function(by,bz){var bA,bB;for(bA=0,bB=bz.length-1;bA<=bB;bA++)by(bA,bz[bA]);};C.iteri2=function(by,bz,bA){var bB,bC;C.checkLength(bz,bA);for(bB=0,bC=bz.length-1;bB<=bC;bB++)by(bB,bz[bB],bA[bB]);};C.map=function(by,bz){var bA,bB,bC,bD;bB=(bA=bz.length,new a.Array(bA));for(bC=0,bD=bz.length-1;bC<=bD;bC++)bB[bC]=by(bz[bC]);return bB;};C.map2=function(by,bz,bA){var bB,bC,bD,bE;C.checkLength(bz,bA);bC=(bB=bA.length,new a.Array(bB));for(bD=0,bE=bA.length-1;bD<=bE;bD++)bC[bD]=by(bz[bD],bA[bD]);return bC;};C.mapi=function(by,bz){var bA,bB,bC,bD;bB=(bA=bz.length,new a.Array(bA));for(bC=0,bD=bz.length-1;bC<=bD;bC++)bB[bC]=by(bC,bz[bC]);return bB;};C.mapi2=function(by,bz,bA){var bB,bC,bD,bE;C.checkLength(bz,bA);bC=(bB=bz.length,new a.Array(bB));for(bD=0,bE=bz.length-1;bD<=bE;bD++)bC[bD]=by(bD,bz[bD],bA[bD]);return bC;};C.max=function(by){return C.reduce(_7.Max,by);};C.maxBy=function(by,bz){return C.reduce(function(bA,bB){return bl.Compare(by(bA),by(bB))===1?bA:bB;},bz);};C.min=function(by){return C.reduce(_7.Min,by);};C.minBy=function(by,bz){return C.reduce(function(bA,bB){return bl.Compare(by(bA),by(bB))===-1?bA:bB;},bz);};C.ofList=function(by){var bz,bA;bA=[];bz=by;while(!(bz.$==0)){bA.push(E.head(bz));bz=E.tail(bz);}return bA;};C.ofSeq=function(by){var bz,bA;if(by instanceof a.Array)return by.slice();else if(by instanceof _4)return C.ofList(by);else{bz=[];bA=w.Get(by);try{while(bA.MoveNext())bz.push(bA.Current());return bz;}finally{if("Dispose"in bA)bA.Dispose();}}};C.partition=function(by,bz){var bA,bB,bC,bD;bA=[];bB=[];for(bC=0,bD=bz.length-1;bC<=bD;bC++)if(by(bz[bC]))bA.push(bz[bC]);else bB.push(bz[bC]);return[bA,bB];};C.permute=function(by,bz){var bA,bB,bC,bD;bB=(bA=bz.length,new a.Array(bA));for(bC=0,bD=bz.length-1;bC<=bD;bC++)bB[by(bC)]=bz[bC];return bB;};C.pick=function(by,bz){var bA;bA=C.tryPick(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};C.reduce=function(by,bz){var bA,bB,bC;C.nonEmpty(bz);bA=bz[0];for(bB=1,bC=bz.length-1;bB<=bC;bB++)bA=by(bA,bz[bB]);return bA;};C.reduceBack=function(by,bz){var bA,bB,bC,bD,bE;C.nonEmpty(bz);bC=bz.length;bB=bz[bC-1];for(bD=2,bE=bC;bD<=bE;bD++)bB=by(bz[bC-bD],bB);return bB;};C.scan=function(by,bz,bA){var bB,bC,bD,bE;bC=(bB=1+bA.length,new a.Array(bB));bC[0]=bz;for(bD=0,bE=bA.length-1;bD<=bE;bD++)bC[bD+1]=by(bC[bD],bA[bD]);return bC;};C.scanBack=function(by,bz,bA){var bB,bC,bD,bE;bB=bz.length;bC=new a.Array(1+bB);bC[bB]=bA;for(bD=0,bE=bB-1;bD<=bE;bD++)bC[bB-bD-1]=by(bz[bB-bD-1],bC[bB-bD]);return bC;};C.sort=function(by){var bz,bA;bz=function(bB){return bB[0];};return function(bB){return C.map(bz,bB);}((bA=C.mapi(function(bB,bC){return[bC,bB];},by),bA.sort(_7.Compare)));};C.sortBy=function(by,bz){var bA,bB;bA=function(bC){return bC[0];};return function(bC){return C.map(bA,bC);}((bB=C.mapi(function(bC,bD){return[bD,[by(bD),bC]];},bz),bB.sort(function(bC,bD){return _7.Compare(bC[1],bD[1]);})));};C.sortInPlace=function(by){var bz,bA;bz=function(bB){return bB[0];};(function(bB){C.mapInPlace(bz,bB);}((bA=C.mapiInPlace(function(bB,bC){return[bC,bB];},by),bA.sort(_7.Compare))));};C.sortInPlaceBy=function(by,bz){var bA,bB;bA=function(bC){return bC[0];};(function(bC){C.mapInPlace(bA,bC);}((bB=C.mapiInPlace(function(bC,bD){return[bD,[by(bD),bC]];},bz),bB.sort(function(bC,bD){return _7.Compare(bC[1],bD[1]);}))));};C.sortInPlaceWith=function(by,bz){var bA;bA=bz.sort(by);};C.sortWith=function(by,bz){return bz.slice().sort(by);};C.sortByDescending=function(by,bz){var bA,bB;bA=function(bC){return bC[0];};return function(bC){return C.map(bA,bC);}((bB=C.mapi(function(bC,bD){return[bD,[by(bD),bC]];},bz),bB.sort(function(bC,bD){return-_7.Compare(bC[1],bD[1]);})));};C.sortDescending=function(by){var bz,bA;bz=function(bB){return bB[0];};return function(bB){return C.map(bz,bB);}((bA=C.mapi(function(bB,bC){return[bC,bB];},by),bA.sort(function(bB,bC){return-_7.Compare(bB,bC);})));};C.tryFind=function(by,bz){var bA,bB;bA=null;bB=0;while(bB<bz.length?bA==null:false){by(bz[bB])?bA={$:1,$0:bz[bB]}:void 0;bB=bB+1;}return bA;};C.tryFindIndex=function(by,bz){var bA,bB;bA=null;bB=0;while(bB<bz.length?bA==null:false){by(bz[bB])?bA={$:1,$0:bB}:void 0;bB=bB+1;}return bA;};C.tryHead=function(by){return by.length===0?null:{$:1,$0:by[0]};};C.tryItem=function(by,bz){return(bz.length<=by?true:by<0)?null:{$:1,$0:bz[by]};};C.tryLast=function(by){var bz;bz=by.length;return bz===0?null:{$:1,$0:by[bz-1]};};C.tryPick=function(by,bz){var bA,bB,bC;bA=null;bB=0;while(bB<bz.length?bA==null:false){bC=by(bz[bB]);(bC!=null?bC.$==1:false)?bA=bC:void 0;bB=bB+1;}return bA;};C.unzip=function(by){var bz,bA,bB,bC,bD,bE;bz=[];bA=[];for(bB=0,bC=by.length-1;bB<=bC;bB++){bD=by[bB];bE=bD[1];bz.push(bD[0]);bA.push(bE);}return[bz,bA];};C.unzip3=function(by){var bz,bA,bB,bC,bD,bE,bF,bG;bz=[];bA=[];bB=[];for(bC=0,bD=by.length-1;bC<=bD;bC++){bE=by[bC];bF=bE[2];bG=bE[1];bz.push(bE[0]);bA.push(bG);bB.push(bF);}return[bz,bA,bB];};C.zip=function(by,bz){var bA,bB,bC;C.checkLength(by,bz);bA=C.create(by.length,null);for(bB=0,bC=by.length-1;bB<=bC;bB++)bA[bB]=[by[bB],bz[bB]];return bA;};C.zip3=function(by,bz,bA){var bB,bC,bD;C.checkLength(by,bz);C.checkLength(bz,bA);bB=C.create(by.length,null);for(bC=0,bD=by.length-1;bC<=bD;bC++)bB[bC]=[by[bC],bz[bC],bA[bC]];return bB;};C.chunkBySize=function(by,bz){return C.ofSeq(D.chunkBySize(by,bz));};C.compareWith=function(by,bz,bA){return D.compareWith(by,bz,bA);};C.distinct=function(by){return C.ofSeq(D.distinct(by));};C.distinctBy=function(by,bz){return C.ofSeq(D.distinctBy(by,bz));};C.except=function(by,bz){return C.ofSeq(D.except(by,bz));};C.findBack=function(by,bz){var bA;bA=C.tryFindBack(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};C.findIndexBack=function(by,bz){var bA;bA=C.tryFindIndexBack(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};C.head=function(by){C.nonEmpty(by);return by[0];};C.last=function(by){C.nonEmpty(by);return by[by.length-1];};C.map3=function(by,bz,bA,bB){var bC,bD,bE,bF;C.checkLength(bz,bA);C.checkLength(bz,bB);bD=(bC=bB.length,new a.Array(bC));for(bE=0,bF=bB.length-1;bE<=bF;bE++)bD[bE]=by(bz[bE],bA[bE],bB[bE]);return bD;};C.pairwise=function(by){return C.ofSeq(D.pairwise(by));};C.replicate=function(by,bz){return C.create(by,bz);};C.indexed=function(by){return C.mapi(function(bz,bA){return[bz,bA];},by);};C.skip=function(by,bz){return by<0?D.nonNegative():by>bz.length?D.insufficient():bz.slice(by);};C.skipWhile=function(by,bz){var bA,bB;bB=bz.length;bA=0;while(bA<bB?by(bz[bA]):false)bA=bA+1;return bz.slice(bA);};C.tail=function(by){return C.skip(1,by);};C.take=function(by,bz){return by<0?D.nonNegative():by>bz.length?D.insufficient():bz.slice(0,by);};C.takeWhile=function(by,bz){var bA,bB;bB=bz.length;bA=0;while(bA<bB?by(bz[bA]):false)bA=bA+1;return bz.slice(0,bA);};C.exactlyOne=function(by){return by.length===1?by[0]:_7.FailWith("The input does not have precisely one element.");};C.unfold=function(by,bz){return C.ofSeq(D.unfold(by,bz));};C.windowed=function(by,bz){return C.ofSeq(D.windowed(by,bz));};C.splitAt=function(by,bz){return[C.take(by,bz),C.skip(by,bz)];};C.nonEmpty=function(by){if(by.length===0)_7.FailWith("The input array was empty.");};C.checkLength=function(by,bz){if(by.length!==bz.length)_7.FailWith("The arrays have different lengths.");};F.init=function(by,bz,bA){var bB,bC,bD,bE,bF;bB=C.zeroCreate2D(by,bz);for(bC=0,bD=by-1;bC<=bD;bC++){for(bE=0,bF=bz-1;bE<=bF;bE++)C.set2D(bB,bC,bE,bA(bC,bE));}return bB;};F.iter=function(by,bz){var bA,bB,bC,bD,bE,bF;bA=bz.length;bB=bz.length?bz[0].length:0;for(bC=0,bD=bA-1;bC<=bD;bC++){for(bE=0,bF=bB-1;bE<=bF;bE++)by(C.get2D(bz,bC,bE));}};F.iteri=function(by,bz){var bA,bB,bC,bD,bE,bF;bA=bz.length;bB=bz.length?bz[0].length:0;for(bC=0,bD=bA-1;bC<=bD;bC++){for(bE=0,bF=bB-1;bE<=bF;bE++)by(bC,bE,C.get2D(bz,bC,bE));}};F.map=function(by,bz){return F.init(bz.length,bz.length?bz[0].length:0,function(bA,bB){return by(C.get2D(bz,bA,bB));});};F.mapi=function(by,bz){return F.init(bz.length,bz.length?bz[0].length:0,function(bA,bB){return by(bA,bB,C.get2D(bz,bA,bB));});};F.copy=function(by){return F.init(by.length,by.length?by[0].length:0,function(bz,bA){return C.get2D(by,bz,bA);});};G=b.CancellationTokenSource=bw.Class({CancelAfter:function(by){var bz,bA,bB;bz=this;!this.c?(bA=this.pending,bA==null?void 0:(bB=bA.$0,a.clearTimeout(bB)),this.pending={$:1,$0:a.setTimeout(function(){bz.Cancel$1();},by)}):void 0;},Cancel:function(by){var bz;if(!by)this.Cancel$1();else if(!this.c){this.c=true;bz=function(bA){bA();};(function(bA){C.iter(bz,bA);}(this.r));}},Cancel$1:function(){var by,bz;if(!this.c){this.c=true;bz=(by=function(bA){try{bA();return null;}catch(bB){return{$:1,$0:bB};}},function(bA){return C.choose(by,bA);}(this.r));if(C.length(bz)>0)throw new W.New$3(bz);else void 0;}}},null,G);G.CreateLinkedTokenSource=function(by,bz){return G.CreateLinkedTokenSource$1([by,bz]);};G.CreateLinkedTokenSource$1=function(by){var bz,bA;bz=new G.New();bA=function(bB){var bC,bD;bC=(bD=function(){return bz.Cancel$1();},t.Register(bB,function(){bD();}));};(function(bB){C.iter(bA,bB);}(by));return bz;};G.New=bw.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},G);H.IsWhiteSpace=function(by){return a.String.fromCharCode(by).match(new a.RegExp("\\s"))!==null;};H.Parse=function(by){return by.length===1?by.charCodeAt(0):_7.FailWith("String must be exactly one character long.");};H.IsUpper=function(by){return by>=65?by<=90:false;};H.IsLower=function(by){return by>=97?by<=122:false;};H.IsLetterOrDigit=function(by){return H.IsLetter(by)?true:H.IsDigit(by);};H.IsLetter=function(by){return(by>=65?by<=90:false)?true:by>=97?by<=122:false;};H.IsDigit=function(by){return by>=48?by<=57:false;};H.IsControl=function(by){return(by>=0?by<=31:false)?true:by>=128?by<=159:false;};H.GetNumericValue=function(by){return(by>=48?by<=57:false)?a.Number(by)-a.Number(48):-1;};I.addListener=function(by,bz){var bA;bA=by.Subscribe(I.observer(bz));};I.subscribeTo=function(by,bz){return by.Subscribe(I.observer(bz));};I.observer=function(by){return{OnNext:by,OnError:function(){return null;},OnCompleted:function(){return null;}};};J.LongTime=function(by){return(new a.Date(by)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});};J.ShortTime=function(by){return(new a.Date(by)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});};J.LongDate=function(by){return(new a.Date(by)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});};J.Parse=function(by){var bz;bz=J.TryParse(by);return(bz!=null?bz.$==1:false)?bz.$0:_7.FailWith("Failed to parse date string.");};J.TryParse=function(by){var bz;bz=a.Date.parse(by);return a.isNaN(bz)?null:{$:1,$0:bz};};J.AddMonths=function(by,bz){var bA,bB,bC,bD,bE,bF,bG,bH;bA=new a.Date(by);return(bB=bA.getFullYear(),(bC=bA.getMonth()+bz,(bD=bA.getDate(),(bE=bA.getHours(),(bF=bA.getMinutes(),(bG=bA.getSeconds(),(bH=bA.getMilliseconds(),new a.Date(bB,bC,bD,bE,bF,bG,bH)))))))).getTime();};J.AddYears=function(by,bz){var bA,bB,bC,bD,bE,bF,bG,bH;bA=new a.Date(by);return(bB=bA.getFullYear()+bz,(bC=bA.getMonth(),(bD=bA.getDate(),(bE=bA.getHours(),(bF=bA.getMinutes(),(bG=bA.getSeconds(),(bH=bA.getMilliseconds(),new a.Date(bB,bC,bD,bE,bF,bG,bH)))))))).getTime();};J.TimePortion=function(by){var bz;bz=new a.Date(by);return(((24*0+bz.getHours())*60+bz.getMinutes())*60+bz.getSeconds())*1000+bz.getMilliseconds();};J.DatePortion=function(by){var bz,bA,bB,bC;bz=new a.Date(by);return(bA=bz.getFullYear(),(bB=bz.getMonth(),(bC=bz.getDate(),new a.Date(bA,bB,bC)))).getTime();};K=b.DateTimeOffset=bw.Class({ToUniversalTime:function(){return new K.New(this.d,0);},ToLocalTime:function(){return new K.New(this.d,(new a.Date()).getTimezoneOffset());}},null,K);K.New=bw.Ctor(function(by,bz){this.d=by;},K);L.InvocationList=function(by){return by.$Invokes||[by];};L.RemoveAll=function(by,bz){var bA,bB;bA=L.InvocationList(by);C.length(L.InvocationList(bz))>1?_7.FailWith("TODO: Remove multicast delegates"):void 0;return bw.CreateDelegate((bB=function(bC){return!bl.Equals(bC,bz);},function(bC){return C.filter(bB,bC);}(bA)));};L.Remove=function(by,bz){var bA,bB,bC,bD,bE,bF,bG,bH;bC=L.InvocationList(by);if(C.length(L.InvocationList(bz))>1)_7.FailWith("TODO: Remove multicast delegates");bD=[];bB=false;for(bE=C.length(bC)-1,bF=0;bE>=bF;bE--){bG=C.get(bC,bE);(!bB?bw.DelegateEqual(bG,bz):false)?bB=true:bH=bD.unshift(bG);}return bw.CreateDelegate(bD);};L.DelegateTarget=function(by){var bz;return!by?null:"$Target"in by?by.$Target:"$Invokes"in by?(bz=by.$Invokes,(C.get(bz,C.length(bz)-1))[1]):null;};M.getHashCode=function(by,bz){return by.CGetHashCode(bz);};M.equals=function(by){return function(bz,bA){return by.CEquals(bz,bA);};};M.alreadyAdded=function(){return _7.FailWith("An item with the same key has already been added.");};M.notPresent=function(){return _7.FailWith("The given key was not present in the dictionary.");};N=e.KeyCollection=bw.Class({GetEnumerator$1:function(){var by;return w.Get((by=function(bz){return bz.K;},function(bz){return D.map(by,bz);}(this.d)));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,N);N.New=bw.Ctor(function(by){this.d=by;},N);O=e.ValueCollection=bw.Class({GetEnumerator$1:function(){var by;return w.Get((by=function(bz){return bz.V;},function(bz){return D.map(by,bz);}(this.d)));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,O);O.New=bw.Ctor(function(by){this.d=by;},O);P=e.Dictionary=bw.Class({remove:function(by){var bz,bA,bB,bC,bD;bz=this;bA=this.hash(by);bB=this.data[bA];return bB?(bC=(bD=function(bE){return!bz.equals.apply(null,[(_7.KeyValue(bE))[0],by]);},function(bE){return C.filter(bD,bE);}(bB)),C.length(bC)<bB.length?(this.count=this.count-1,this.data[bA]=bC,true):false):false;},add:function(by,bz){var bA,bB,bC,bD,bE;bA=this;bB=this.hash(by);bC=this.data[bB];bC?((bD=function(bF){return bA.equals.apply(null,[(_7.KeyValue(bF))[0],by]);},function(bF){return C.exists(bD,bF);}(bC))?M.alreadyAdded():void 0,this.count=this.count+1,bE=bC.push({K:by,V:bz})):(this.count=this.count+1,this.data[bB]=new a.Array({K:by,V:bz}));},set:function(by,bz){var bA,bB,bC,bD,bE,bF;bA=this;bB=this.hash(by);bC=this.data[bB];bC?(bD=(bE=function(bG){return bA.equals.apply(null,[(_7.KeyValue(bG))[0],by]);},function(bG){return C.tryFindIndex(bE,bG);}(bC)),bD==null?(this.count=this.count+1,bF=bC.push({K:by,V:bz})):bC[bD.$0]={K:by,V:bz}):(this.count=this.count+1,this.data[bB]=new a.Array({K:by,V:bz}));},get:function(by){var bz,bA,bB,bC;bz=this;bA=this.hash(by);bB=this.data[bA];return bB?(bC=function(bD){var bE,bF;bE=_7.KeyValue(bD);bF=bE[1];return bz.equals.apply(null,[bE[0],by])?{$:1,$0:bF}:null;},function(bD){return C.pick(bC,bD);}(bB)):M.notPresent();},get_Keys:function(){return new N.New(this);},get_Values:function(){return new O.New(this);},TryGetValue:function(by,bz){var bA,bB,bC,bD,bE;bA=this;bB=this.hash(by);bC=this.data[bB];return bC?(bD=(bE=function(bF){var bG,bH;bG=_7.KeyValue(bF);bH=bG[1];return bA.equals.apply(null,[bG[0],by])?{$:1,$0:bH}:null;},function(bF){return C.tryPick(bE,bF);}(bC)),(bD!=null?bD.$==1:false)?(bz.set(bD.$0),true):false):false;},Remove:function(by){return this.remove(by);},GetEnumerator$1:function(){return w.Get0(this);},set_Item:function(by,bz){this.set(by,bz);},get_Item:function(by){return this.get(by);},ContainsKey:function(by){var bz,bA,bB,bC;bz=this;bA=this.hash(by);bB=this.data[bA];return bB?(bC=function(bD){return bz.equals.apply(null,[(_7.KeyValue(bD))[0],by]);},function(bD){return C.exists(bC,bD);}(bB)):false;},Clear:function(){this.data=a.Array.prototype.constructor.apply(a.Array,[]);this.count=0;},Add:function(by,bz){this.add(by,bz);},GetEnumerator:function(){return w.Get0(this);},GetEnumerator0:function(){var by;by=d.GetFieldValues(this.data);return w.Get0(C.concat(by));}},null,P);P.New=bw.Ctor(function(by,bz){P.New$6.call(this,by,M.equals(bz),function(bA){return M.getHashCode(bz,bA);});},P);P.New$1=bw.Ctor(function(by){P.New$6.call(this,by,bl.Equals,bl.Hash);},P);P.New$2=bw.Ctor(function(by,bz){P.New$3.call(this,bz);},P);P.New$3=bw.Ctor(function(by){P.New$6.call(this,[],M.equals(by),function(bz){return M.getHashCode(by,bz);});},P);P.New$4=bw.Ctor(function(by){P.New$5.call(this);},P);P.New$5=bw.Ctor(function(){P.New$6.call(this,[],bl.Equals,bl.Hash);},P);P.New$6=bw.Ctor(function(by,bz,bA){var bB,bC;this.equals=bz;this.hash=bA;this.count=0;this.data=[];bB=w.Get(by);try{while(bB.MoveNext()){bC=bB.Current();this.set(bC.K,bC.V);}}finally{if("Dispose"in bB)bB.Dispose();}},P);Q=b.MatchFailureException=bw.Class({},null,Q);Q.New=bw.Ctor(function(by,bz,bA){this.message=by+" at "+a.String(bz)+":"+a.String(bA);},Q);R=b.IndexOutOfRangeException=bw.Class({},null,R);R.New=bw.Ctor(function(){R.New$1.call(this,"Index was outside the bounds of the array.");},R);R.New$1=bw.Ctor(function(by){this.message=by;},R);S=b.OperationCanceledException=bw.Class({},null,S);S.New=bw.Ctor(function(by){S.New$1.call(this,"The operation was canceled.",null,by);},S);S.New$1=bw.Ctor(function(by,bz,bA){this.message=by;this.inner=bz;this.ct=bA;},S);T=b.ArgumentException=bw.Class({},null,T);T.New=bw.Ctor(function(by,bz){T.New$2.call(this,bz+"\nParameter name: "+by);},T);T.New$1=bw.Ctor(function(){T.New$2.call(this,"Value does not fall within the expected range.");},T);T.New$2=bw.Ctor(function(by){this.message=by;},T);U=b.ArgumentOutOfRangeException=bw.Class({},null,U);U.New=bw.Ctor(function(){U.New$1.call(this,"Specified argument was out of the range of valid values.");},U);U.New$1=bw.Ctor(function(by){this.message=by;},U);V=b.InvalidOperationException=bw.Class({},null,V);V.New=bw.Ctor(function(){V.New$1.call(this,"Operation is not valid due to the current state of the object.");},V);V.New$1=bw.Ctor(function(by){this.message=by;},V);W=b.AggregateException=bw.Class({},null,W);W.New=bw.Ctor(function(by,bz){W.New$4.call(this,by,[bz]);},W);W.New$1=bw.Ctor(function(by,bz){W.New$4.call(this,by,C.ofSeq(bz));},W);W.New$2=bw.Ctor(function(by){W.New$4.call(this,"One or more errors occurred.",C.ofSeq(by));},W);W.New$3=bw.Ctor(function(by){W.New$4.call(this,"One or more errors occurred.",by);},W);W.New$4=bw.Ctor(function(by,bz){this.message=by;this.innerExceptions=bz;},W);X=b.TimeoutException=bw.Class({},null,X);X.New=bw.Ctor(function(){X.New$1.call(this,"The operation has timed out.");},X);X.New$1=bw.Ctor(function(by){this.message=by;},X);Y=b.FormatException=bw.Class({},null,Y);Y.New=bw.Ctor(function(){Y.New$1.call(this,"One of the identified items was in an invalid format.");},Y);Y.New$1=bw.Ctor(function(by){this.message=by;},Y);Z=b.OverflowException=bw.Class({},null,Z);Z.New=bw.Ctor(function(){Z.New$1.call(this,"Arithmetic operation resulted in an overflow.");},Z);Z.New$1=bw.Ctor(function(by){this.message=by;},Z);C.create2D=function(by){var bz;bz=C.ofSeq(D.map(C.ofSeq,by));bz.dims=2;return bz;};_0.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(by){var bz,bA;bz=a.Math.random()*16|0;bA=by=="x"?bz:bz&3|8;return bA.toString(16);});};_1.concat=function(by){var bz,bA;bz=[];for(var bB in by)bz.push.apply(bz,by[bB]);return bz;};_2=e.HashSet=bw.Class({add:function(by){var bz,bA,bB;bz=this.hash(by);bA=this.data[bz];return bA==null?(this.data[bz]=[by],this.count=this.count+1,true):this.arrContains(by,bA)?false:(bB=bA.push(by),this.count=this.count+1,true);},arrRemove:function(by,bz){var bA,bB,bC,bD,bE;bA=true;bB=0;bD=bz.length;while(bA?bB<bD:false)if(this.equals.apply(null,[bz[bB],by])){bE=bz.splice.apply(bz,[bB,1].concat([]));bA=false;}else bB=bB+1;return!bA;},arrContains:function(by,bz){var bA,bB,bC,bD;bA=true;bB=0;bD=bz.length;while(bA?bB<bD:false)if(this.equals.apply(null,[bz[bB],by]))bA=false;else bB=bB+1;return!bA;},UnionWith:function(by){var bz,bA;bz=w.Get(by);try{while(bz.MoveNext()){bA=this.Add(bz.Current());}}finally{if("Dispose"in bz)bz.Dispose();}},SymmetricExceptWith:function(by){var bz,bA,bB,bC;bz=w.Get(by);try{while(bz.MoveNext()){bA=bz.Current();this.Contains(bA)?bB=this.Remove(bA):bC=this.Add(bA);}}finally{if("Dispose"in bz)bz.Dispose();}},SetEquals:function(by){var bz;bz=new _2.New$4(by,this.equals,this.hash);return this.get_Count()===bz.get_Count()?this.IsSupersetOf(bz):false;},RemoveWhere:function(by){var bz,bA,bB,bC,bD;bA=_1.concat(this.data);bz=0;for(bB=0,bC=bA.length-1;bB<=bC;bB++){bD=bA[bB];by(bD)?this.Remove(bD)?bz=bz+1:void 0:void 0;}return bz;},Remove:function(by){var bz;bz=this.data[this.hash(by)];return bz==null?false:this.arrRemove(by,bz)?(this.count=this.count-1,true):false;},Overlaps:function(by){var bz,bA;bz=this;bA=function(bB){return bz.Contains(bB);};return function(bB){return D.exists(bA,bB);}(by);},IsSupersetOf:function(by){var bz,bA;bz=this;bA=function(bB){return bz.Contains(bB);};return function(bB){return D.forall(bA,bB);}(by);},IsSubsetOf:function(by){var bz,bA;bz=new _2.New$4(by,this.equals,this.hash);bA=function(bB){return bz.Contains(bB);};return function(bB){return C.forall(bA,bB);}(_1.concat(this.data));},IsProperSupersetOf:function(by){var bz;bz=C.ofSeq(by);return this.count>C.length(bz)?this.IsSupersetOf(bz):false;},IsProperSubsetOf:function(by){var bz;bz=C.ofSeq(by);return this.count<C.length(bz)?this.IsSubsetOf(bz):false;},IntersectWith:function(by){var bz,bA,bB,bC,bD,bE;bz=new _2.New$4(by,this.equals,this.hash);bA=_1.concat(this.data);for(bB=0,bC=bA.length-1;bB<=bC;bB++){bD=bA[bB];!bz.Contains(bD)?bE=this.Remove(bD):void 0;}},ExceptWith:function(by){var bz,bA;bz=w.Get(by);try{while(bz.MoveNext()){bA=this.Remove(bz.Current());}}finally{if("Dispose"in bz)bz.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(by){var bz,bA,bB,bC;bz=0;bA=_1.concat(this.data);for(bB=0,bC=bA.length-1;bB<=bC;bB++)C.set(by,bB,bA[bB]);},Contains:function(by){var bz;bz=this.data[this.hash(by)];return bz==null?false:this.arrContains(by,bz);},Clear:function(){this.data=a.Array.prototype.constructor.apply(a.Array,[]);this.count=0;},Add:function(by){return this.add(by);},GetEnumerator:function(){return w.Get(_1.concat(this.data));},GetEnumerator0:function(){return w.Get(_1.concat(this.data));}},null,_2);_2.New=bw.Ctor(function(by,bz){_2.New$4.call(this,by,M.equals(bz),function(bA){return M.getHashCode(bz,bA);});},_2);_2.New$1=bw.Ctor(function(by){_2.New$4.call(this,[],M.equals(by),function(bz){return M.getHashCode(by,bz);});},_2);_2.New$2=bw.Ctor(function(by){_2.New$4.call(this,by,bl.Equals,bl.Hash);},_2);_2.New$3=bw.Ctor(function(){_2.New$4.call(this,[],bl.Equals,bl.Hash);},_2);_2.New$4=bw.Ctor(function(by,bz,bA){var bB,bC;this.equals=bz;this.hash=bA;this.data=a.Array.prototype.constructor.apply(a.Array,[]);this.count=0;bB=w.Get(by);try{while(bB.MoveNext()){bC=this.add(bB.Current());}}finally{if("Dispose"in bB)bB.Dispose();}},_2);_3.Force=function(by){return by.f();};_3.CreateFromValue=function(by){return{c:true,v:by,f:_3.cachedLazy};};_3.Create=function(by){return{c:false,v:by,f:_3.forceLazy};};_3.forceLazy=function(){var by;by=this.v();this.c=true;this.v=by;this.f=_3.cachedLazy;return by;};_3.cachedLazy=function(){return this.v;};_4=E.T=bw.Class({GetSlice:function(by,bz){var bA,bB,bC,bD,bE,bF;return(by!=null?by.$==1:false)?(bz!=null?bz.$==1:false)?(bA=by.$0,(bB=bz.$0,E.ofSeq((bC=bB-bA+1,function(bG){return D.take(bC,bG);}(E.skip(bA,this)))))):(bD=by.$0,E.skip(bD,this)):(bz!=null?bz.$==1:false)?(bE=bz.$0,E.ofSeq((bF=bE+1,function(bG){return D.take(bF,bG);}(this)))):this;},get_Item:function(by){return D.nth(by,this);},get_Length:function(){return E.length(this);},GetEnumerator:function(){return new x.New(this,null,function(by){var bz,bA;bz=by.s;return bz.$==0?false:(bA=bz.$1,(by.c=bz.$0,by.s=bA,true));},void 0);},GetEnumerator0:function(){return w.Get(this);}},null,_4);_4.Empty=new _4({$:0});E.append=function(by,bz){var bA,bB,bC,bD,bE;if(by.$==0)return bz;else if(bz.$==0)return by;else{bD=new _4({$:1});bA=bD;bB=by;bC=true;while(bC){bA.$0=bB.$0;bB=bB.$1;bB.$==0?bC=false:bA=(bE=new _4({$:1}),bA.$1=bE,bE);}(function(){}(void(bA.$1=bz)));return bD;}};E.choose=function(by,bz){return E.ofSeq(D.choose(by,bz));};E.collect=function(by,bz){return E.ofSeq(D.collect(by,bz));};E.concat=function(by){return E.ofSeq(D.concat(by));};E.exists=function(by,bz){var bA,bB;bA=false;bB=bz;while(!bA?bB.$==1:false){bA=by(bB.$0);bB=bB.$1;}return bA;};E.exists2=function(by,bz,bA){var bB,bC,bD;bB=false;bC=bz;bD=bA;while((!bB?bC.$==1:false)?bD.$==1:false){bB=by(bC.$0,bD.$0);bC=bC.$1;bD=bD.$1;}(!bB?bC.$==1?true:bD.$==1:false)?E.badLengths():void 0;return bB;};E.filter=function(by,bz){return E.ofSeq(D.filter(by,bz));};E.fold2=function(by,bz,bA,bB){return C.fold2(by,bz,C.ofList(bA),C.ofList(bB));};E.foldBack=function(by,bz,bA){return C.foldBack(by,C.ofList(bz),bA);};E.foldBack2=function(by,bz,bA,bB){return C.foldBack2(by,C.ofList(bz),C.ofList(bA),bB);};E.forAll=function(by,bz){var bA,bB;bA=true;bB=bz;while(bA?bB.$==1:false){bA=by(bB.$0);bB=bB.$1;}return bA;};E.forall2=function(by,bz,bA){var bB,bC,bD;bB=true;bC=bz;bD=bA;while((bB?bC.$==1:false)?bD.$==1:false){bB=by(bC.$0,bD.$0);bC=bC.$1;bD=bD.$1;}(bB?bC.$==1?true:bD.$==1:false)?E.badLengths():void 0;return bB;};E.head=function(by){return by.$==1?by.$0:E.listEmpty();};E.init=function(by,bz){return E.ofArray(C.init(by,bz));};E.iter=function(by,bz){var bA;bA=bz;while(bA.$==1){by(E.head(bA));bA=E.tail(bA);}};E.iter2=function(by,bz,bA){var bB,bC;bB=bz;bC=bA;while(bB.$==1){bC.$==0?E.badLengths():void 0;by(E.head(bB),E.head(bC));bB=E.tail(bB);bC=E.tail(bC);}bC.$==1?E.badLengths():void 0;};E.iteri=function(by,bz){var bA,bB;bA=bz;bB=0;while(bA.$==1){by(bB,E.head(bA));bA=E.tail(bA);bB=bB+1;}};E.iteri2=function(by,bz,bA){var bB,bC,bD;bB=bz;bC=bA;bD=0;while(bB.$==1){bC.$==0?E.badLengths():void 0;by(bD,E.head(bB),E.head(bC));bB=E.tail(bB);bC=E.tail(bC);bD=bD+1;}bC.$==1?E.badLengths():void 0;};E.length=function(by){var bz,bA;bz=by;bA=0;while(bz.$==1){bz=E.tail(bz);bA=bA+1;}return bA;};E.map=function(by,bz){var bA,bB,bC,bD,bE;if(bz.$==0)return bz;else{bD=new _4({$:1});bA=bD;bB=bz;bC=true;while(bC){bA.$0=by(bB.$0);bB=bB.$1;bB.$==0?bC=false:bA=(bE=new _4({$:1}),bA.$1=bE,bE);}bA.$1=_4.Empty;return bD;}};E.map2=function(by,bz,bA){var bB,bC,bD,bE,bF,bG;bB=bz.$==1?bA.$==1:false;if(!bB)return(bz.$==1?true:bA.$==1)?E.badLengths():bz;else{bF=new _4({$:1});bC=bF;bD=bz;bE=bA;while(bB){bC.$0=by(bD.$0,bE.$0);bD=bD.$1;bE=bE.$1;(bD.$==1?bE.$==1:false)?bC=(bG=new _4({$:1}),bC.$1=bG,bG):bB=false;}if(bD.$==1?true:bE.$==1)E.badLengths();bC.$1=_4.Empty;return bF;}};E.map3=function(by,bz,bA,bB){var bC,bD,bE,bF,bG,bH,bI;bC=(bz.$==1?bA.$==1:false)?bB.$==1:false;if(!bC)return((bz.$==1?true:bA.$==1)?true:bB.$==1)?E.badLengths():bz;else{bH=new _4({$:1});bD=bH;bE=bz;bF=bA;bG=bB;while(bC){bD.$0=by(bE.$0,bF.$0,bG.$0);bE=bE.$1;bF=bF.$1;bG=bG.$1;((bE.$==1?bF.$==1:false)?bG.$==1:false)?bD=(bI=new _4({$:1}),bD.$1=bI,bI):bC=false;}if((bE.$==1?true:bF.$==1)?true:bG.$==1)E.badLengths();bD.$1=_4.Empty;return bH;}};E.mapi=function(by,bz){var bA,bB,bC,bD,bE,bF;if(bz.$==0)return bz;else{bE=new _4({$:1});bA=bE;bB=bz;bC=0;bD=true;while(bD){bA.$0=by(bC,bB.$0);bB=bB.$1;bB.$==0?bD=false:(bA=(bF=new _4({$:1}),bA.$1=bF,bF),bC=bC+1);}bA.$1=_4.Empty;return bE;}};E.mapi2=function(by,bz,bA){var bB,bC,bD,bE,bF,bG,bH;bB=bz.$==1?bA.$==1:false;if(!bB)return(bz.$==1?true:bA.$==1)?E.badLengths():bz;else{bG=new _4({$:1});bC=bG;bD=bz;bE=bA;bF=0;while(bB){bC.$0=by(bF,bD.$0,bE.$0);bD=bD.$1;bE=bE.$1;(bD.$==1?bE.$==1:false)?(bC=(bH=new _4({$:1}),bC.$1=bH,bH),bF=bF+1):bB=false;}if(bD.$==1?true:bE.$==1)E.badLengths();bC.$1=_4.Empty;return bG;}};E.max=function(by){return D.reduce(_7.Max,by);};E.maxBy=function(by,bz){return D.reduce(function(bA,bB){return bl.Compare(by(bA),by(bB))===1?bA:bB;},bz);};E.min=function(by){return D.reduce(_7.Min,by);};E.minBy=function(by,bz){return D.reduce(function(bA,bB){return bl.Compare(by(bA),by(bB))===-1?bA:bB;},bz);};E.ofArray=function(by){var bz,bA,bB;bz=_4.Empty;for(bA=C.length(by)-1,bB=0;bA>=bB;bA--)bz=new _4({$:1,$0:C.get(by,bA),$1:bz});return bz;};E.ofSeq=function(by){var bz,bA,bB,bC,bD,bE;if(by instanceof _4)return by;else if(by instanceof a.Array)return E.ofArray(by);else{bz=w.Get(by);try{bB=bz.MoveNext();if(!bB)bA=_4.Empty;else{bD=new _4({$:1});bC=bD;while(bB){bC.$0=bz.Current();bz.MoveNext()?bC=(bE=new _4({$:1}),bC.$1=bE,bE):bB=false;}bC.$1=_4.Empty;bA=bD;}return bA;}finally{if("Dispose"in bz)bz.Dispose();}}};E.partition=function(by,bz){var bA,bB,bC;bA=C.partition(by,C.ofList(bz));bB=bA[1];bC=bA[0];return[E.ofArray(bC),E.ofArray(bB)];};E.permute=function(by,bz){return E.ofArray(C.permute(by,C.ofList(bz)));};E.reduceBack=function(by,bz){return C.reduceBack(by,C.ofList(bz));};E.replicate=function(by,bz){return E.ofArray(C.create(by,bz));};E.rev=function(by){var bz,bA;bz=_4.Empty;bA=by;while(bA.$==1){bz=new _4({$:1,$0:bA.$0,$1:bz});bA=bA.$1;}return bz;};E.scan=function(by,bz,bA){return E.ofSeq(D.scan(by,bz,bA));};E.scanBack=function(by,bz,bA){return E.ofArray(C.scanBack(by,C.ofList(bz),bA));};E.sort=function(by){var bz;bz=C.ofList(by);C.sortInPlace(bz);return E.ofArray(bz);};E.sortBy=function(by,bz){return E.sortWith(function(bA,bB){return _7.Compare(by(bA),by(bB));},bz);};E.sortByDescending=function(by,bz){return E.sortWith(function(bA,bB){return-_7.Compare(by(bA),by(bB));},bz);};E.sortDescending=function(by){var bz;bz=C.ofList(by);C.sortInPlaceByDescending(a.id,bz);return E.ofArray(bz);};E.sortWith=function(by,bz){var bA;bA=C.ofList(bz);C.sortInPlaceWith(by,bA);return E.ofArray(bA);};E.tail=function(by){return by.$==1?by.$1:E.listEmpty();};E.unzip=function(by){var bz,bA,bB,bC,bD;bz=[];bA=[];bB=w.Get(by);try{while(bB.MoveNext()){bC=bB.Current();bD=bC[1];bz.push(bC[0]);bA.push(bD);}}finally{if("Dispose"in bB)bB.Dispose();}return[E.ofArray(bz.slice(0)),E.ofArray(bA.slice(0))];};E.unzip3=function(by){var bz,bA,bB,bC,bD,bE,bF;bz=[];bA=[];bB=[];bC=w.Get(by);try{while(bC.MoveNext()){bD=bC.Current();bE=bD[2];bF=bD[1];bz.push(bD[0]);bA.push(bF);bB.push(bE);}}finally{if("Dispose"in bC)bC.Dispose();}return[E.ofArray(bz.slice(0)),E.ofArray(bA.slice(0)),E.ofArray(bB.slice(0))];};E.zip=function(by,bz){return E.map2(function(bA,bB){return[bA,bB];},by,bz);};E.zip3=function(by,bz,bA){return E.map3(function(bB,bC,bD){return[bB,bC,bD];},by,bz,bA);};E.chunkBySize=function(by,bz){var bA;bA=E.ofSeq(D.chunkBySize(by,bz));return E.map(E.ofArray,bA);};E.compareWith=function(by,bz,bA){return D.compareWith(by,bz,bA);};E.countBy=function(by,bz){return E.ofArray(C.countBy(by,C.ofList(bz)));};E.distinct=function(by){return E.ofSeq(D.distinct(by));};E.distinctBy=function(by,bz){return E.ofSeq(D.distinctBy(by,bz));};E.splitInto=function(by,bz){var bA;bA=E.ofArray(C.splitInto(by,C.ofList(bz)));return E.map(E.ofArray,bA);};E.except=function(by,bz){return E.ofSeq(D.except(by,bz));};E.tryFindBack=function(by,bz){return C.tryFindBack(by,C.ofList(bz));};E.findBack=function(by,bz){var bA;bA=E.tryFindBack(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};E.findIndexBack=function(by,bz){var bA;bA=C.tryFindIndexBack(by,C.ofList(bz));return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};E.groupBy=function(by,bz){var bA,bB;bA=C.groupBy(by,C.ofList(bz));bB=function(bC,bD){return[bC,E.ofArray(bD)];};(function(bC){C.mapInPlace(function(bD){return bB(bD[0],bD[1]);},bC);}(bA));return E.ofArray(bA);};E.last=function(by){var bz,bA;by.$==0?E.listEmpty():null;bz=by;bA=bz.$1;while(bA.$==1){bz=bA;bA=bz.$1;}return bz.$0;};E.contains=function(by,bz){var bA,bB;bA=false;bB=bz;while(!bA?bB.$==1:false){bA=bl.Equals(by,bB.$0);bB=bB.$1;}return bA;};E.mapFold=function(by,bz,bA){var bB,bC,bD;bB=C.mapFold(by,bz,C.ofList(bA));bC=bB[0];bD=bB[1];return[E.ofArray(bC),bD];};E.mapFoldBack=function(by,bz,bA){var bB,bC,bD;bB=C.mapFoldBack(by,C.ofList(bz),bA);bC=bB[0];bD=bB[1];return[E.ofArray(bC),bD];};E.pairwise=function(by){return E.ofSeq(D.pairwise(by));};E.indexed=function(by){return E.mapi(function(bz,bA){return[bz,bA];},by);};E.tryHead=function(by){return by.$==0?null:{$:1,$0:by.$0};};E.exactlyOne=function(by){var bz;return(by.$==1?by.$1.$==0?(bz=by.$0,true):false:false)?bz:_7.FailWith("The input does not have precisely one element.");};E.unfold=function(by,bz){return E.ofSeq(D.unfold(by,bz));};E.windowed=function(by,bz){var bA;return E.ofSeq((bA=D.windowed(by,bz),D.map(E.ofArray,bA)));};E.splitAt=function(by,bz){return[E.ofSeq(D.take(by,bz)),E.skip(by,bz)];};E.listEmpty=function(){return _7.FailWith("The input list was empty.");};E.badLengths=function(){return _7.FailWith("The lists have different lengths.");};_5.getOrValue=function(by,bz){return by==null?bz:by;};_5.get=function(by){return by==null?_7.FailWith("Nullable object must have a value."):by;};_6.decr=function(by){by[0]--;};_6.incr=function(by){by[0]++;};_7.range=function(by,bz){var bA;bA=1+bz-by;return bA<=0?[]:D.init(bA,function(bB){return bB+by;});};_7.step=function(by,bz,bA){var bB,bC;bB=_7.Sign(bz);bC=function(bD){return bB*(bA-bD)>=0;};return function(bD){return D.takeWhile(bC,bD);}(D.initInfinite(function(bD){return by+bD*bz;}));};_7.KeyValue=function(by){return[by.K,by.V];};_7.Using=function(by,bz){try{return bz(by);}finally{by.Dispose();}};_7.Truncate=function(by){return by<0?a.Math.ceil(by):a.Math.floor(by);};_7.Sign=function(by){return by===0?0:by<0?-1:1;};_7.Pown=function(by,bz){function bA(bB){var bC;return bB===1?by:bB%2===0?(bC=bA(bB/2>>0),bC*bC):by*bA(bB-1);}return bA(bz);};_7.Min=function(by,bz){return bl.Compare(by,bz)===-1?by:bz;};_7.Max=function(by,bz){return bl.Compare(by,bz)===1?by:bz;};_7.InvalidArg=function(by,bz){throw new T.New(by,bz);};_7.InvalidOp=function(by){throw new V.New$1(by);};_7.FailWith=function(by){throw a.Error(by);};_7.DefaultArg=function(by,bz){return by==null?bz:by.$0;};_7.Compare=function(by,bz){return bl.Compare(by,bz);};_8.string=function(by,bz,bA){return bz==null?(bA!=null?bA.$==1:false)?by.slice(0,bA.$0+1):"":bA==null?by.slice(bz.$0):by.slice(bz.$0,bA.$0+1);};_8.array=function(by,bz,bA){return bz==null?(bA!=null?bA.$==1:false)?by.slice(0,bA.$0+1):[]:bA==null?by.slice(bz.$0):by.slice(bz.$0,bA.$0+1);};_8.setArray=function(by,bz,bA,bB){var bC,bD;bC=(bz!=null?bz.$==1:false)?bz.$0:0;bD=(bA!=null?bA.$==1:false)?bA.$0:by.length-1;C.setSub(by,bC,bD-bC+1,bB);};_8.array2D=function(by,bz,bA,bB,bC){var bD,bE,bF,bG;bD=(bz!=null?bz.$==1:false)?bz.$0:0;bE=(bB!=null?bB.$==1:false)?bB.$0:0;bF=(bA!=null?bA.$==1:false)?bA.$0:by.length-1;bG=(bC!=null?bC.$==1:false)?bC.$0:(by.length?by[0].length:0)-1;return C.sub2D(by,bD,bE,bF-bD+1,bG-bE+1);};_8.array2Dfix1=function(by,bz,bA,bB){var bC,bD,bE,bF,bG,bH;bC=(bA!=null?bA.$==1:false)?bA.$0:0;bD=(bB!=null?bB.$==1:false)?bB.$0:(by.length?by[0].length:0)-1;bE=bD-bC+1;bF=new a.Array(bE);for(bG=0,bH=bE-1;bG<=bH;bG++)C.set(bF,bG,C.get2D(by,bz,bC+bG));return bF;};_8.array2Dfix2=function(by,bz,bA,bB){var bC,bD,bE,bF,bG,bH;bC=(bz!=null?bz.$==1:false)?bz.$0:0;bD=(bA!=null?bA.$==1:false)?bA.$0:by.length-1;bE=bD-bC+1;bF=new a.Array(bE);for(bG=0,bH=bE-1;bG<=bH;bG++)C.set(bF,bG,C.get2D(by,bC+bG,bB));return bF;};_8.setArray2Dfix1=function(by,bz,bA,bB,bC){var bD,bE,bF,bG;bD=(bA!=null?bA.$==1:false)?bA.$0:0;bE=(bB!=null?bB.$==1:false)?bB.$0:(by.length?by[0].length:0)-1;for(bF=0,bG=bE-bD+1-1;bF<=bG;bF++)C.set2D(by,bz,bD+bF,C.get(bC,bF));};_8.setArray2Dfix2=function(by,bz,bA,bB,bC){var bD,bE,bF,bG;bD=(bz!=null?bz.$==1:false)?bz.$0:0;bE=(bA!=null?bA.$==1:false)?bA.$0:by.length-1;for(bF=0,bG=bE-bD+1-1;bF<=bG;bF++)C.set2D(by,bD+bF,bB,C.get(bC,bF));};_8.setArray2D=function(by,bz,bA,bB,bC,bD){var bE,bF,bG,bH;bE=(bz!=null?bz.$==1:false)?bz.$0:0;bF=(bB!=null?bB.$==1:false)?bB.$0:0;bG=(bA!=null?bA.$==1:false)?bA.$0:by.length-1;bH=(bC!=null?bC.$==1:false)?bC.$0:(by.length?by[0].length:0)-1;C.setSub2D(by,bE,bF,bG-bE+1,bH-bF+1,bD);};_9.filter=function(by,bz){var bA;return((bz!=null?bz.$==1:false)?by(bz.$0)?(bA=bz.$0,true):false:false)?bz:null;};_9.fold=function(by,bz,bA){return bA==null?bz:by(bz,bA.$0);};_9.foldBack=function(by,bz,bA){return bz==null?bA:by(bz.$0,bA);};_9.ofNullable=function(by){return by==null?null:{$:1,$0:_5.get(by)};};_9.ofObj=function(by){return by==null?null:{$:1,$0:by};};_9.toArray=function(by){return by==null?[]:[by.$0];};_9.toList=function(by){var bz;return by==null?_4.Empty:(bz=by.$0,E.ofArray([bz]));};_9.toNullable=function(by){return(by!=null?by.$==1:false)?by.$0:null;};_9.toObj=function(by){return by==null?null:by.$0;};_.CopyTo=function(by,bz,bA){C.blit(by,0,bz,bA,C.length(by));};_.Contains=function(by,bz){return D.exists(function(bA){return bl.Equals(bz,bA);},by);};_.Clear=function(by){by.splice(0,C.length(by));};$=b.Random=bw.Class({NextBytes:function(by){var bz,bA;for(bz=0,bA=C.length(by)-1;bz<=bA;bz++)C.set(by,bz,a.Math.floor(a.Math.random()*256));},Next:function(by,bz){return by>bz?_7.FailWith("'minValue' cannot be greater than maxValue."):by+a.Math.floor(a.Math.random()*(bz-by));},Next$1:function(by){return by<0?_7.FailWith("'maxValue' must be greater than zero."):a.Math.floor(a.Math.random()*by);},Next$2:function(){return a.Math.floor(a.Math.random()*2147483648);}},null,$);$.New=bw.Ctor(function(){},$);bd.New=function(by){return{"0":by};};be.MapError=function(by,bz){return bz.$==1?{$:1,$0:by(bz.$0)}:{$:0,$0:bz.$0};};be.Map=function(by,bz){return bz.$==1?{$:1,$0:bz.$0}:{$:0,$0:by(bz.$0)};};be.Bind=function(by,bz){return bz.$==1?{$:1,$0:bz.$0}:by(bz.$0);};D.enumFinally=function(by,bz){return{GetEnumerator:function(){var bA;try{bA=w.Get(by);}catch(bB){bz();throw bB;}return new x.New(null,null,function(bC){return bA.MoveNext()?(bC.c=bA.Current(),true):false;},function(){bA.Dispose();bz();});}};};D.enumUsing=function(by,bz){return{GetEnumerator:function(){var bA;try{bA=w.Get(bz(by));}catch(bB){by.Dispose();throw bB;}return new x.New(null,null,function(bC){return bA.MoveNext()?(bC.c=bA.Current(),true):false;},function(){bA.Dispose();by.Dispose();});}};};D.enumWhile=function(by,bz){return{GetEnumerator:function(){return new x.New(null,null,function(bA){var bB;while(true){bB=bA.s;if(bl.Equals(bB,null)){if(by()){bA.s=w.Get(bz);bA=bA;}else return false;}else{if(bB.MoveNext()){bA.c=bB.Current();return true;}else{bB.Dispose();bA.s=null;bA=bA;}}}},function(bA){var bB;bB=bA.s;!bl.Equals(bB,null)?bB.Dispose():void 0;});}};};bf.createEvent=function(by,bz,bA){return{Subscribe:function(bB){var bC;bC=bA(function(){return function(bD){return bB.OnNext(bD);};});by(bC);return{Dispose:function(){return bz(bC);}};},RemoveHandler:bz,AddHandler:by};};D.append=function(by,bz){return{GetEnumerator:function(){var bA,bB;bA=w.Get(by);bB=[true];return new x.New(bA,null,function(bC){var bD;return bC.s.MoveNext()?(bC.c=bC.s.Current(),true):(bD=bC.s,!bl.Equals(bD,null)?bD.Dispose():void 0,bC.s=null,bB[0]?(bB[0]=false,bC.s=w.Get(bz),bC.s.MoveNext()?(bC.c=bC.s.Current(),true):(bC.s.Dispose(),bC.s=null,false)):false);},function(bC){var bD;bD=bC.s;!bl.Equals(bD,null)?bD.Dispose():void 0;});}};};D.average=function(by){var bz,bA,bB;bz=D.fold(function(bC,bD){return(function(bE){var bF,bG;bF=bE[0];bG=bE[1];return function(bH){return[bF+1,bG+bH];};}(bC))(bD);},[0,0],by);bA=bz[1];bB=bz[0];return bB===0?_7.InvalidArg("source","The input sequence was empty."):bA/bB;};D.averageBy=function(by,bz){var bA,bB,bC;bA=D.fold(function(bD,bE){return(function(bF){var bG,bH;bG=bF[0];bH=bF[1];return function(bI){return[bG+1,bH+by(bI)];};}(bD))(bE);},[0,0],bz);bB=bA[1];bC=bA[0];return bC===0?_7.InvalidArg("source","The input sequence was empty."):bB/bC;};D.cache=function(by){var bz,bA;bz=[];bA=[w.Get(by)];return{GetEnumerator:function(){return new x.New(0,null,function(bB){var bC;return bB.s+1<bz.length?(bB.s=bB.s+1,bB.c=bz[bB.s],true):(bC=bA[0],bl.Equals(bC,null)?false:bC.MoveNext()?(bB.s=bB.s+1,bB.c=bC.Current(),bz.push(bB.c),true):(bC.Dispose(),bA[0]=null,false));},void 0);}};};D.choose=function(by,bz){var bA;bA=function(bB){var bC,bD;bC=by(bB);return bC==null?_4.Empty:(bD=bC.$0,E.ofArray([bD]));};return function(bB){return D.collect(bA,bB);}(bz);};D.collect=function(by,bz){return D.concat(D.map(by,bz));};D.compareWith=function(by,bz,bA){var bB,bC,bD,bE,bF;bB=w.Get(bz);try{bD=w.Get(bA);try{bE=0;bF=true;while(bF?bE===0:false)if(bB.MoveNext())bE=bD.MoveNext()?by(bB.Current(),bD.Current()):1;else if(bD.MoveNext())bE=-1;else bF=false;bC=bE;}finally{if("Dispose"in bD)bD.Dispose();}return bC;}finally{if("Dispose"in bB)bB.Dispose();}};D.concat=function(by){return{GetEnumerator:function(){var bz;bz=w.Get(by);return new x.New(null,null,function(bA){var bB;while(true){bB=bA.s;if(bl.Equals(bB,null)){if(bz.MoveNext()){bA.s=w.Get(bz.Current());bA=bA;}else{bz.Dispose();return false;}}else{if(bB.MoveNext()){bA.c=bB.Current();return true;}else{bA.Dispose();bA.s=null;bA=bA;}}}},function(bA){var bB;bB=bA.s;!bl.Equals(bB,null)?bB.Dispose():void 0;!bl.Equals(bz,null)?bz.Dispose():void 0;});}};};D.countBy=function(by,bz){return D.delay(function(){return C.countBy(by,C.ofSeq(bz));});};D.delay=function(by){return{GetEnumerator:function(){return w.Get(by());}};};D.distinct=function(by){return D.distinctBy(a.id,by);};D.distinctBy=function(by,bz){return{GetEnumerator:function(){var bA,bB;bA=w.Get(bz);bB=new _2.New$3();return new x.New(null,null,function(bC){var bD,bE;if(bA.MoveNext()){bD=bA.Current();bE=bB.Add(by(bD));while(!bE?bA.MoveNext():false){bD=bA.Current();bE=bB.Add(by(bD));}return bE?(bC.c=bD,true):false;}else return false;},function(){bA.Dispose();});}};};D.splitInto=function(by,bz){by<=0?_7.FailWith("Count must be positive"):void 0;return D.delay(function(){return C.splitInto(by,C.ofSeq(bz));});};D.exactlyOne=function(by){var bz,bA;bz=w.Get(by);try{return bz.MoveNext()?(bA=bz.Current(),bz.MoveNext()?_7.InvalidOp("Sequence contains more than one element"):bA):_7.InvalidOp("Sequence contains no elements");}finally{if("Dispose"in bz)bz.Dispose();}};D.exists=function(by,bz){var bA,bB;bA=w.Get(bz);try{bB=false;while(!bB?bA.MoveNext():false)bB=by(bA.Current());return bB;}finally{if("Dispose"in bA)bA.Dispose();}};D.exists2=function(by,bz,bA){var bB,bC,bD,bE;bB=w.Get(bz);try{bD=w.Get(bA);try{bE=false;while((!bE?bB.MoveNext():false)?bD.MoveNext():false)bE=by(bB.Current(),bD.Current());bC=bE;}finally{if("Dispose"in bD)bD.Dispose();}return bC;}finally{if("Dispose"in bB)bB.Dispose();}};D.filter=function(by,bz){return{GetEnumerator:function(){var bA;bA=w.Get(bz);return new x.New(null,null,function(bB){var bC,bD,bE;bC=bA.MoveNext();bD=bA.Current();bE=false;while(bC)if(by(bD)){bB.c=bD;bE=true;bC=false;}else if(bA.MoveNext())bD=bA.Current();else bC=false;return bE;},function(){bA.Dispose();});}};};D.find=function(by,bz){var bA;bA=D.tryFind(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};D.findIndex=function(by,bz){var bA;bA=D.tryFindIndex(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};D.fold=function(by,bz,bA){var bB,bC;bB=bz;bC=w.Get(bA);try{while(bC.MoveNext())bB=by(bB,bC.Current());return bB;}finally{if("Dispose"in bC)bC.Dispose();}};D.forall=function(by,bz){return!D.exists(function(bA){return!by(bA);},bz);};D.forall2=function(by,bz,bA){return!D.exists2(function(bB,bC){return!by(bB,bC);},bz,bA);};D.groupBy=function(by,bz){return D.delay(function(){return C.groupBy(by,C.ofSeq(bz));});};D.head=function(by){var bz;bz=w.Get(by);try{return bz.MoveNext()?bz.Current():D.insufficient();}finally{if("Dispose"in bz)bz.Dispose();}};D.init=function(by,bz){return D.take(by,D.initInfinite(bz));};D.initInfinite=function(by){return{GetEnumerator:function(){return new x.New(0,null,function(bz){bz.c=by(bz.s);bz.s=bz.s+1;return true;},void 0);}};};D.isEmpty=function(by){var bz;bz=w.Get(by);try{return!bz.MoveNext();}finally{if("Dispose"in bz)bz.Dispose();}};D.iter=function(by,bz){var bA;bA=w.Get(bz);try{while(bA.MoveNext())by(bA.Current());}finally{if("Dispose"in bA)bA.Dispose();}};D.iter2=function(by,bz,bA){var bB,bC,bD;bB=w.Get(bz);try{bD=w.Get(bA);try{while(bB.MoveNext()?bD.MoveNext():false)by(bB.Current(),bD.Current());bC=void 0;}finally{if("Dispose"in bD)bD.Dispose();}bC;}finally{if("Dispose"in bB)bB.Dispose();}};D.iteri=function(by,bz){var bA,bB;bA=0;bB=w.Get(bz);try{while(bB.MoveNext()){by(bA,bB.Current());bA=bA+1;}}finally{if("Dispose"in bB)bB.Dispose();}};D.length=function(by){var bz,bA;bz=0;bA=w.Get(by);try{while(bA.MoveNext())bz=bz+1;return bz;}finally{if("Dispose"in bA)bA.Dispose();}};D.map=function(by,bz){return{GetEnumerator:function(){var bA;bA=w.Get(bz);return new x.New(null,null,function(bB){return bA.MoveNext()?(bB.c=by(bA.Current()),true):false;},function(){bA.Dispose();});}};};D.mapi=function(by,bz){return D.map2(by,D.initInfinite(a.id),bz);};D.map2=function(by,bz,bA){return{GetEnumerator:function(){var bB,bC;bB=w.Get(bz);bC=w.Get(bA);return new x.New(null,null,function(bD){return(bB.MoveNext()?bC.MoveNext():false)?(bD.c=by(bB.Current(),bC.Current()),true):false;},function(){bB.Dispose();bC.Dispose();});}};};D.maxBy=function(by,bz){return D.reduce(function(bA,bB){return bl.Compare(by(bA),by(bB))>=0?bA:bB;},bz);};D.minBy=function(by,bz){return D.reduce(function(bA,bB){return bl.Compare(by(bA),by(bB))<=0?bA:bB;},bz);};D.max=function(by){return D.reduce(function(bz,bA){return bl.Compare(bz,bA)>=0?bz:bA;},by);};D.min=function(by){return D.reduce(function(bz,bA){return bl.Compare(bz,bA)<=0?bz:bA;},by);};D.nth=function(by,bz){var bA,bB;if(by<0)_7.FailWith("negative index requested");bA=-1;bB=w.Get(bz);try{while(bA<by){!bB.MoveNext()?D.insufficient():void 0;bA=bA+1;}return bB.Current();}finally{if("Dispose"in bB)bB.Dispose();}};D.pairwise=function(by){var bz;bz=function(bA){return[C.get(bA,0),C.get(bA,1)];};return function(bA){return D.map(bz,bA);}(D.windowed(2,by));};D.pick=function(by,bz){var bA;bA=D.tryPick(by,bz);return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};D.readOnly=function(by){return{GetEnumerator:function(){return w.Get(by);}};};D.reduce=function(by,bz){var bA,bB;bA=w.Get(bz);try{if(!bA.MoveNext())_7.FailWith("The input sequence was empty");bB=bA.Current();while(bA.MoveNext())bB=by(bB,bA.Current());return bB;}finally{if("Dispose"in bA)bA.Dispose();}};D.scan=function(by,bz,bA){return{GetEnumerator:function(){var bB,bC;bB=w.Get(bA);bC=function(){bB.Dispose();};return function(bD){return new x.New(false,null,bD,bC);}(function(bD){return bD.s?bB.MoveNext()?(bD.c=by(bD.c,bB.Current()),true):false:(bD.c=bz,bD.s=true,true);});}};};D.skip=function(by,bz){return{GetEnumerator:function(){var bA;bA=w.Get(bz);return new x.New(true,null,function(bB){var bC,bD;if(bB.s){for(bC=1,bD=by;bC<=bD;bC++)if(!bA.MoveNext())D.insufficient();bB.s=false;}else null;return bA.MoveNext()?(bB.c=bA.Current(),true):false;},function(){bA.Dispose();});}};};D.skipWhile=function(by,bz){return{GetEnumerator:function(){var bA;bA=w.Get(bz);return new x.New(true,null,function(bB){var bC,bD;if(bB.s){bC=true;bD=false;while(bC)if(bA.MoveNext()){if(!by(bA.Current()))bC=false;}else{bC=false;bD=true;}bB.s=false;return bD?false:(bB.c=bA.Current(),true);}else return bA.MoveNext()?(bB.c=bA.Current(),true):false;},function(){bA.Dispose();});}};};D.sort=function(by){return D.sortBy(a.id,by);};D.sortBy=function(by,bz){return D.delay(function(){var bA;bA=C.ofSeq(bz);C.sortInPlaceBy(by,bA);return bA;});};D.sortByDescending=function(by,bz){return D.delay(function(){var bA;bA=C.ofSeq(bz);C.sortInPlaceByDescending(by,bA);return bA;});};D.sortDescending=function(by){return D.sortByDescending(a.id,by);};D.sum=function(by){return D.fold(function(bz,bA){return bz+bA;},0,by);};D.sumBy=function(by,bz){return D.fold(function(bA,bB){return bA+by(bB);},0,bz);};D.take=function(by,bz){by<0?D.nonNegative():void 0;return{GetEnumerator:function(){var bA;bA=[w.Get(bz)];return new x.New(0,null,function(bB){var bC;bB.s=bB.s+1;return bB.s>by?false:(bC=bA[0],bl.Equals(bC,null)?D.insufficient():bC.MoveNext()?(bB.c=bC.Current(),bB.s===by?(bC.Dispose(),bA[0]=null):void 0,true):(bC.Dispose(),bA[0]=null,D.insufficient()));},function(){var bB;bB=bA[0];!bl.Equals(bB,null)?bB.Dispose():void 0;});}};};D.takeWhile=function(by,bz){return D.delay(function(){return D.enumUsing(w.Get(bz),function(bA){return D.enumWhile(function(){return bA.MoveNext()?by(bA.Current()):false;},D.delay(function(){return[bA.Current()];}));});});};D.truncate=function(by,bz){return D.delay(function(){return D.enumUsing(w.Get(bz),function(bA){var bB;bB=[0];return D.enumWhile(function(){return bA.MoveNext()?bB[0]<by:false;},D.delay(function(){_6.incr(bB);return[bA.Current()];}));});});};D.tryFind=function(by,bz){var bA,bB,bC;bA=w.Get(bz);try{bB=null;while(bB==null?bA.MoveNext():false){bC=bA.Current();by(bC)?bB={$:1,$0:bC}:void 0;}return bB;}finally{if("Dispose"in bA)bA.Dispose();}};D.findBack=function(by,bz){var bA;bA=C.tryFindBack(by,C.ofSeq(bz));return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};D.tryFindIndex=function(by,bz){var bA,bB,bC;bA=w.Get(bz);try{bB=true;bC=0;while(bB?bA.MoveNext():false)if(by(bA.Current()))bB=false;else bC=bC+1;return bB?null:{$:1,$0:bC};}finally{if("Dispose"in bA)bA.Dispose();}};D.findIndexBack=function(by,bz){var bA;bA=C.tryFindIndexBack(by,C.ofSeq(bz));return bA==null?_7.FailWith("KeyNotFoundException"):bA.$0;};D.tryPick=function(by,bz){var bA,bB;bA=w.Get(bz);try{bB=null;while(bl.Equals(bB,null)?bA.MoveNext():false)bB=by(bA.Current());return bB;}finally{if("Dispose"in bA)bA.Dispose();}};D.unfold=function(by,bz){return{GetEnumerator:function(){return new x.New(bz,null,function(bA){var bB,bC;bB=by(bA.s);return bB==null?false:(bC=bB.$0[1],(bA.c=bB.$0[0],bA.s=bC,true));},void 0);}};};D.windowed=function(by,bz){by<=0?_7.FailWith("The input must be positive."):void 0;return D.delay(function(){return D.enumUsing(w.Get(bz),function(bA){var bB;bB=[];return D.append(D.enumWhile(function(){return bB.length<by?bA.MoveNext():false;},D.delay(function(){bB.push(bA.Current());return[];})),D.delay(function(){return bB.length===by?D.append([bB.slice(0)],D.delay(function(){return D.enumWhile(function(){return bA.MoveNext();},D.delay(function(){bB.shift();bB.push(bA.Current());return[bB.slice(0)];}));})):[];}));});});};D.zip=function(by,bz){return D.map2(function(bA,bB){return[bA,bB];},by,bz);};D.map3=function(by,bz,bA,bB){return{GetEnumerator:function(){var bC,bD,bE;bC=w.Get(bz);bD=w.Get(bA);bE=w.Get(bB);return new x.New(null,null,function(bF){return((bC.MoveNext()?bD.MoveNext():false)?bE.MoveNext():false)?(bF.c=by(bC.Current(),bD.Current(),bE.Current()),true):false;},function(){bC.Dispose();bD.Dispose();bE.Dispose();});}};};D.zip3=function(by,bz,bA){return D.map3(function(bB,bC,bD){return[bB,bC,bD];},by,bz,bA);};D.fold2=function(by,bz,bA,bB){return C.fold2(by,bz,C.ofSeq(bA),C.ofSeq(bB));};D.foldBack=function(by,bz,bA){return C.foldBack(by,C.ofSeq(bz),bA);};D.foldBack2=function(by,bz,bA,bB){return C.foldBack2(by,C.ofSeq(bz),C.ofSeq(bA),bB);};D.iteri2=function(by,bz,bA){var bB,bC,bD,bE;bB=0;bC=w.Get(bz);try{bE=w.Get(bA);try{while(bC.MoveNext()?bE.MoveNext():false){by(bB,bC.Current(),bE.Current());bB=bB+1;}bD=void 0;}finally{if("Dispose"in bE)bE.Dispose();}bD;}finally{if("Dispose"in bC)bC.Dispose();}};D.mapi2=function(by,bz,bA){return D.map3(function(bB,bC,bD){return((by(bB))(bC))(bD);},D.initInfinite(a.id),bz,bA);};D.mapFold=function(by,bz,bA){return C.mapFold(by,bz,C.ofSeq(bA));};D.mapFoldBack=function(by,bz,bA){return C.mapFoldBack(by,C.ofSeq(bz),bA);};D.permute=function(by,bz){return D.delay(function(){return C.permute(by,C.ofSeq(bz));});};D.reduceBack=function(by,bz){return C.reduceBack(by,C.ofSeq(bz));};D.replicate=function(by,bz){by<0?D.nonNegative():void 0;return D.delay(function(){return D.map(function(){return bz;},_7.range(0,by-1));});};D.rev=function(by){return D.delay(function(){return C.ofSeq(by).slice().reverse();});};D.scanBack=function(by,bz,bA){return D.delay(function(){return C.scanBack(by,C.ofSeq(bz),bA);});};D.indexed=function(by){return D.mapi(function(bz,bA){return[bz,bA];},by);};D.sortWith=function(by,bz){return D.delay(function(){var bA;bA=C.ofSeq(bz);C.sortInPlaceWith(by,bA);return bA;});};D.tail=function(by){return D.skip(1,by);};bg.CopyTo=function(by,bz,bA){C.blit(bz,0,bz,bA,C.length(by));};bg.Contains=function(by,bz){return D.exists(function(bA){return bl.Equals(bz,bA);},by);};bg.Clear=function(by){by.splice(0,C.length(by));};bh.RegexEscape=function(by){return by.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bh.SplitWith=function(by,bz){return by.split(bz);};bh.Join=function(by,bz){return bz.join(by);};bh.TrimEndWS=function(by){return by.replace(new a.RegExp("\\s+$"),"");};bh.TrimStartWS=function(by){return by.replace(new a.RegExp("^\\s+"),"");};bh.Trim=function(by){return by.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bh.StartsWith=function(by,bz){return by.substring(0,bz.length)==bz;};bh.Substring=function(by,bz,bA){return by.substr(bz,bA);};bh.ReplaceOnce=function(by,bz,bA){return by.replace(bz,bA);};bh.Remove=function(by,bz,bA){return by.substring(0,bz)+by.substring(bz+bA);};bh.PadRightWith=function(by,bz,bA){return bz>by.length?by+a.Array(bz-by.length+1).join(a.String.fromCharCode(bA)):by;};bh.PadLeftWith=function(by,bz,bA){return bz>by.length?a.Array(bz-by.length+1).join(a.String.fromCharCode(bA))+by:by;};bh.LastIndexOf=function(by,bz,bA){return by.lastIndexOf(a.String.fromCharCode(bz),bA);};bh.IsNullOrWhiteSpace=function(by){return by==null||(new a.RegExp("^\\s*$")).test(by);};bh.IsNullOrEmpty=function(by){return by==null||by=="";};bh.Insert=function(by,bz,bA){return by.substring(0,bz-1)+bA+by.substring(bz);};bh.IndexOf=function(by,bz,bA){return by.indexOf(a.String.fromCharCode(bz),bA);};bh.EndsWith=function(by,bz){return by.substring(by.length-bz.length)==bz;};bh.collect=function(by,bz){return C.init(bz.length,function(bA){return by(bz.charCodeAt(bA));}).join("");};bh.concat=function(by,bz){return C.ofSeq(bz).join(by);};bh.exists=function(by,bz){return D.exists(by,bh.protect(bz));};bh.forall=function(by,bz){return D.forall(by,bh.protect(bz));};bh.init=function(by,bz){return C.init(by,bz).join("");};bh.iter=function(by,bz){D.iter(by,bh.protect(bz));};bh.iteri=function(by,bz){D.iteri(by,bh.protect(bz));};bh.length=function(by){return bh.protect(by).length;};bh.map=function(by,bz){return bh.collect(function(bA){return bx.fromCharCode(by(bA));},bh.protect(bz));};bh.mapi=function(by,bz){return C.ofSeq(D.mapi(function(bA,bB){return bx.fromCharCode(by(bA,bB));},bz)).join("");};bh.replicate=function(by,bz){return bh.init(by,function(){return bz;});};bh.protect=function(by){return by===null?"":by;};bh.SFormat=function(by,bz){var bA,bB;bA=new a.RegExp("{(0|[1-9]\\d*)(?:,(-?[1-9]\\d*|0))?(?::(.*?))?}","g");bB=function(bC,bD,bE){var bF,bG,bH;bF=bx(C.get(bz,+bD));return!bl.Equals(bE,void 0)?(bG=+bE,(bH=a.Math.abs(bG),bH>bF.length?bG>0?bh.PadLeft(bF,bH):bh.PadRight(bF,bH):bF)):bF;};return function(bC){return bC.replace(bA,bB);}(by);};bh.Filter=function(by,bz){var bA;return C.ofSeq((bA=function(bB){return by(bB)?{$:1,$0:bx.fromCharCode(bB)}:null;},function(bB){return D.choose(bA,bB);}(bz))).join("");};bh.SplitStrings=function(by,bz,bA){var bB;bB=bh.concat("|",C.map(bh.RegexEscape,bz));return bh.Split(by,new a.RegExp(bB),bA);};bh.SplitChars=function(by,bz,bA){var bB;bB="["+bh.RegexEscape(a.String.fromCharCode.apply(void 0,bz))+"]";return bh.Split(by,new a.RegExp(bB),bA);};bh.Split=function(by,bz,bA){var bB;bB=bh.SplitWith(by,bz);return bA===1?C.filter(function(bC){return bC!=="";},bB):bB;};bh.TrimEnd=function(by,bz){var bA,bB,bC;if(bl.Equals(bz,null)?true:bz.length==0)return bh.TrimEndWS(by);else{bA=by.length-1;bB=true;while(bA>=0?bB:false)(function(){var bD,bE;bD=by.charCodeAt(bA);return(bE=function(bF){return bD===bF;},function(bF){return C.exists(bE,bF);}(bz))?void(bA=bA-1):void(bB=false);}());bC=bA+1;return bh.Substring(by,0,bC);}};bh.TrimStart=function(by,bz){var bA,bB;if(bl.Equals(bz,null)?true:bz.length==0)return bh.TrimStartWS(by);else{bA=0;bB=true;while(bA<by.length?bB:false)(function(){var bC,bD;bC=by.charCodeAt(bA);return(bD=function(bE){return bC===bE;},function(bE){return C.exists(bD,bE);}(bz))?void(bA=bA+1):void(bB=false);}());return by.substring(bA);}};bh.ToCharArrayRange=function(by,bz,bA){return C.init(bA,function(bB){return by.charCodeAt(bz+bB);});};bh.ToCharArray=function(by){return C.init(by.length,function(bz){return by.charCodeAt(bz);});};bh.ReplaceChar=function(by,bz,bA){return bh.Replace(by,bx.fromCharCode(bz),bx.fromCharCode(bA));};bh.Replace=function(by,bz,bA){function bB(bC){var bD,bE,bF,bG;bD=bC.indexOf(bz);return bD!==-1?(bE=bh.ReplaceOnce(bC,bz,bA),(bF=bD+bA.length,(bG=bD+bA.length,bh.Substring(bE,0,bG))+bB(bE.substring(bF)))):bC;}return bB(by);};bh.PadRight=function(by,bz){return bh.PadRightWith(by,bz,32);};bh.PadLeft=function(by,bz){return bh.PadLeftWith(by,bz,32);};bh.CopyTo=function(by,bz,bA,bB,bC){C.blit(bh.ToCharArray(by),bz,bA,bB,bC);};bh.Compare=function(by,bz){return _7.Compare(by,bz);};bi=b.Task=bw.Class({Execute:function(){this.action();},Start:function(){var by;by=this;bl.Equals(this.status,0)?(this.status=2,t.scheduler().Fork(function(){var bz;by.status=3;try{by.Execute();by.status=5;}catch(bA){(bA instanceof S?bl.Equals(bA.ct,by.token)?(bz=bA,true):false:false)?(a.console.log.apply(a.console,["Task cancellation caught:"].concat([bz])),by.exc=new W.New$3([bz]),by.status=6):(a.console.log.apply(a.console,["Task error caught:"].concat([bA])),by.exc=new W.New$3([bA]),by.status=7);}by.RunContinuations();})):_7.InvalidOp("Task not in initial state");},StartContinuation:function(){var by;by=this;bl.Equals(this.status,1)?(this.status=2,t.scheduler().Fork(function(){if(bl.Equals(by.status,2)){by.status=3;try{by.Execute();by.status=5;}catch(bz){by.exc=new W.New$3([bz]);by.status=7;}by.RunContinuations();}})):void 0;},ContinueWith:function(by,bz){var bA,bB,bC;bA=this;bB=new bj.New(function(){return by(bA);},bz,1,null,void 0);this.get_IsCompleted()?bB.StartContinuation():bC=this.continuations.push(bB);return bB;},ContinueWith$1:function(by,bz){var bA,bB,bC;bA=this;bB=new bi.New$2(function(){return by(bA);},bz,1,null);this.get_IsCompleted()?bB.StartContinuation():bC=this.continuations.push(bB);return bB;},ContinueWith$2:function(by){return this.ContinueWith$1(by,t.noneCT());},RunContinuations:function(){var by,bz,bA;by=this.continuations;for(bz=0,bA=by.length-1;bz<=bA;bz++)C.get(by,bz).StartContinuation();},OnCompleted:function(by){var bz;if(this.get_IsCompleted())by();else{bl.Equals(this.get_Status(),0)?this.Start():void 0;bz=this.ContinueWith$2(function(){return by();});}},get_Status:function(){return this.status;},get_IsFaulted:function(){return bl.Equals(this.status,7);},get_IsCompleted:function(){return(bl.Equals(this.status,5)?true:bl.Equals(this.status,7))?true:bl.Equals(this.status,6);},get_IsCanceled:function(){return bl.Equals(this.status,6);},get_Exception:function(){return this.exc;}},null,bi);bi.WhenAll=function(by){var bz,bA,bB,bC,bD,bE;bz=C.length(by);bA=[0];bB=new a.Array(bz);bC=new bk.New();for(bD=0,bE=bz-1;bD<=bE;bD++)(function(bF){var bG;bG=C.get(by,bD).ContinueWith$2(function(bH){var bI,bJ;return bH.get_IsFaulted()?(bI=bC.TrySetException$1(bH.get_Exception()),void 0):bH.get_IsCanceled()?(bJ=bC.TrySetCanceled$1(),void 0):(_6.incr(bA),bB[bF]=bH.get_Result(),bA[0]===bz?bC.SetResult(bB):null);});}(bD));return bC.get_Task();};bi.WhenAll$1=function(by){var bz,bA,bB,bC,bD,bE;bz=C.length(by);bA=[0];bB=new bk.New();for(bC=0,bD=bz-1;bC<=bD;bC++){bE=C.get(by,bC).ContinueWith$2(function(bF){var bG,bH,bI;return bF.get_IsFaulted()?(bG=bB.TrySetException$1(bF.get_Exception()),void 0):bF.get_IsCanceled()?(bH=bB.TrySetCanceled$1(),void 0):(_6.incr(bA),bA[0]===bz?(bI=bB.TrySetResult(),void 0):null);});}return bB.get_Task();};bi.WhenAny=function(by){var bz,bA,bB,bC,bD;bz=new bk.New();for(bA=0,bB=by.length-1;bA<=bB;bA++){bC=C.get(by,bA);bD=bC.ContinueWith(function(bE){var bF;bF=bz.TrySetResult(bE);},t.noneCT());}return bz.get_Task();};bi.WhenAny$1=function(by){var bz,bA,bB,bC,bD;bz=new bk.New();for(bA=0,bB=by.length-1;bA<=bB;bA++){bC=C.get(by,bA);bD=bC.ContinueWith$2(function(bE){var bF;bF=bz.TrySetResult(bE);});}return bz.get_Task();};bi.Delay=function(by,bz){return t.StartAsTask(t.Sleep(by),{$:1,$0:bz});};bi.Delay$1=function(by){return t.StartAsTask(t.Sleep(by),null);};bi.Run=function(by,bz){var bA;bA=by();return bz.c?bi.FromCanceled(bz):(bl.Equals(bA.get_Status(),0)?bA.Start():void 0,bA);};bi.Run$1=function(by,bz){var bA;bA=new bj.New(by,bz,0,null,void 0);bA.Start();return bA;};bi.Run$2=function(by,bz){var bA;bA=by();return bz.c?bi.FromCanceled$1(bz):(bl.Equals(bA.get_Status(),0)?bA.Start():void 0,bA);};bi.Run$3=function(by,bz){var bA;bA=new bi.New$2(by,bz,0,null);bA.Start();return bA;};bi.FromResult=function(by){return new bj.New(null,t.noneCT(),5,null,by);};bi.FromException=function(by){return new bj.New(null,t.noneCT(),7,new W.New$3([by]),null);};bi.FromException$1=function(by){return new bi.New$2(null,t.noneCT(),7,new W.New$3([by]));};bi.FromCanceled=function(by){return new bj.New(null,by,6,null,null);};bi.FromCanceled$1=function(by){return new bi.New$2(null,by,6,null);};bi.New=bw.Ctor(function(by,bz){bi.New$2.call(this,by,bz,0,null);},bi);bi.New$1=bw.Ctor(function(by){bi.New$2.call(this,by,t.noneCT(),0,null);},bi);bi.New$2=bw.Ctor(function(by,bz,bA,bB){this.action=by;this.token=bz;this.status=bA;this.continuations=[];this.exc=bB;},bi);bj=b.Task1=bw.Class({get_Result:function(){return this.result;},Execute:function(){this.result=this.func();}},bi,bj);bj.New=bw.Ctor(function(by,bz,bA,bB,bC){bi.New$2.call(this,null,bz,bA,bB);this.func=by;this.result=bC;},bj);bk=b.TaskCompletionSource=bw.Class({TrySetResult:function(by){return!this.task.get_IsCompleted()?(this.task.status=5,this.task.result=by,this.task.RunContinuations(),true):false;},TrySetException:function(by){return this.TrySetException$1(new W.New$2(by));},TrySetException$1:function(by){return!this.task.get_IsCompleted()?(this.task.status=7,this.task.exc=new W.New$3([by]),this.task.RunContinuations(),true):false;},TrySetCanceled:function(by){return!this.task.get_IsCompleted()?(this.task.status=6,this.task.RunContinuations(),true):false;},TrySetCanceled$1:function(){return!this.task.get_IsCompleted()?(this.task.status=6,this.task.RunContinuations(),true):false;},SetResult:function(by){this.task.get_IsCompleted()?_7.FailWith("Task already completed."):void 0;this.task.status=5;this.task.result=by;this.task.RunContinuations();},SetException:function(by){this.SetException$1(new W.New$2(by));},SetException$1:function(by){this.task.get_IsCompleted()?_7.FailWith("Task already completed."):void 0;this.task.status=7;this.task.exc=new W.New$3([by]);this.task.RunContinuations();},SetCanceled:function(){this.task.get_IsCompleted()?_7.FailWith("Task already completed."):void 0;this.task.status=6;this.task.RunContinuations();},get_Task:function(){return this.task;}},null,bk);bk.New=bw.Ctor(function(){this.task=new bj.New(null,t.noneCT(),1,null,void 0);},bk);bl.Hash=function(by){var bz;bz=typeof by;return bz=="function"?0:bz=="boolean"?by?1:0:bz=="number"?by:bz=="string"?bl.hashString(by):bz=="object"?by==null?0:by instanceof a.Array?bl.hashArray(by):bl.hashObject(by):0;};bl.hashObject=function(by){var bz,bA,bB;if("GetHashCode"in by)return by.GetHashCode();else{bz=bl.hashMix;bA=[0];for(var bC in by)if(function(bD){bA[0]=bz(bz(bA[0],bl.hashString(bD)),bl.Hash(by[bD]));return false;}(bC))break;return bA[0];}};bl.hashString=function(by){var bz,bA,bB;if(by===null)return 0;else{bz=5381;for(bA=0,bB=by.length-1;bA<=bB;bA++)bz=bl.hashMix(bz,by.charCodeAt(bA)<<0);return bz;}};bl.hashArray=function(by){var bz,bA,bB;bz=-34948909;for(bA=0,bB=C.length(by)-1;bA<=bB;bA++)bz=bl.hashMix(bz,bl.Hash(C.get(by,bA)));return bz;};bl.hashMix=function(by,bz){return(by<<5)+by+bz;};bl.Equals=function(by,bz){var bA,bB,bC,bD;if(by===bz)return true;else{bA=typeof by;if(bA=="object"){if(((by===null?true:by===void 0)?true:bz===null)?true:bz===void 0)return false;else if("Equals"in by)return by.Equals(bz);else if(by instanceof a.Array?bz instanceof a.Array:false)return bl.arrayEquals(by,bz);else if(by instanceof a.Date?bz instanceof a.Date:false)return bl.dateEquals(by,bz);else{bB=[true];for(var bE in by)if(function(bF){bB[0]=!by.hasOwnProperty(bF)?true:bz.hasOwnProperty(bF)?bl.Equals(by[bF],bz[bF]):false;return!bB[0];}(bE))break;if(bB[0]){for(var bF in bz)if(function(bG){bB[0]=!bz.hasOwnProperty(bG)?true:by.hasOwnProperty(bG);return!bB[0];}(bF))break;}return bB[0];}}else return bA=="function"?"$Func"in by?by.$Func===bz.$Func?by.$Target===bz.$Target:false:("$Invokes"in by?"$Invokes"in bz:false)?bl.arrayEquals(by.$Invokes,bz.$Invokes):false:false;}};bl.dateEquals=function(by,bz){return by.getTime()===bz.getTime();};bl.arrayEquals=function(by,bz){var bA,bB;if(C.length(by)===C.length(bz)){bA=true;bB=0;while(bA?bB<C.length(by):false){!bl.Equals(C.get(by,bB),C.get(bz,bB))?bA=false:void 0;bB=bB+1;}return bA;}else return false;};bl.Compare=function(by,bz){var bA,bB,bC,bD,bE,bF;if(by===bz)return 0;else{bB=typeof by;switch(bB=="function"?1:bB=="boolean"?2:bB=="number"?2:bB=="string"?2:bB=="object"?3:0){case 0:return typeof bz=="undefined"?0:-1;break;case 1:return _7.FailWith("Cannot compare function values.");break;case 2:return by<bz?-1:1;break;case 3:if(by===null)bC=-1;else if(bz===null)bC=1;else if("CompareTo"in by)bC=by.CompareTo(bz);else if("CompareTo0"in by)bC=by.CompareTo0(bz);else if(by instanceof a.Array?bz instanceof a.Array:false)bC=bl.compareArrays(by,bz);else if(by instanceof a.Date?bz instanceof a.Date:false)bC=bl.compareDates(by,bz);else{bD=[0];for(var bG in by)if(function(bH){return!by.hasOwnProperty(bH)?false:!bz.hasOwnProperty(bH)?(bD[0]=1,true):(bD[0]=bl.Compare(by[bH],bz[bH]),bD[0]!==0);}(bG))break;if(bD[0]===0){for(var bH in bz)if(function(bI){return!bz.hasOwnProperty(bI)?false:!by.hasOwnProperty(bI)?(bD[0]=-1,true):false;}(bH))break;}bC=bD[0];}return bC;break;}}};bl.compareDates=function(by,bz){return _7.Compare(by.getTime(),bz.getTime());};bl.compareArrays=function(by,bz){var bA,bB;if(C.length(by)<C.length(bz))return -1;else if(C.length(by)>C.length(bz))return 1;else{bA=0;bB=0;while(bA===0?bB<C.length(by):false){bA=bl.Compare(C.get(by,bB),C.get(bz,bB));bB=bB+1;}return bA;}};bm.TryParse=function(by,bz,bA,bB){var bC,bD;bC=+by;bD=(bC===bC-bC%1?bC>=bz:false)?bC<=bA:false;bD?bB.set(bC):void 0;return bD;};bm.Parse=function(by,bz,bA,bB){var bC;bC=+by;if(bC!==bC-bC%1)throw new Y.New$1("Input string was not in a correct format.");else if(bC<bz?true:bC>bA)throw new Z.New$1(bB);else return bC;};bn.TryParse=function(by,bz){return bm.TryParse(by,0,255,bz);};bn.Parse=function(by){return bm.Parse(by,0,255,"Value was either too large or too small for an unsigned byte.");};bo.TryParse=function(by,bz){return bm.TryParse(by,-128,127,bz);};bo.Parse=function(by){return bm.Parse(by,-128,127,"Value was either too large or too small for a signed byte.");};bp.TryParse=function(by,bz){return bm.TryParse(by,-32768,32767,bz);};bp.Parse=function(by){return bm.Parse(by,-32768,32767,"Value was either too large or too small for an Int16.");};bq.TryParse=function(by,bz){return bm.TryParse(by,-2147483648,2147483647,bz);};bq.Parse=function(by){return bm.Parse(by,-2147483648,2147483647,"Value was either too large or too small for an Int32.");};br.TryParse=function(by,bz){return bm.TryParse(by,0,65535,bz);};br.Parse=function(by){return bm.Parse(by,0,65535,"Value was either too large or too small for an UInt16.");};bs.TryParse=function(by,bz){return bm.TryParse(by,0,4294967295,bz);};bs.Parse=function(by){return bm.Parse(by,0,4294967295,"Value was either too large or too small for an UInt32.");};bt.TryParse=function(by,bz){return bm.TryParse(by,-9223372036854775808,9223372036854775807,bz);};bt.Parse=function(by){return bm.Parse(by,-9223372036854775808,9223372036854775807,"Value was either too large or too small for an Int64.");};bu.TryParse=function(by,bz){return bm.TryParse(by,0,18446744073709551615,bz);};bu.Parse=function(by){return bm.Parse(by,0,18446744073709551615,"Value was either too large or too small for an UInt64.");};}());
