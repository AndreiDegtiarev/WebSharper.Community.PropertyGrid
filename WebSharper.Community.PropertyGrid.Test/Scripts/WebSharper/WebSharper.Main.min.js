(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo;a=window.WebSharper=window.WebSharper||{};b=a.JavaScript=a.JavaScript||{};c=b.JSModule=b.JSModule||{};d=a.Collections=a.Collections||{};e=d.EqualityComparer=d.EqualityComparer||{};f=a.MacroModule=a.MacroModule||{};g=f.EquatableEqualityComparer=f.EquatableEqualityComparer||{};h=f.BaseEqualityComparer=f.BaseEqualityComparer||{};i=d.Comparer=d.Comparer||{};j=f.ComparableComparer=f.ComparableComparer||{};k=f.BaseComparer=f.BaseComparer||{};l=b.Pervasives=b.Pervasives||{};m=a.Json=a.Json||{};n=a.Remoting=a.Remoting||{};o=n.XhrProvider=n.XhrProvider||{};p=n.AjaxRemotingProvider=n.AjaxRemotingProvider||{};q=window.StartupCode$WebSharper_Main$Remoting=window.StartupCode$WebSharper_Main$Remoting||{};r=a.PrintfHelpers=a.PrintfHelpers||{};s=a.Concurrency=a.Concurrency||{};t=s.Scheduler=s.Scheduler||{};u=window.StartupCode$WebSharper_Main$Concurrency=window.StartupCode$WebSharper_Main$Concurrency||{};v=a.Enumerator=a.Enumerator||{};w=v.T=v.T||{};x=a.HtmlContentExtensions=a.HtmlContentExtensions||{};y=x.SingleNode=x.SingleNode||{};z=a.Activator=a.Activator||{};A=b.Optional=b.Optional||{};B=a.Arrays=a.Arrays||{};C=a.Seq=a.Seq||{};D=a.List=a.List||{};E=a.Arrays2D=a.Arrays2D||{};F=a.CancellationTokenSource=a.CancellationTokenSource||{};G=a.Char=a.Char||{};H=a.Util=a.Util||{};I=a.DateUtil=a.DateUtil||{};J=a.DateTimeOffset=a.DateTimeOffset||{};K=a.Delegate=a.Delegate||{};L=d.DictionaryUtil=d.DictionaryUtil||{};M=d.KeyCollection=d.KeyCollection||{};N=d.ValueCollection=d.ValueCollection||{};O=d.Dictionary=d.Dictionary||{};P=a.MatchFailureException=a.MatchFailureException||{};Q=a.IndexOutOfRangeException=a.IndexOutOfRangeException||{};R=a.OperationCanceledException=a.OperationCanceledException||{};S=a.ArgumentException=a.ArgumentException||{};T=a.ArgumentOutOfRangeException=a.ArgumentOutOfRangeException||{};U=a.InvalidOperationException=a.InvalidOperationException||{};V=a.AggregateException=a.AggregateException||{};W=a.TimeoutException=a.TimeoutException||{};X=a.FormatException=a.FormatException||{};Y=a.OverflowException=a.OverflowException||{};Z=a.Guid=a.Guid||{};_0=d.HashSetUtil=d.HashSetUtil||{};_1=d.HashSet=d.HashSet||{};_2=a.Lazy=a.Lazy||{};_3=D.T=D.T||{};_4=a.Nullable=a.Nullable||{};_5=a.Operators=a.Operators||{};_6=a.Slice=a.Slice||{};_7=a.Option=a.Option||{};_8=a.Queue=a.Queue||{};_9=a.Random=a.Random||{};_=a.Ref=a.Ref||{};$=a.Result=a.Result||{};ba=a.Control=a.Control||{};bb=a.Stack=a.Stack||{};bc=a.Strings=a.Strings||{};bd=a.Task=a.Task||{};be=a.Task1=a.Task1||{};bf=a.TaskCompletionSource=a.TaskCompletionSource||{};bg=a.Unchecked=a.Unchecked||{};bh=a.Numeric=a.Numeric||{};bi=window.IntelliFactory;bj=bi&&bi.Runtime;bk=window.JSON;bl=window.Date;bm=window.console;bn=window.String;bo=window.Math;c.GetFieldValues=function(bp){var bq,br;bq=[];for(var bs in bp)bq.push(bp[bs]);return bq;};c.GetFieldNames=function(bp){var bq,br;bq=[];for(var bs in bp)bq.push(bs);return bq;};c.GetFields=function(bp){var bq,br;bq=[];for(var bs in bp)bq.push([bs,bp[bs]]);return bq;};e=d.EqualityComparer=bj.Class({CGetHashCode0:function(bp){return this.GetHashCode(bp);},CEquals0:function(bp,bq){return this.Equals(bp,bq);},CGetHashCode:function(bp){return this.GetHashCode(bp);},CEquals:function(bp,bq){return this.Equals(bp,bq);}},null,e);e.New=bj.Ctor(function(){},e);g=f.EquatableEqualityComparer=bj.Class({GetHashCode:function(bp){return bg.Hash(bp);},Equals:function(bp,bq){return bp.EEquals(bq);}},e,g);g.New=bj.Ctor(function(){e.New.call(this);},g);h=f.BaseEqualityComparer=bj.Class({GetHashCode:function(bp){return bg.Hash(bp);},Equals:function(bp,bq){return bg.Equals(bp,bq);}},e,h);h.New=bj.Ctor(function(){e.New.call(this);},h);i=d.Comparer=bj.Class({Compare0:function(bp,bq){return this.Compare$1(bp,bq);},Compare:function(bp,bq){return this.Compare$1(bp,bq);}},null,i);i.New=bj.Ctor(function(){},i);j=f.ComparableComparer=bj.Class({Compare$1:function(bp,bq){return bp.CompareTo(bq);}},i,j);j.New=bj.Ctor(function(){i.New.call(this);},j);k=f.BaseComparer=bj.Class({Compare$1:function(bp,bq){return bg.Compare(bp,bq);}},i,k);k.New=bj.Ctor(function(){i.New.call(this);},k);l.GetJS=function(bp,bq){var br,bs;br=bp;bs=v.Get(bq);try{while(bs.MoveNext())br=br[bs.Current()];}finally{if("Dispose"in bs)bs.Dispose();}return br;};l.NewFromSeq=function(bp){var bq,br,bs;bq={};br=v.Get(bp);try{while(br.MoveNext()){bs=br.Current();bq[bs[0]]=bs[1];}}finally{if("Dispose"in br)br.Dispose();}return bq;};m.Activate=function(bp){var br,bs,bt;function bq(bu){var bv,bw,bx,by,bz;if(bg.Equals(bu,null))return bu;else if(typeof bu=="object"){if(bu instanceof window.Array)return m.shallowMap(bq,bu);else{bv=m.shallowMap(bq,bu.$V);bw=bu.$T;if(bg.Equals(typeof bw,"undefined"))return bv;else{bx=B.get(br,bw);if(bx===window.WebSharper.List.T)return D.ofArray(bv);else{by=new(B.get(br,bw))();for(var bA in bv)if(function(bB){by[bB]=bv[bB];return false;}(bA))break;return by;}}}}else return bu;}br=bp.$TYPES;for(bs=0,bt=B.length(br)-1;bs<=bt;bs++)B.set(br,bs,m.lookup(B.get(br,bs)));return bq(bp.$DATA);};m.shallowMap=function(bp,bq){var br,bs;if(bq instanceof window.Array)return B.map(bp,bq);else if(typeof bq=="object"){br={};for(var bt in bq)if(function(bu){br[bu]=bp(bq[bu]);return false;}(bt))break;return br;}else return bq;};m.lookup=function(bp){var bq,br,bs,bt,bu;bs=B.length(bp);bq=window;br=0;while(br<bs){bt=B.get(bp,br);bu=bq[bt];!bg.Equals(typeof bu,void 0)?(bq=bu,br=br+1):_5.FailWith("Invalid server reply. Failed to find type: "+bt);}return bq;};o=n.XhrProvider=bj.Class({Sync:function(bp,bq,br){var bs;bs=[null];n.ajax(false,bp,bq,br,function(bt){bs[0]=bt;},function(bt){throw bt;},function(){n.ajax(false,bp,bq,br,function(bt){bs[0]=bt;},function(bt){throw bt;},void 0);});return bs[0];},Async:function(bp,bq,br,bs,bt){n.ajax(true,bp,bq,br,bs,bt,function(){n.ajax(true,bp,bq,br,bs,bt,void 0);});}},null,o);o.New=bj.Ctor(function(){},o);p=n.AjaxRemotingProvider=bj.Class({get_EndPoint:function(){return n.EndPoint();},AsyncBase:function(bp,bq){var br,bs;br=this;bs=null;return s.Delay(function(){var bt,bu;bt=n.makeHeaders(bp);bu=n.makePayload(bq);return s.Bind(s.GetCT(),function(bv){return s.FromContinuations(function(bw,bx,by){var bz,bA,bB,bC;bz=[true];bA=(bB=function(){return bz[0]?(bz[0]=false,by(new R.New(bv))):null;},s.Register(bv,function(){bB();}));bC=br.get_EndPoint();return n.AjaxProvider().Async(bC,bt,bu,function(bD){if(bz[0]){bz[0]=false;bA.Dispose();bw(m.Activate(bk.parse(bD)));}},function(bD){if(bz[0]){bz[0]=false;bA.Dispose();bx(bD);}});});});});},Send:function(bp,bq){s.Start(this.AsyncBase(bp,bq),null);},Task:function(bp,bq){return s.StartAsTask(this.AsyncBase(bp,bq),null);},Async:function(bp,bq){return this.AsyncBase(bp,bq);},Sync:function(bp,bq){var br,bs,bt;return m.Activate(bk.parse((br=this.get_EndPoint(),(bs=n.makeHeaders(bp),(bt=n.makePayload(bq),n.AjaxProvider().Sync(br,bs,bt))))));}},null,p);p.New=bj.Ctor(function(){},p);n.ajax=function(bp,bq,br,bs,bt,bu,bv){var bw,bx,by;bw=new window.XMLHttpRequest();bx=window.document.cookie.replace(new window.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");bw.open("POST",bq,bp);if(bp==true)bw.withCredentials=true;for(var bA in br)bw.setRequestHeader(bA,br[bA]);if(bx)bw.setRequestHeader("x-csrftoken",bx);function bz(){var bB;if(bw.status==200)bt(bw.responseText);else if(bv&&bw.status==403&&bw.responseText=="CSRF")bv();else{bB="Response status is not 200: ";bu(new window.Error(bB+bw.status));}}if("onload"in bw)bw.onload=bw.onerror=bw.onabort=bz;else bw.onreadystatechange=function(){if(bw.readyState==4)bz();};bw.send(bs);};n.makePayload=function(bp){return bk.stringify(bp);};n.makeHeaders=function(bp){return{"content-type":"application/json","x-websharper-rpc":bp};};n.AjaxProvider=function(){q.$cctor();return q.AjaxProvider;};n.set_AjaxProvider=function(bp){q.$cctor();q.AjaxProvider=bp;};n.UseHttps=function(){try{return!bc.StartsWith(window.location.href,"https://")&&(n.set_EndPoint(bc.Replace(window.location.href,"http://","https://")),true);}catch(bp){return false;}};n.EndPoint=function(){q.$cctor();return q.EndPoint;};n.set_EndPoint=function(bp){q.$cctor();q.EndPoint=bp;};q.$cctor=bj.Cctor(function(){q.EndPoint="?";q.AjaxProvider=new o.New();q.$cctor=window.ignore;});r.prettyPrint=function(bp){var bq,br,bs;return bp===null?"null":(bq=typeof bp,bq=="string"?"\""+bp+"\"":bq=="object"?bp instanceof window.Array?"[|"+bc.concat("; ",B.map(r.prettyPrint,bp))+"|]":(br=window.String(bp),br==="[object Object]"?"{"+bc.concat("; ",(bs=function(bt,bu){return bt+" = "+r.prettyPrint(bu);},B.map(function(bt){return bs(bt[0],bt[1]);},c.GetFields(bp))))+"}":br):window.String(bp));};r.printArray2D=function(bp,bq){return bq===null?"null":"[["+bc.concat("][",C.delay(function(){var br;br=bq.length?bq[0].length:0;return C.map(function(bs){return bc.concat("; ",C.delay(function(){return C.map(function(bt){return bp(B.get2D(bq,bs,bt));},_5.range(0,br-1));}));},_5.range(0,bq.length-1));}))+"]]";};r.printArray=function(bp,bq){return bq===null?"null":"[|"+bc.concat("; ",B.map(bp,bq))+"|]";};r.printList=function(bp,bq){return"["+bc.concat("; ",C.map(bp,bq))+"]";};r.padNumLeft=function(bp,bq){var br;br=B.get(bp,0);return br===" "||br==="+"||br==="-"?br+bc.PadLeftWith(bp.substr(1),bq-1,48):bc.PadLeftWith(bp,bq,48);};r.spaceForPos=function(bp,bq){return 0<=bp?" "+bq:bq;};r.plusForPos=function(bp,bq){return 0<=bp?"+"+bq:bq;};r.toSafe=function(bp){return bp==null?"":bp;};t=s.Scheduler=bj.Class({tick:function(){var bp,bq,br;bq=this;br=bl.now();bp=true;while(bp)if(this.robin.length===0){this.idle=true;bp=false;}else{(this.robin.shift())();bl.now()-br>40?(window.setTimeout(function(){bq.tick();},0),bp=false):void 0;}},Fork:function(bp){var bq;bq=this;this.robin.push(bp);this.idle?(this.idle=false,window.setTimeout(function(){bq.tick();},0)):void 0;}},null,t);t.New=bj.Ctor(function(){this.idle=true;this.robin=[];},t);s.For=function(bp,bq){return s.Using(v.Get(bp),function(br){return s.While(function(){return br.MoveNext();},s.Delay(function(){return bq(br.Current());}));});};s.While=function(bp,bq){return bp()?s.Bind(bq,function(){return s.While(bp,bq);}):s.Return();};s.Using=function(bp,bq){return s.TryFinally(bq(bp),function(){bp.Dispose();});};s.TryCancelled=function(bp,bq){return function(br){bp({k:function(bs){if(bs.$==2){bq(bs.$0);br.k(bs);}else br.k(bs);},ct:br.ct});};};s.OnCancel=function(bp){return function(bq){bq.k({$:0,$0:s.Register(bq.ct,bp)});};};s.StartChild=function(bp,bq){return function(br){var bs,bt,bu,bv;bs=[true];bt=[null];bu=[];bv=bq!=null&&bq.$==1?{$:1,$0:window.setTimeout(function(){var bw;bs[0]=false;bw={$:1,$0:new W.New()};while(bu.length>0)(bu.shift())(bw);},bq.$0)}:null;s.scheduler().Fork(function(){if(!br.ct.c)bp({k:function(bw){if(bs[0]){bt[0]={$:1,$0:bw};bv!=null&&bv.$==1?window.clearTimeout(bv.$0):void 0;while(bu.length>0)(bu.shift())(bw);}},ct:br.ct});});br.k({$:0,$0:function(bw){var bx;if(bs[0]){bx=bt[0];bx==null?bu.push(bw.k):bw.k(bx.$0);}else bw.k({$:1,$0:new W.New()});}});};};s.Parallel=function(bp){var bq;bq=B.ofSeq(bp);return B.length(bq)===0?s.Return([]):function(br){var bs,bt,bu,bv;bs=bq.length;bt=[bs];bu=new window.Array(bs);bv=function(bw,bx){var by,bz;bz=bt[0];switch(bz===0?0:bz===1?bx.$==0?1:(by=[bz,bx],3):bx.$==0?2:(by=[bz,bx],3)){case 0:return null;break;case 1:B.set(bu,bw,bx.$0);bt[0]=0;return br.k({$:0,$0:bu});break;case 2:B.set(bu,bw,bx.$0);bt[0]=bz-1;break;case 3:bt[0]=0;return br.k(by[1]);break;}};B.iteri(function(bw,bx){return s.scheduler().Fork(function(){bx({k:function(by){return bv(bw,by);},ct:br.ct});});},bq);};};s.Sleep=function(bp){return function(bq){var br,bs;br=void 0;bs=void 0;br=window.setTimeout(function(){bs.Dispose();s.scheduler().Fork(function(){bq.k({$:0,$0:null});});},bp);bs=s.Register(bq.ct,function(){window.clearTimeout(br);s.scheduler().Fork(function(){s.cancel(bq);});});};};s.StartAsTask=function(bp,bq){var br;br=new bf.New();s.StartWithContinuations(bp,function(bs){br.SetResult(bs);},function(bs){br.SetException$1(bs);},function(){br.SetCanceled();},bq);return br.get_Task();};s.AwaitTask1=function(bp){return s.FromContinuations(function(bq,br,bs){bg.Equals(bp.get_Status(),0)?bp.Start():void 0;bp.ContinueWith$2(function(bt){return bt.get_IsCanceled()?bs(new R.New(s.noneCT())):bt.get_IsFaulted()?br(bt.get_Exception()):bq(bt.get_Result());});});};s.AwaitTask=function(bp){return s.FromContinuations(function(bq,br,bs){bg.Equals(bp.get_Status(),0)?bp.Start():void 0;bp.ContinueWith$2(function(bt){return bt.get_IsCanceled()?bs(new R.New(s.noneCT())):bt.get_IsFaulted()?br(bt.get_Exception()):bq();});});};s.AwaitEvent=function(bp,bq){return function(br){var bs,bt;bs=void 0;bt=void 0;bs=bp.Subscribe(H.observer(function(bu){bs.Dispose();bt.Dispose();s.scheduler().Fork(function(){br.k({$:0,$0:bu});});}));bt=s.Register(br.ct,function(){if(bq!=null&&bq.$==1)bq.$0();else{bs.Dispose();s.scheduler().Fork(function(){s.cancel(br);});}});};};s.StartImmediate=function(bp,bq){var br,bs;br=(bs=(s.defCTS())[0],bq==null?bs:bq.$0);!br.c?bp({k:function(bt){if(bt.$==1)s.UncaughtAsyncError(bt.$0);},ct:br}):void 0;};s.Start=function(bp,bq){var br,bs;br=(bs=(s.defCTS())[0],bq==null?bs:bq.$0);s.scheduler().Fork(function(){if(!br.c)bp({k:function(bt){if(bt.$==1)s.UncaughtAsyncError(bt.$0);},ct:br});});};s.UncaughtAsyncError=function(bp){bm.log("WebSharper: Uncaught asynchronous exception",bp);};s.StartWithContinuations=function(bp,bq,br,bs,bt){var bu,bv;bu=(bv=(s.defCTS())[0],bt==null?bv:bt.$0);!bu.c?bp({k:function(bw){if(bw.$==1)br(bw.$0);else if(bw.$==2)bs(bw.$0);else bq(bw.$0);},ct:bu}):void 0;};s.FromContinuations=function(bp){return function(bq){var br,bs;br=[false];bs=function(bt){if(br[0])_5.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{br[0]=true;s.scheduler().Fork(bt);}};bp(function(bt){bs(function(){bq.k({$:0,$0:bt});});},function(bt){bs(function(){bq.k({$:1,$0:bt});});},function(bt){bs(function(){bq.k({$:2,$0:bt});});});};};s.GetCT=function(){u.$cctor();return u.GetCT;};s.Catch=function(bp){return function(bq){try{bp({k:function(br){if(br.$==0)bq.k({$:0,$0:{$:0,$0:br.$0}});else if(br.$==1)bq.k({$:0,$0:{$:1,$0:br.$0}});else bq.k(br);},ct:bq.ct});}catch(br){bq.k({$:0,$0:{$:1,$0:br}});}};};s.TryWith=function(bp,bq){return function(br){bp({k:function(bs){if(bs.$==0)br.k({$:0,$0:bs.$0});else if(bs.$==1)try{(bq(bs.$0))(br);}catch(bt){br.k(bs);}else br.k(bs);},ct:br.ct});};};s.TryFinally=function(bp,bq){return function(br){bp({k:function(bs){try{bq();br.k(bs);}catch(bt){br.k({$:1,$0:bt});}},ct:br.ct});};};s.Delay=function(bp){return function(bq){try{(bp(null))(bq);}catch(br){bq.k({$:1,$0:br});}};};s.Combine=function(bp,bq){return s.Bind(bp,function(){return bq;});};s.Bind=function(bp,bq){return s.checkCancel(function(br){bp({k:function(bs){var bt;if(bs.$==0){bt=bs.$0;s.scheduler().Fork(function(){try{(bq(bt))(br);}catch(bu){br.k({$:1,$0:bu});}});}else s.scheduler().Fork(function(){br.k(bs);});},ct:br.ct});});};s.Zero=function(){u.$cctor();return u.Zero;};s.Return=function(bp){return function(bq){bq.k({$:0,$0:bp});};};s.checkCancel=function(bp){return function(bq){if(bq.ct.c)s.cancel(bq);else bp(bq);};};s.cancel=function(bp){bp.k({$:2,$0:new R.New(bp.ct)});};s.defCTS=function(){u.$cctor();return u.defCTS;};s.scheduler=function(){u.$cctor();return u.scheduler;};s.Register=function(bp,bq){var br;return bp===s.noneCT()?{Dispose:function(){return null;}}:(br=bp.r.push(bq)-1,{Dispose:function(){return B.set(bp.r,br,function(){});}});};s.noneCT=function(){u.$cctor();return u.noneCT;};u.$cctor=bj.Cctor(function(){u.noneCT={c:false,r:[]};u.scheduler=new t.New();u.defCTS=[new F.New()];u.Zero=s.Return();u.GetCT=function(bp){bp.k({$:0,$0:bp.ct});};u.$cctor=window.ignore;});w=v.T=bj.Class({Dispose:function(){if(this.d)this.d(this);},Current:function(){return this.c;},Current0:function(){return this.c;},MoveNext:function(){return this.n(this);}},null,w);w.New=bj.Ctor(function(bp,bq,br,bs){this.s=bp;this.c=bq;this.n=br;this.d=bs;},w);v.Get0=function(bp){return bp instanceof window.Array?v.ArrayEnumerator(bp):bg.Equals(typeof bp,"string")?v.StringEnumerator(bp):"GetEnumerator0"in bp?bp.GetEnumerator0():bp.GetEnumerator();};v.Get=function(bp){return bp instanceof window.Array?v.ArrayEnumerator(bp):bg.Equals(typeof bp,"string")?v.StringEnumerator(bp):bp.GetEnumerator();};v.StringEnumerator=function(bp){return new w.New(0,null,function(bq){var br;br=bq.s;return br<bp.length&&(bq.c=bp.charCodeAt(br),bq.s=br+1,true);},void 0);};v.ArrayEnumerator=function(bp){return new w.New(0,null,function(bq){var br;br=bq.s;return br<B.length(bp)&&(bq.c=B.get(bp,br),bq.s=br+1,true);},void 0);};y=x.SingleNode=bj.Class({ReplaceInDom:function(bp){this.node.parentNode.replaceChild(this.node,bp);}},null,y);y.New=bj.Ctor(function(bp){this.node=bp;},y);z.hasDocument=function(){return typeof window.document!=="undefined";};z.Activate=function(){var bp;if(z.hasDocument()){bp=window.document.getElementById("websharper-data");bp?window.jQuery(window.document).ready(function(){var bq;bq=function(br,bs){bs.Body().ReplaceInDom(window.document.getElementById(br));};return B.iter(function(br){return bq(br[0],br[1]);},c.GetFields(m.Activate(bk.parse(bp.getAttribute("content")))));}):void 0;}};A.Undefined={$:0};B.splitInto=function(bp,bq){var br,bs,bt,bu,bv,bw,bx,by,bz;if(bp<=0)_5.FailWith("Count must be positive");bs=B.length(bq);if(bs===0)return[];else{bt=bg.Compare(bp,bs)===-1?bp:bs;bu=B.create(bt,null);bv=bs/bt>>0;br=0;for(bw=0,bx=bs%bt-1;bw<=bx;bw++){bu[bw]=B.sub(bq,br,bv+1);br=br+bv+1;}for(by=bs%bt,bz=bt-1;by<=bz;by++){bu[by]=B.sub(bq,br,bv);br=br+bv;}return bu;}};B.contains=function(bp,bq){var br,bs,bt,bu;br=true;bs=0;bu=B.length(bq);while(br&&bs<bu)if(bg.Equals(bq[bs],bp))br=false;else bs=bs+1;return!br;};B.tryFindBack=function(bp,bq){var br,bs,bt;br=null;bs=bq.length-1;while(bs>=0&&br==null){bt=bq[bs];bp(bt)?br={$:1,$0:bt}:void 0;bs=bs-1;}return br;};B.tryFindIndexBack=function(bp,bq){var br,bs;br=null;bs=bq.length-1;while(bs>=0&&br==null){bp(B.get(bq,bs))?br={$:1,$0:bs}:void 0;bs=bs-1;}return br;};B.mapFold=function(bp,bq,br){var bs,bt,bu,bv,bw;bt=new window.Array(br.length);bs=bq;for(bu=0,bv=br.length-1;bu<=bv;bu++){bw=bp(bs,br[bu]);bt[bu]=bw[0];bs=bw[1];}return[bt,bs];};B.mapFoldBack=function(bp,bq,br){var bs,bt,bu,bv,bw,bx,by,bz;bu=new window.Array(bq.length);bs=br;bv=bq.length;for(bw=1,bx=bv;bw<=bx;bw++){by=bv-bw;bz=bp(bq[by],bs);bu[by]=bz[0];bs=bz[1];}return[bu,bs];};B.mapInPlace=function(bp,bq){var br,bs;for(br=0,bs=bq.length-1;br<=bs;br++)bq[br]=bp(bq[br]);};B.mapiInPlace=function(bp,bq){var br,bs;for(br=0,bs=bq.length-1;br<=bs;br++)bq[br]=bp(br,bq[br]);return bq;};B.sortInPlaceByDescending=function(bp,bq){B.mapInPlace(function(br){return br[0];},B.mapiInPlace(function(br,bs){return[bs,[bp(bs),br]];},bq).sort(function(br,bs){return-bg.Compare(br[1],bs[1]);}));};C.tryHead=function(bp){var bq;bq=v.Get(bp);try{return bq.MoveNext()?{$:1,$0:bq.Current()}:null;}finally{if("Dispose"in bq)bq.Dispose();}};C.tryItem=function(bp,bq){var br,bs,bt;if(bp<0)return null;else{br=0;bs=v.Get(bq);try{bt=true;while(bt&&br<=bp)if(bs.MoveNext())br=br+1;else bt=false;return bt?{$:1,$0:bs.Current()}:null;}finally{if("Dispose"in bs)bs.Dispose();}}};C.tryLast=function(bp){var bq,br;bq=v.Get(bp);try{if(bq.MoveNext()){while(bq.MoveNext());br={$:1,$0:bq.Current()};}else br=null;return br;}finally{if("Dispose"in bq)bq.Dispose();}};C.chunkBySize=function(bp,bq){bp<=0?_5.FailWith("Chunk size must be positive"):void 0;return{GetEnumerator:function(){var br;br=v.Get(bq);return new w.New(null,null,function(bs){var bt;if(br.MoveNext()){bt=[br.Current()];while(B.length(bt)<bp&&br.MoveNext())bt.push(br.Current());bs.c=bt;return true;}else return false;},function(){br.Dispose();});}};};B.countBy=function(bp,bq){var br,bs,bt,bu,bv;br=new O.New$5();bs=[];for(bt=0,bu=B.length(bq)-1;bt<=bu;bt++){bv=bp(bq[bt]);br.ContainsKey(bv)?br.set_Item(bv,br.get_Item(bv)+1):(bs.push(bv),br.Add(bv,1));}B.mapInPlace(function(bw){return[bw,br.get_Item(bw)];},bs);return bs;};C.except=function(bp,bq){return{GetEnumerator:function(){var br,bs;br=v.Get(bq);bs=new _1.New$2(bp);return new w.New(null,null,function(bt){var bu,bv;if(br.MoveNext()){bu=br.Current();bv=bs.Add(bu);while(!bv&&br.MoveNext()){bu=br.Current();bv=bs.Add(bu);}return bv&&(bt.c=bu,true);}else return false;},function(){br.Dispose();});}};};D.skip=function(bp,bq){var br,bs,bt;br=bq;for(bs=1,bt=bp;bs<=bt;bs++)if(br.$==0)_5.FailWith("Input list too short.");else br=br.$1;return br;};B.groupBy=function(bp,bq){var br,bs,bt,bu,bv,bw;br=new O.New$5();bs=[];for(bt=0,bu=B.length(bq)-1;bt<=bu;bt++){bv=bq[bt];bw=bp(bv);br.ContainsKey(bw)?br.get_Item(bw).push(bv):(bs.push(bw),br.Add(bw,[bv]));}B.mapInPlace(function(bx){return[bx,br.get_Item(bx)];},bs);return bs;};C.insufficient=function(){return _5.FailWith("The input sequence has an insufficient number of elements.");};C.last=function(bp){var bq,br;bq=v.Get(bp);try{if(!bq.MoveNext())br=C.insufficient();else{while(bq.MoveNext());br=bq.Current();}return br;}finally{if("Dispose"in bq)bq.Dispose();}};C.contains=function(bp,bq){var br,bs;br=v.Get(bq);try{bs=false;while(!bs&&br.MoveNext())bs=bg.Equals(br.Current(),bp);return bs;}finally{if("Dispose"in br)br.Dispose();}};D.skipWhile=function(bp,bq){var br;br=bq;while(!(br.$==0)&&bp(D.head(br)))br=D.tail(br);return br;};C.nonNegative=function(){return _5.FailWith("The input must be non-negative.");};B.checkBounds=function(bp,bq){if(bq<0||bq>=bp.length)_5.FailWith("Index was outside the bounds of the array.");};B.checkBounds2D=function(bp,bq,br){if(bq<0||br<0||bq>=bp.length||br>=(bp.length?bp[0].length:0))throw new Q.New();};B.checkRange=function(bp,bq,br){if(br<0||bq<0||bp.length<bq+br)_5.FailWith("Index was outside the bounds of the array.");};B.set=function(bp,bq,br){B.checkBounds(bp,bq);bp[bq]=br;};B.get=function(bp,bq){B.checkBounds(bp,bq);return bp[bq];};B.sub=function(bp,bq,br){B.checkRange(bp,bq,br);return bp.slice(bq,bq+br);};B.setSub=function(bp,bq,br,bs){var bt,bu;for(bt=0,bu=br-1;bt<=bu;bt++)B.set(bp,bq+bt,B.get(bs,bt));};B.get2D=function(bp,bq,br){B.checkBounds2D(bp,bq,br);return bp[bq][br];};B.set2D=function(bp,bq,br,bs){B.checkBounds2D(bp,bq,br);bp[bq][br]=bs;};B.zeroCreate2D=function(bp,bq){var br;br=B.init(bp,function(){return B.create(bq,null);});br.dims=2;return br;};B.sub2D=function(bp,bq,br,bs,bt){var bu,bv,bw,bx,by,bz,bA;bu=bs<0?0:bs;bv=bt<0?0:bt;bw=B.zeroCreate2D(bu,bv);for(bx=0,by=bu-1;bx<=by;bx++){for(bz=0,bA=bv-1;bz<=bA;bz++)B.set2D(bw,bx,bz,B.get2D(bp,bq+bx,br+bz));}return bw;};B.setSub2D=function(bp,bq,br,bs,bt,bu){var bv,bw,bx,by;for(bv=0,bw=bs-1;bv<=bw;bv++){for(bx=0,by=bt-1;bx<=by;bx++)B.set2D(bp,bq+bv,br+bx,B.get2D(bu,bv,bx));}};B.length=function(bp){return bp.dims===2?bp.length*bp.length:bp.length;};a.checkThis=function(bp){return bg.Equals(bp,null)?_5.InvalidOp("The initialization of an object or value resulted in an object or value being accessed recursively before it was fully initialized."):bp;};B.reverse=function(bp,bq,br){var bs;bs=B.sub(bp,bq,br).slice().reverse();B.blit(bs,0,bp,bq,B.length(bs));};B.sum=function(bp){var bq,br;bq=0;br=0;for(;br<bp.length;br++)bq+=bp[br];return bq;};B.sumBy=function(bp,bq){var br,bs;br=0;bs=0;for(;bs<bq.length;bs++)br+=bp(bq[bs]);return br;};B.average=function(bp){return window.Number(B.sum(bp))/window.Number(bp.length);};B.averageBy=function(bp,bq){return window.Number(B.sumBy(bp,bq))/window.Number(bq.length);};B.blit=function(bp,bq,br,bs,bt){var bu,bv;B.checkRange(bp,bq,bt);B.checkRange(br,bs,bt);for(bu=0,bv=bt-1;bu<=bv;bu++)br[bs+bu]=bp[bq+bu];};B.choose=function(bp,bq){var br,bs,bt,bu;br=[];for(bs=0,bt=bq.length-1;bs<=bt;bs++){bu=bp(bq[bs]);bu==null?void 0:br.push(bu.$0);}return br;};B.collect=function(bp,bq){return window.Array.prototype.concat.apply([],B.map(bp,bq));};B.concat=function(bp){return window.Array.prototype.concat.apply([],B.ofSeq(bp));};B.create=function(bp,bq){var br,bs,bt;br=new window.Array(bp);for(bs=0,bt=bp-1;bs<=bt;bs++)br[bs]=bq;return br;};B.exists=function(bp,bq){var br,bs,bt,bu;br=false;bs=0;bu=B.length(bq);while(!br&&bs<bu)if(bp(bq[bs]))br=true;else bs=bs+1;return br;};B.exists2=function(bp,bq,br){var bs,bt,bu,bv;B.checkLength(bq,br);bs=false;bt=0;bv=B.length(bq);while(!bs&&bt<bv)if(bp(bq[bt],br[bt]))bs=true;else bt=bt+1;return bs;};B.fill=function(bp,bq,br,bs){var bt,bu;B.checkRange(bp,bq,br);for(bt=bq,bu=bq+br-1;bt<=bu;bt++)bp[bt]=bs;};B.filter=function(bp,bq){var br,bs,bt;br=[];for(bs=0,bt=bq.length-1;bs<=bt;bs++)if(bp(bq[bs]))br.push(bq[bs]);return br;};B.find=function(bp,bq){var br;br=B.tryFind(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};B.findIndex=function(bp,bq){var br;br=B.tryFindIndex(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};B.fold=function(bp,bq,br){var bs,bt,bu;bs=bq;for(bt=0,bu=br.length-1;bt<=bu;bt++)bs=bp(bs,br[bt]);return bs;};B.fold2=function(bp,bq,br,bs){var bt,bu,bv;B.checkLength(br,bs);bt=bq;for(bu=0,bv=br.length-1;bu<=bv;bu++)bt=bp(bt,br[bu],bs[bu]);return bt;};B.foldBack=function(bp,bq,br){var bs,bt,bu,bv,bw;bs=br;bu=bq.length;for(bv=1,bw=bu;bv<=bw;bv++)bs=bp(bq[bu-bv],bs);return bs;};B.foldBack2=function(bp,bq,br,bs){var bt,bu,bv,bw,bx;B.checkLength(bq,br);bv=bq.length;bu=bs;for(bw=1,bx=bv;bw<=bx;bw++)bu=bp(bq[bv-bw],br[bv-bw],bu);return bu;};B.forall=function(bp,bq){var br,bs,bt,bu;br=true;bs=0;bu=B.length(bq);while(br&&bs<bu)if(bp(bq[bs]))bs=bs+1;else br=false;return br;};B.forall2=function(bp,bq,br){var bs,bt,bu,bv;B.checkLength(bq,br);bs=true;bt=0;bv=B.length(bq);while(bs&&bt<bv)if(bp(bq[bt],br[bt]))bt=bt+1;else bs=false;return bs;};B.init=function(bp,bq){var br,bs,bt;bp<0?_5.FailWith("Negative size given."):null;br=new window.Array(bp);for(bs=0,bt=bp-1;bs<=bt;bs++)br[bs]=bq(bs);return br;};B.iter=function(bp,bq){var br,bs;for(br=0,bs=bq.length-1;br<=bs;br++)bp(bq[br]);};B.iter2=function(bp,bq,br){var bs,bt;B.checkLength(bq,br);for(bs=0,bt=bq.length-1;bs<=bt;bs++)bp(bq[bs],br[bs]);};B.iteri=function(bp,bq){var br,bs;for(br=0,bs=bq.length-1;br<=bs;br++)bp(br,bq[br]);};B.iteri2=function(bp,bq,br){var bs,bt;B.checkLength(bq,br);for(bs=0,bt=bq.length-1;bs<=bt;bs++)bp(bs,bq[bs],br[bs]);};B.map=function(bp,bq){var br,bs,bt;br=new window.Array(bq.length);for(bs=0,bt=bq.length-1;bs<=bt;bs++)br[bs]=bp(bq[bs]);return br;};B.map2=function(bp,bq,br){var bs,bt,bu;B.checkLength(bq,br);bs=new window.Array(br.length);for(bt=0,bu=br.length-1;bt<=bu;bt++)bs[bt]=bp(bq[bt],br[bt]);return bs;};B.mapi=function(bp,bq){var br,bs,bt;br=new window.Array(bq.length);for(bs=0,bt=bq.length-1;bs<=bt;bs++)br[bs]=bp(bs,bq[bs]);return br;};B.mapi2=function(bp,bq,br){var bs,bt,bu;B.checkLength(bq,br);bs=new window.Array(bq.length);for(bt=0,bu=bq.length-1;bt<=bu;bt++)bs[bt]=bp(bt,bq[bt],br[bt]);return bs;};B.max=function(bp){return B.reduce(function(bq,br){return bg.Compare(bq,br)===1?bq:br;},bp);};B.maxBy=function(bp,bq){return B.reduce(function(br,bs){return bg.Compare(bp(br),bp(bs))===1?br:bs;},bq);};B.min=function(bp){return B.reduce(function(bq,br){return bg.Compare(bq,br)===-1?bq:br;},bp);};B.minBy=function(bp,bq){return B.reduce(function(br,bs){return bg.Compare(bp(br),bp(bs))===-1?br:bs;},bq);};B.ofList=function(bp){var bq,br;br=[];bq=bp;while(!(bq.$==0)){br.push(D.head(bq));bq=D.tail(bq);}return br;};B.ofSeq=function(bp){var bq,br;if(bp instanceof window.Array)return bp.slice();else if(bp instanceof _3)return B.ofList(bp);else{bq=[];br=v.Get(bp);try{while(br.MoveNext())bq.push(br.Current());return bq;}finally{if("Dispose"in br)br.Dispose();}}};B.partition=function(bp,bq){var br,bs,bt,bu;br=[];bs=[];for(bt=0,bu=bq.length-1;bt<=bu;bt++)if(bp(bq[bt]))br.push(bq[bt]);else bs.push(bq[bt]);return[br,bs];};B.permute=function(bp,bq){var br,bs,bt;br=new window.Array(bq.length);for(bs=0,bt=bq.length-1;bs<=bt;bs++)br[bp(bs)]=bq[bs];return br;};B.pick=function(bp,bq){var br;br=B.tryPick(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};B.reduce=function(bp,bq){var br,bs,bt;B.nonEmpty(bq);br=bq[0];for(bs=1,bt=bq.length-1;bs<=bt;bs++)br=bp(br,bq[bs]);return br;};B.reduceBack=function(bp,bq){var br,bs,bt,bu,bv;B.nonEmpty(bq);bt=bq.length;bs=bq[bt-1];for(bu=2,bv=bt;bu<=bv;bu++)bs=bp(bq[bt-bu],bs);return bs;};B.scan=function(bp,bq,br){var bs,bt,bu;bs=new window.Array(1+br.length);bs[0]=bq;for(bt=0,bu=br.length-1;bt<=bu;bt++)bs[bt+1]=bp(bs[bt],br[bt]);return bs;};B.scanBack=function(bp,bq,br){var bs,bt,bu,bv;bs=bq.length;bt=new window.Array(1+bs);bt[bs]=br;for(bu=0,bv=bs-1;bu<=bv;bu++)bt[bs-bu-1]=bp(bq[bs-bu-1],bt[bs-bu]);return bt;};B.sort=function(bp){return B.map(function(bq){return bq[0];},B.mapi(function(bq,br){return[br,bq];},bp).sort(bg.Compare));};B.sortBy=function(bp,bq){return B.map(function(br){return br[0];},B.mapi(function(br,bs){return[bs,[bp(bs),br]];},bq).sort(function(br,bs){return bg.Compare(br[1],bs[1]);}));};B.sortInPlace=function(bp){B.mapInPlace(function(bq){return bq[0];},B.mapiInPlace(function(bq,br){return[br,bq];},bp).sort(bg.Compare));};B.sortInPlaceBy=function(bp,bq){B.mapInPlace(function(br){return br[0];},B.mapiInPlace(function(br,bs){return[bs,[bp(bs),br]];},bq).sort(function(br,bs){return bg.Compare(br[1],bs[1]);}));};B.sortInPlaceWith=function(bp,bq){bq.sort(bp);};B.sortWith=function(bp,bq){return bq.slice().sort(bp);};B.sortByDescending=function(bp,bq){return B.map(function(br){return br[0];},B.mapi(function(br,bs){return[bs,[bp(bs),br]];},bq).sort(function(br,bs){return-bg.Compare(br[1],bs[1]);}));};B.sortDescending=function(bp){return B.map(function(bq){return bq[0];},B.mapi(function(bq,br){return[br,bq];},bp).sort(function(bq,br){return-bg.Compare(bq,br);}));};B.tryFind=function(bp,bq){var br,bs;br=null;bs=0;while(bs<bq.length&&br==null){bp(bq[bs])?br={$:1,$0:bq[bs]}:void 0;bs=bs+1;}return br;};B.tryFindIndex=function(bp,bq){var br,bs;br=null;bs=0;while(bs<bq.length&&br==null){bp(bq[bs])?br={$:1,$0:bs}:void 0;bs=bs+1;}return br;};B.tryHead=function(bp){return bp.length===0?null:{$:1,$0:bp[0]};};B.tryItem=function(bp,bq){return bq.length<=bp||bp<0?null:{$:1,$0:bq[bp]};};B.tryLast=function(bp){var bq;bq=bp.length;return bq===0?null:{$:1,$0:bp[bq-1]};};B.tryPick=function(bp,bq){var br,bs,bt;br=null;bs=0;while(bs<bq.length&&br==null){bt=bp(bq[bs]);bt!=null&&bt.$==1?br=bt:void 0;bs=bs+1;}return br;};B.unzip=function(bp){var bq,br,bs,bt,bu;bq=[];br=[];for(bs=0,bt=bp.length-1;bs<=bt;bs++){bu=bp[bs];bq.push(bu[0]);br.push(bu[1]);}return[bq,br];};B.unzip3=function(bp){var bq,br,bs,bt,bu,bv;bq=[];br=[];bs=[];for(bt=0,bu=bp.length-1;bt<=bu;bt++){bv=bp[bt];bq.push(bv[0]);br.push(bv[1]);bs.push(bv[2]);}return[bq,br,bs];};B.zip=function(bp,bq){var br,bs,bt;B.checkLength(bp,bq);br=B.create(bp.length,null);for(bs=0,bt=bp.length-1;bs<=bt;bs++)br[bs]=[bp[bs],bq[bs]];return br;};B.zip3=function(bp,bq,br){var bs,bt,bu;B.checkLength(bp,bq);B.checkLength(bq,br);bs=B.create(bp.length,null);for(bt=0,bu=bp.length-1;bt<=bu;bt++)bs[bt]=[bp[bt],bq[bt],br[bt]];return bs;};B.chunkBySize=function(bp,bq){return B.ofSeq(C.chunkBySize(bp,bq));};B.compareWith=function(bp,bq,br){return C.compareWith(bp,bq,br);};B.distinct=function(bp){return B.ofSeq(C.distinct(bp));};B.distinctBy=function(bp,bq){return B.ofSeq(C.distinctBy(bp,bq));};B.except=function(bp,bq){return B.ofSeq(C.except(bp,bq));};B.findBack=function(bp,bq){var br;br=B.tryFindBack(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};B.findIndexBack=function(bp,bq){var br;br=B.tryFindIndexBack(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};B.head=function(bp){B.nonEmpty(bp);return bp[0];};B.last=function(bp){B.nonEmpty(bp);return bp[bp.length-1];};B.map3=function(bp,bq,br,bs){var bt,bu,bv;B.checkLength(bq,br);B.checkLength(bq,bs);bt=new window.Array(bs.length);for(bu=0,bv=bs.length-1;bu<=bv;bu++)bt[bu]=bp(bq[bu],br[bu],bs[bu]);return bt;};B.pairwise=function(bp){return B.ofSeq(C.pairwise(bp));};B.replicate=function(bp,bq){return B.create(bp,bq);};B.indexed=function(bp){return B.mapi(function(bq,br){return[bq,br];},bp);};B.skip=function(bp,bq){return bp<0?C.nonNegative():bp>bq.length?C.insufficient():bq.slice(bp);};B.skipWhile=function(bp,bq){var br,bs;bs=bq.length;br=0;while(br<bs&&bp(bq[br]))br=br+1;return bq.slice(br);};B.tail=function(bp){return B.skip(1,bp);};B.take=function(bp,bq){return bp<0?C.nonNegative():bp>bq.length?C.insufficient():bq.slice(0,bp);};B.takeWhile=function(bp,bq){var br,bs;bs=bq.length;br=0;while(br<bs&&bp(bq[br]))br=br+1;return bq.slice(0,br);};B.exactlyOne=function(bp){return bp.length===1?bp[0]:_5.FailWith("The input does not have precisely one element.");};B.unfold=function(bp,bq){return B.ofSeq(C.unfold(bp,bq));};B.windowed=function(bp,bq){return B.ofSeq(C.windowed(bp,bq));};B.splitAt=function(bp,bq){return[B.take(bp,bq),B.skip(bp,bq)];};B.nonEmpty=function(bp){if(bp.length===0)_5.FailWith("The input array was empty.");};B.checkLength=function(bp,bq){if(bp.length!==bq.length)_5.FailWith("The arrays have different lengths.");};E.init=function(bp,bq,br){var bs,bt,bu,bv,bw;bs=B.zeroCreate2D(bp,bq);for(bt=0,bu=bp-1;bt<=bu;bt++){for(bv=0,bw=bq-1;bv<=bw;bv++)B.set2D(bs,bt,bv,br(bt,bv));}return bs;};E.iter=function(bp,bq){var br,bs,bt,bu,bv,bw;br=bq.length;bs=bq.length?bq[0].length:0;for(bt=0,bu=br-1;bt<=bu;bt++){for(bv=0,bw=bs-1;bv<=bw;bv++)bp(B.get2D(bq,bt,bv));}};E.iteri=function(bp,bq){var br,bs,bt,bu,bv,bw;br=bq.length;bs=bq.length?bq[0].length:0;for(bt=0,bu=br-1;bt<=bu;bt++){for(bv=0,bw=bs-1;bv<=bw;bv++)bp(bt,bv,B.get2D(bq,bt,bv));}};E.map=function(bp,bq){return E.init(bq.length,bq.length?bq[0].length:0,function(br,bs){return bp(B.get2D(bq,br,bs));});};E.mapi=function(bp,bq){return E.init(bq.length,bq.length?bq[0].length:0,function(br,bs){return bp(br,bs,B.get2D(bq,br,bs));});};E.copy=function(bp){return E.init(bp.length,bp.length?bp[0].length:0,function(bq,br){return B.get2D(bp,bq,br);});};F=a.CancellationTokenSource=bj.Class({CancelAfter:function(bp){var bq,br;bq=this;!this.c?(br=this.pending,br==null?void 0:window.clearTimeout(br.$0),this.pending={$:1,$0:window.setTimeout(function(){bq.Cancel$1();},bp)}):void 0;},Cancel:function(bp){if(!bp)this.Cancel$1();else if(!this.c){this.c=true;B.iter(function(bq){bq();},this.r);}},Cancel$1:function(){var bp;if(!this.c){this.c=true;bp=B.choose(function(bq){try{bq();return null;}catch(br){return{$:1,$0:br};}},this.r);if(B.length(bp)>0)throw new V.New$3(bp);else void 0;}}},null,F);F.CreateLinkedTokenSource=function(bp,bq){return F.CreateLinkedTokenSource$1([bp,bq]);};F.CreateLinkedTokenSource$1=function(bp){var bq;bq=new F.New();B.iter(function(br){var bs;bs=function(){return bq.Cancel$1();};s.Register(br,function(){bs();});},bp);return bq;};F.New=bj.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},F);G.IsWhiteSpace=function(bp){return bn.fromCharCode(bp).match(new window.RegExp("\\s"))!==null;};G.Parse=function(bp){return bp.length===1?bp.charCodeAt(0):_5.FailWith("String must be exactly one character long.");};G.IsUpper=function(bp){return bp>=65&&bp<=90;};G.IsLower=function(bp){return bp>=97&&bp<=122;};G.IsLetterOrDigit=function(bp){return G.IsLetter(bp)||G.IsDigit(bp);};G.IsLetter=function(bp){return bp>=65&&bp<=90||bp>=97&&bp<=122;};G.IsDigit=function(bp){return bp>=48&&bp<=57;};G.IsControl=function(bp){return bp>=0&&bp<=31||bp>=128&&bp<=159;};G.GetNumericValue=function(bp){return bp>=48&&bp<=57?window.Number(bp)-window.Number(48):-1;};H.observer=function(bp){return{OnCompleted:function(){return null;},OnError:function(){return null;},OnNext:bp};};I.LongTime=function(bp){return(new bl(bp)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});};I.ShortTime=function(bp){return(new bl(bp)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});};I.LongDate=function(bp){return(new bl(bp)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});};I.Parse=function(bp){var bq;bq=I.TryParse(bp);return bq!=null&&bq.$==1?bq.$0:_5.FailWith("Failed to parse date string.");};I.TryParse=function(bp){var bq;bq=bl.parse(bp);return window.isNaN(bq)?null:{$:1,$0:bq};};I.AddMonths=function(bp,bq){var br;br=new bl(bp);return(new bl(br.getFullYear(),br.getMonth()+bq,br.getDate(),br.getHours(),br.getMinutes(),br.getSeconds(),br.getMilliseconds())).getTime();};I.AddYears=function(bp,bq){var br;br=new bl(bp);return(new bl(br.getFullYear()+bq,br.getMonth(),br.getDate(),br.getHours(),br.getMinutes(),br.getSeconds(),br.getMilliseconds())).getTime();};I.TimePortion=function(bp){var bq;bq=new bl(bp);return(((24*0+bq.getHours())*60+bq.getMinutes())*60+bq.getSeconds())*1000+bq.getMilliseconds();};I.DatePortion=function(bp){var bq;bq=new bl(bp);return(new bl(bq.getFullYear(),bq.getMonth(),bq.getDate())).getTime();};J=a.DateTimeOffset=bj.Class({ToUniversalTime:function(){return new J.New(this.d,0);},ToLocalTime:function(){return new J.New(this.d,(new bl()).getTimezoneOffset());}},null,J);J.New=bj.Ctor(function(bp,bq){this.d=bp;},J);K.InvocationList=function(bp){return bp.$Invokes||[bp];};K.RemoveAll=function(bp,bq){var br;br=K.InvocationList(bp);B.length(K.InvocationList(bq))>1?_5.FailWith("TODO: Remove multicast delegates"):void 0;return bj.CreateDelegate(B.filter(function(bs){return!bg.Equals(bs,bq);},br));};K.Remove=function(bp,bq){var br,bs,bt,bu,bv,bw,bx;bt=K.InvocationList(bp);if(B.length(K.InvocationList(bq))>1)_5.FailWith("TODO: Remove multicast delegates");bu=[];bs=false;for(bv=B.length(bt)-1,bw=0;bv>=bw;bv--){bx=B.get(bt,bv);!bs&&bj.DelegateEqual(bx,bq)?bs=true:bu.unshift(bx);}return bj.CreateDelegate(bu);};K.DelegateTarget=function(bp){var bq;return!bp?null:"$Target"in bp?bp.$Target:"$Invokes"in bp?(bq=bp.$Invokes,(B.get(bq,B.length(bq)-1))[1]):null;};L.getHashCode=function(bp,bq){return bp.CGetHashCode(bq);};L.equals=function(bp){return function(bq,br){return bp.CEquals(bq,br);};};L.alreadyAdded=function(){return _5.FailWith("An item with the same key has already been added.");};L.notPresent=function(){return _5.FailWith("The given key was not present in the dictionary.");};M=d.KeyCollection=bj.Class({GetEnumerator$1:function(){return v.Get(C.map(function(bp){return bp.K;},this.d));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,M);M.New=bj.Ctor(function(bp){this.d=bp;},M);N=d.ValueCollection=bj.Class({GetEnumerator$1:function(){return v.Get(C.map(function(bp){return bp.V;},this.d));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},null,N);N.New=bj.Ctor(function(bp){this.d=bp;},N);O=d.Dictionary=bj.Class({remove:function(bp){var bq,br,bs,bt;bq=this;br=this.hash(bp);bs=this.data[br];return bs&&(bt=B.filter(function(bu){return!bq.equals.apply(null,[(_5.KeyValue(bu))[0],bp]);},bs),B.length(bt)<bs.length&&(this.count=this.count-1,this.data[br]=bt,true));},add:function(bp,bq){var br,bs,bt;br=this;bs=this.hash(bp);bt=this.data[bs];bt?(B.exists(function(bu){return br.equals.apply(null,[(_5.KeyValue(bu))[0],bp]);},bt)?L.alreadyAdded():void 0,this.count=this.count+1,bt.push({K:bp,V:bq})):(this.count=this.count+1,this.data[bs]=new window.Array({K:bp,V:bq}));},set:function(bp,bq){var br,bs,bt,bu;br=this;bs=this.hash(bp);bt=this.data[bs];bt?(bu=B.tryFindIndex(function(bv){return br.equals.apply(null,[(_5.KeyValue(bv))[0],bp]);},bt),bu==null?(this.count=this.count+1,bt.push({K:bp,V:bq})):bt[bu.$0]={K:bp,V:bq}):(this.count=this.count+1,this.data[bs]=new window.Array({K:bp,V:bq}));},get:function(bp){var bq,br;bq=this;br=this.data[this.hash(bp)];return br?B.pick(function(bs){var bt;bt=_5.KeyValue(bs);return bq.equals.apply(null,[bt[0],bp])?{$:1,$0:bt[1]}:null;},br):L.notPresent();},get_Keys:function(){return new M.New(this);},get_Values:function(){return new N.New(this);},TryGetValue:function(bp,bq){var br,bs,bt;br=this;bs=this.data[this.hash(bp)];return bs&&(bt=B.tryPick(function(bu){var bv;bv=_5.KeyValue(bu);return br.equals.apply(null,[bv[0],bp])?{$:1,$0:bv[1]}:null;},bs),bt!=null&&bt.$==1&&(bq.set(bt.$0),true));},Remove:function(bp){return this.remove(bp);},GetEnumerator$1:function(){return v.Get0(this);},set_Item:function(bp,bq){this.set(bp,bq);},get_Item:function(bp){return this.get(bp);},ContainsKey:function(bp){var bq,br;bq=this;br=this.data[this.hash(bp)];return br&&B.exists(function(bs){return bq.equals.apply(null,[(_5.KeyValue(bs))[0],bp]);},br);},Clear:function(){this.data=[];this.count=0;},Add:function(bp,bq){this.add(bp,bq);},GetEnumerator:function(){return v.Get0(this);},GetEnumerator0:function(){return v.Get0(B.concat(c.GetFieldValues(this.data)));}},null,O);O.New=bj.Ctor(function(bp,bq){O.New$6.call(this,bp,L.equals(bq),function(br){return L.getHashCode(bq,br);});},O);O.New$1=bj.Ctor(function(bp){O.New$6.call(this,bp,bg.Equals,bg.Hash);},O);O.New$2=bj.Ctor(function(bp,bq){O.New$3.call(this,bq);},O);O.New$3=bj.Ctor(function(bp){O.New$6.call(this,[],L.equals(bp),function(bq){return L.getHashCode(bp,bq);});},O);O.New$4=bj.Ctor(function(bp){O.New$5.call(this);},O);O.New$5=bj.Ctor(function(){O.New$6.call(this,[],bg.Equals,bg.Hash);},O);O.New$6=bj.Ctor(function(bp,bq,br){var bs,bt;this.equals=bq;this.hash=br;this.count=0;this.data=[];bs=v.Get(bp);try{while(bs.MoveNext()){bt=bs.Current();this.set(bt.K,bt.V);}}finally{if("Dispose"in bs)bs.Dispose();}},O);P=a.MatchFailureException=bj.Class({},null,P);P.New=bj.Ctor(function(bp,bq,br){this.message=bp+" at "+bn(bq)+":"+bn(br);},P);Q=a.IndexOutOfRangeException=bj.Class({},null,Q);Q.New=bj.Ctor(function(){Q.New$1.call(this,"Index was outside the bounds of the array.");},Q);Q.New$1=bj.Ctor(function(bp){this.message=bp;},Q);R=a.OperationCanceledException=bj.Class({},null,R);R.New=bj.Ctor(function(bp){R.New$1.call(this,"The operation was canceled.",null,bp);},R);R.New$1=bj.Ctor(function(bp,bq,br){this.message=bp;this.inner=bq;this.ct=br;},R);S=a.ArgumentException=bj.Class({},null,S);S.New=bj.Ctor(function(bp,bq){S.New$2.call(this,bq+"\nParameter name: "+bp);},S);S.New$1=bj.Ctor(function(){S.New$2.call(this,"Value does not fall within the expected range.");},S);S.New$2=bj.Ctor(function(bp){this.message=bp;},S);T=a.ArgumentOutOfRangeException=bj.Class({},null,T);T.New=bj.Ctor(function(){T.New$1.call(this,"Specified argument was out of the range of valid values.");},T);T.New$1=bj.Ctor(function(bp){this.message=bp;},T);U=a.InvalidOperationException=bj.Class({},null,U);U.New=bj.Ctor(function(){U.New$1.call(this,"Operation is not valid due to the current state of the object.");},U);U.New$1=bj.Ctor(function(bp){this.message=bp;},U);V=a.AggregateException=bj.Class({},null,V);V.New=bj.Ctor(function(bp,bq){V.New$4.call(this,bp,[bq]);},V);V.New$1=bj.Ctor(function(bp,bq){V.New$4.call(this,bp,B.ofSeq(bq));},V);V.New$2=bj.Ctor(function(bp){V.New$4.call(this,"One or more errors occurred.",B.ofSeq(bp));},V);V.New$3=bj.Ctor(function(bp){V.New$4.call(this,"One or more errors occurred.",bp);},V);V.New$4=bj.Ctor(function(bp,bq){this.message=bp;this.innerExceptions=bq;},V);W=a.TimeoutException=bj.Class({},null,W);W.New=bj.Ctor(function(){W.New$1.call(this,"The operation has timed out.");},W);W.New$1=bj.Ctor(function(bp){this.message=bp;},W);X=a.FormatException=bj.Class({},null,X);X.New=bj.Ctor(function(){X.New$1.call(this,"One of the identified items was in an invalid format.");},X);X.New$1=bj.Ctor(function(bp){this.message=bp;},X);Y=a.OverflowException=bj.Class({},null,Y);Y.New=bj.Ctor(function(){Y.New$1.call(this,"Arithmetic operation resulted in an overflow.");},Y);Y.New$1=bj.Ctor(function(bp){this.message=bp;},Y);B.create2D=function(bp){var bq;bq=B.ofSeq(C.map(B.ofSeq,bp));bq.dims=2;return bq;};Z.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new window.RegExp("[xy]","g"),function(bp){var bq,br;bq=bo.random()*16|0;br=bp=="x"?bq:bq&3|8;return br.toString(16);});};_0.concat=function(bp){var bq,br;bq=[];for(var bs in bp)bq.push.apply(bq,bp[bs]);return bq;};_1=d.HashSet=bj.Class({add:function(bp){var bq,br;bq=this.hash(bp);br=this.data[bq];return br==null?(this.data[bq]=[bp],this.count=this.count+1,true):this.arrContains(bp,br)?false:(br.push(bp),this.count=this.count+1,true);},arrRemove:function(bp,bq){var br,bs,bt,bu;br=true;bs=0;bu=bq.length;while(br&&bs<bu)if(this.equals.apply(null,[bq[bs],bp])){bq.splice.apply(bq,[bs,1]);br=false;}else bs=bs+1;return!br;},arrContains:function(bp,bq){var br,bs,bt,bu;br=true;bs=0;bu=bq.length;while(br&&bs<bu)if(this.equals.apply(null,[bq[bs],bp]))br=false;else bs=bs+1;return!br;},UnionWith:function(bp){var bq;bq=v.Get(bp);try{while(bq.MoveNext())this.Add(bq.Current());}finally{if("Dispose"in bq)bq.Dispose();}},SymmetricExceptWith:function(bp){var bq,br;bq=v.Get(bp);try{while(bq.MoveNext()){br=bq.Current();this.Contains(br)?this.Remove(br):this.Add(br);}}finally{if("Dispose"in bq)bq.Dispose();}},SetEquals:function(bp){var bq;bq=new _1.New$4(bp,this.equals,this.hash);return this.get_Count()===bq.get_Count()&&this.IsSupersetOf(bq);},RemoveWhere:function(bp){var bq,br,bs,bt,bu;br=_0.concat(this.data);bq=0;for(bs=0,bt=br.length-1;bs<=bt;bs++){bu=br[bs];bp(bu)?this.Remove(bu)?bq=bq+1:void 0:void 0;}return bq;},Remove:function(bp){var bq;bq=this.data[this.hash(bp)];return bq==null?false:this.arrRemove(bp,bq)&&(this.count=this.count-1,true);},Overlaps:function(bp){var bq;bq=this;return C.exists(function(br){return bq.Contains(br);},bp);},IsSupersetOf:function(bp){var bq;bq=this;return C.forall(function(br){return bq.Contains(br);},bp);},IsSubsetOf:function(bp){var bq;bq=new _1.New$4(bp,this.equals,this.hash);return B.forall(function(br){return bq.Contains(br);},_0.concat(this.data));},IsProperSupersetOf:function(bp){var bq;bq=B.ofSeq(bp);return this.count>B.length(bq)&&this.IsSupersetOf(bq);},IsProperSubsetOf:function(bp){var bq;bq=B.ofSeq(bp);return this.count<B.length(bq)&&this.IsSubsetOf(bq);},IntersectWith:function(bp){var bq,br,bs,bt,bu;bq=new _1.New$4(bp,this.equals,this.hash);br=_0.concat(this.data);for(bs=0,bt=br.length-1;bs<=bt;bs++){bu=br[bs];!bq.Contains(bu)?this.Remove(bu):void 0;}},ExceptWith:function(bp){var bq;bq=v.Get(bp);try{while(bq.MoveNext())this.Remove(bq.Current());}finally{if("Dispose"in bq)bq.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bp){var bq,br,bs,bt;bq=0;br=_0.concat(this.data);for(bs=0,bt=br.length-1;bs<=bt;bs++)B.set(bp,bs,br[bs]);},Contains:function(bp){var bq;bq=this.data[this.hash(bp)];return bq==null?false:this.arrContains(bp,bq);},Clear:function(){this.data=[];this.count=0;},Add:function(bp){return this.add(bp);},GetEnumerator:function(){return v.Get(_0.concat(this.data));},GetEnumerator0:function(){return v.Get(_0.concat(this.data));}},null,_1);_1.New=bj.Ctor(function(bp,bq){_1.New$4.call(this,bp,L.equals(bq),function(br){return L.getHashCode(bq,br);});},_1);_1.New$1=bj.Ctor(function(bp){_1.New$4.call(this,[],L.equals(bp),function(bq){return L.getHashCode(bp,bq);});},_1);_1.New$2=bj.Ctor(function(bp){_1.New$4.call(this,bp,bg.Equals,bg.Hash);},_1);_1.New$3=bj.Ctor(function(){_1.New$4.call(this,[],bg.Equals,bg.Hash);},_1);_1.New$4=bj.Ctor(function(bp,bq,br){var bs;this.equals=bq;this.hash=br;this.data=[];this.count=0;bs=v.Get(bp);try{while(bs.MoveNext())this.add(bs.Current());}finally{if("Dispose"in bs)bs.Dispose();}},_1);_2.Force=function(bp){return bp.f();};_2.CreateFromValue=function(bp){return{c:true,v:bp,f:_2.cachedLazy};};_2.Create=function(bp){return{c:false,v:bp,f:_2.forceLazy};};_2.forceLazy=function(){var bp;bp=this.v();this.c=true;this.v=bp;this.f=_2.cachedLazy;return bp;};_2.cachedLazy=function(){return this.v;};_3=D.T=bj.Class({GetSlice:function(bp,bq){var br;return bp!=null&&bp.$==1?bq!=null&&bq.$==1?(br=bp.$0,D.ofSeq(C.take(bq.$0-br+1,D.skip(br,this)))):D.skip(bp.$0,this):bq!=null&&bq.$==1?D.ofSeq(C.take(bq.$0+1,this)):this;},get_Item:function(bp){return C.nth(bp,this);},get_Length:function(){return D.length(this);},GetEnumerator:function(){return new w.New(this,null,function(bp){var bq;bq=bp.s;return bq.$==0?false:(bp.c=bq.$0,bp.s=bq.$1,true);},void 0);},GetEnumerator0:function(){return v.Get(this);}},null,_3);_3.Empty=new _3({$:0});D.append=function(bp,bq){var br,bs,bt,bu,bv;if(bp.$==0)return bq;else if(bq.$==0)return bp;else{bu=new _3({$:1});br=bu;bs=bp;bt=true;while(bt){br.$0=bs.$0;bs=bs.$1;bs.$==0?bt=false:br=(bv=new _3({$:1}),br.$1=bv,bv);}br.$1=bq;return bu;}};D.choose=function(bp,bq){return D.ofSeq(C.choose(bp,bq));};D.collect=function(bp,bq){return D.ofSeq(C.collect(bp,bq));};D.concat=function(bp){return D.ofSeq(C.concat(bp));};D.exists=function(bp,bq){var br,bs;br=false;bs=bq;while(!br&&bs.$==1){br=bp(bs.$0);bs=bs.$1;}return br;};D.exists2=function(bp,bq,br){var bs,bt,bu;bs=false;bt=bq;bu=br;while(!bs&&bt.$==1&&bu.$==1){bs=bp(bt.$0,bu.$0);bt=bt.$1;bu=bu.$1;}!bs&&(bt.$==1||bu.$==1)?D.badLengths():void 0;return bs;};D.filter=function(bp,bq){return D.ofSeq(C.filter(bp,bq));};D.fold2=function(bp,bq,br,bs){return B.fold2(bp,bq,B.ofList(br),B.ofList(bs));};D.foldBack=function(bp,bq,br){return B.foldBack(bp,B.ofList(bq),br);};D.foldBack2=function(bp,bq,br,bs){return B.foldBack2(bp,B.ofList(bq),B.ofList(br),bs);};D.forAll=function(bp,bq){var br,bs;br=true;bs=bq;while(br&&bs.$==1){br=bp(bs.$0);bs=bs.$1;}return br;};D.forall2=function(bp,bq,br){var bs,bt,bu;bs=true;bt=bq;bu=br;while(bs&&bt.$==1&&bu.$==1){bs=bp(bt.$0,bu.$0);bt=bt.$1;bu=bu.$1;}bs&&(bt.$==1||bu.$==1)?D.badLengths():void 0;return bs;};D.head=function(bp){return bp.$==1?bp.$0:D.listEmpty();};D.init=function(bp,bq){return D.ofArray(B.init(bp,bq));};D.iter=function(bp,bq){var br;br=bq;while(br.$==1){bp(D.head(br));br=D.tail(br);}};D.iter2=function(bp,bq,br){var bs,bt;bs=bq;bt=br;while(bs.$==1){bt.$==0?D.badLengths():void 0;bp(D.head(bs),D.head(bt));bs=D.tail(bs);bt=D.tail(bt);}bt.$==1?D.badLengths():void 0;};D.iteri=function(bp,bq){var br,bs;br=bq;bs=0;while(br.$==1){bp(bs,D.head(br));br=D.tail(br);bs=bs+1;}};D.iteri2=function(bp,bq,br){var bs,bt,bu;bs=bq;bt=br;bu=0;while(bs.$==1){bt.$==0?D.badLengths():void 0;bp(bu,D.head(bs),D.head(bt));bs=D.tail(bs);bt=D.tail(bt);bu=bu+1;}bt.$==1?D.badLengths():void 0;};D.length=function(bp){var bq,br;bq=bp;br=0;while(bq.$==1){bq=D.tail(bq);br=br+1;}return br;};D.map=function(bp,bq){var br,bs,bt,bu,bv;if(bq.$==0)return bq;else{bu=new _3({$:1});br=bu;bs=bq;bt=true;while(bt){br.$0=bp(bs.$0);bs=bs.$1;bs.$==0?bt=false:br=(bv=new _3({$:1}),br.$1=bv,bv);}br.$1=_3.Empty;return bu;}};D.map2=function(bp,bq,br){var bs,bt,bu,bv,bw,bx;bs=bq.$==1&&br.$==1;if(!bs)return bq.$==1||br.$==1?D.badLengths():bq;else{bw=new _3({$:1});bt=bw;bu=bq;bv=br;while(bs){bt.$0=bp(bu.$0,bv.$0);bu=bu.$1;bv=bv.$1;bu.$==1&&bv.$==1?bt=(bx=new _3({$:1}),bt.$1=bx,bx):bs=false;}if(bu.$==1||bv.$==1)D.badLengths();bt.$1=_3.Empty;return bw;}};D.map3=function(bp,bq,br,bs){var bt,bu,bv,bw,bx,by,bz;bt=bq.$==1&&br.$==1&&bs.$==1;if(!bt)return bq.$==1||br.$==1||bs.$==1?D.badLengths():bq;else{by=new _3({$:1});bu=by;bv=bq;bw=br;bx=bs;while(bt){bu.$0=bp(bv.$0,bw.$0,bx.$0);bv=bv.$1;bw=bw.$1;bx=bx.$1;bv.$==1&&bw.$==1&&bx.$==1?bu=(bz=new _3({$:1}),bu.$1=bz,bz):bt=false;}if(bv.$==1||bw.$==1||bx.$==1)D.badLengths();bu.$1=_3.Empty;return by;}};D.mapi=function(bp,bq){var br,bs,bt,bu,bv,bw;if(bq.$==0)return bq;else{bv=new _3({$:1});br=bv;bs=bq;bt=0;bu=true;while(bu){br.$0=bp(bt,bs.$0);bs=bs.$1;bs.$==0?bu=false:(br=(bw=new _3({$:1}),br.$1=bw,bw),bt=bt+1);}br.$1=_3.Empty;return bv;}};D.mapi2=function(bp,bq,br){var bs,bt,bu,bv,bw,bx,by;bs=bq.$==1&&br.$==1;if(!bs)return bq.$==1||br.$==1?D.badLengths():bq;else{bx=new _3({$:1});bt=bx;bu=bq;bv=br;bw=0;while(bs){bt.$0=bp(bw,bu.$0,bv.$0);bu=bu.$1;bv=bv.$1;bu.$==1&&bv.$==1?(bt=(by=new _3({$:1}),bt.$1=by,by),bw=bw+1):bs=false;}if(bu.$==1||bv.$==1)D.badLengths();bt.$1=_3.Empty;return bx;}};D.max=function(bp){return C.reduce(function(bq,br){return bg.Compare(bq,br)===1?bq:br;},bp);};D.maxBy=function(bp,bq){return C.reduce(function(br,bs){return bg.Compare(bp(br),bp(bs))===1?br:bs;},bq);};D.min=function(bp){return C.reduce(function(bq,br){return bg.Compare(bq,br)===-1?bq:br;},bp);};D.minBy=function(bp,bq){return C.reduce(function(br,bs){return bg.Compare(bp(br),bp(bs))===-1?br:bs;},bq);};D.ofArray=function(bp){var bq,br,bs;bq=_3.Empty;for(br=B.length(bp)-1,bs=0;br>=bs;br--)bq=new _3({$:1,$0:B.get(bp,br),$1:bq});return bq;};D.ofSeq=function(bp){var bq,br,bs,bt,bu,bv;if(bp instanceof _3)return bp;else if(bp instanceof window.Array)return D.ofArray(bp);else{bq=v.Get(bp);try{bs=bq.MoveNext();if(!bs)br=_3.Empty;else{bu=new _3({$:1});bt=bu;while(bs){bt.$0=bq.Current();bq.MoveNext()?bt=(bv=new _3({$:1}),bt.$1=bv,bv):bs=false;}bt.$1=_3.Empty;br=bu;}return br;}finally{if("Dispose"in bq)bq.Dispose();}}};D.partition=function(bp,bq){var br;br=B.partition(bp,B.ofList(bq));return[D.ofArray(br[0]),D.ofArray(br[1])];};D.permute=function(bp,bq){return D.ofArray(B.permute(bp,B.ofList(bq)));};D.reduceBack=function(bp,bq){return B.reduceBack(bp,B.ofList(bq));};D.replicate=function(bp,bq){return D.ofArray(B.create(bp,bq));};D.rev=function(bp){var bq,br;bq=_3.Empty;br=bp;while(br.$==1){bq=new _3({$:1,$0:br.$0,$1:bq});br=br.$1;}return bq;};D.scan=function(bp,bq,br){return D.ofSeq(C.scan(bp,bq,br));};D.scanBack=function(bp,bq,br){return D.ofArray(B.scanBack(bp,B.ofList(bq),br));};D.sort=function(bp){var bq;bq=B.ofList(bp);B.sortInPlace(bq);return D.ofArray(bq);};D.sortBy=function(bp,bq){return D.sortWith(function(br,bs){return bg.Compare(bp(br),bp(bs));},bq);};D.sortByDescending=function(bp,bq){return D.sortWith(function(br,bs){return-bg.Compare(bp(br),bp(bs));},bq);};D.sortDescending=function(bp){var bq;bq=B.ofList(bp);B.sortInPlaceByDescending(window.id,bq);return D.ofArray(bq);};D.sortWith=function(bp,bq){var br;br=B.ofList(bq);B.sortInPlaceWith(bp,br);return D.ofArray(br);};D.tail=function(bp){return bp.$==1?bp.$1:D.listEmpty();};D.unzip=function(bp){var bq,br,bs,bt;bq=[];br=[];bs=v.Get(bp);try{while(bs.MoveNext()){bt=bs.Current();bq.push(bt[0]);br.push(bt[1]);}}finally{if("Dispose"in bs)bs.Dispose();}return[D.ofArray(bq.slice(0)),D.ofArray(br.slice(0))];};D.unzip3=function(bp){var bq,br,bs,bt,bu;bq=[];br=[];bs=[];bt=v.Get(bp);try{while(bt.MoveNext()){bu=bt.Current();bq.push(bu[0]);br.push(bu[1]);bs.push(bu[2]);}}finally{if("Dispose"in bt)bt.Dispose();}return[D.ofArray(bq.slice(0)),D.ofArray(br.slice(0)),D.ofArray(bs.slice(0))];};D.zip=function(bp,bq){return D.map2(function(br,bs){return[br,bs];},bp,bq);};D.zip3=function(bp,bq,br){return D.map3(function(bs,bt,bu){return[bs,bt,bu];},bp,bq,br);};D.chunkBySize=function(bp,bq){return D.map(D.ofArray,D.ofSeq(C.chunkBySize(bp,bq)));};D.compareWith=function(bp,bq,br){return C.compareWith(bp,bq,br);};D.countBy=function(bp,bq){return D.ofArray(B.countBy(bp,B.ofList(bq)));};D.distinct=function(bp){return D.ofSeq(C.distinct(bp));};D.distinctBy=function(bp,bq){return D.ofSeq(C.distinctBy(bp,bq));};D.splitInto=function(bp,bq){return D.map(D.ofArray,D.ofArray(B.splitInto(bp,B.ofList(bq))));};D.except=function(bp,bq){return D.ofSeq(C.except(bp,bq));};D.tryFindBack=function(bp,bq){return B.tryFindBack(bp,B.ofList(bq));};D.findBack=function(bp,bq){var br;br=D.tryFindBack(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};D.findIndexBack=function(bp,bq){var br;br=B.tryFindIndexBack(bp,B.ofList(bq));return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};D.groupBy=function(bp,bq){var br,bs;br=B.groupBy(bp,B.ofList(bq));bs=function(bt,bu){return[bt,D.ofArray(bu)];};B.mapInPlace(function(bt){return bs(bt[0],bt[1]);},br);return D.ofArray(br);};D.last=function(bp){var bq,br;bp.$==0?D.listEmpty():null;bq=bp;br=bq.$1;while(br.$==1){bq=br;br=bq.$1;}return bq.$0;};D.contains=function(bp,bq){var br,bs;br=false;bs=bq;while(!br&&bs.$==1){br=bg.Equals(bp,bs.$0);bs=bs.$1;}return br;};D.mapFold=function(bp,bq,br){var bs;bs=B.mapFold(bp,bq,B.ofList(br));return[D.ofArray(bs[0]),bs[1]];};D.mapFoldBack=function(bp,bq,br){var bs;bs=B.mapFoldBack(bp,B.ofList(bq),br);return[D.ofArray(bs[0]),bs[1]];};D.pairwise=function(bp){return D.ofSeq(C.pairwise(bp));};D.indexed=function(bp){return D.mapi(function(bq,br){return[bq,br];},bp);};D.tryHead=function(bp){return bp.$==0?null:{$:1,$0:bp.$0};};D.exactlyOne=function(bp){var bq;return bp.$==1&&(bp.$1.$==0&&(bq=bp.$0,true))?bq:_5.FailWith("The input does not have precisely one element.");};D.unfold=function(bp,bq){return D.ofSeq(C.unfold(bp,bq));};D.windowed=function(bp,bq){return D.ofSeq(C.map(D.ofArray,C.windowed(bp,bq)));};D.splitAt=function(bp,bq){return[D.ofSeq(C.take(bp,bq)),D.skip(bp,bq)];};D.listEmpty=function(){return _5.FailWith("The input list was empty.");};D.badLengths=function(){return _5.FailWith("The lists have different lengths.");};_4.getOrValue=function(bp,bq){return bp==null?bq:bp;};_4.get=function(bp){return bp==null?_5.FailWith("Nullable object must have a value."):bp;};_5.range=function(bp,bq){var br;br=1+bq-bp;return br<=0?[]:C.init(br,function(bs){return bs+bp;});};_5.step=function(bp,bq,br){var bs;bs=_5.Sign(bq);return C.takeWhile(function(bt){return bs*(br-bt)>=0;},C.initInfinite(function(bt){return bp+bt*bq;}));};_5.KeyValue=function(bp){return[bp.K,bp.V];};_5.Truncate=function(bp){return bp<0?bo.ceil(bp):bo.floor(bp);};_5.Sign=function(bp){return bp===0?0:bp<0?-1:1;};_5.Pown=function(bp,bq){function br(bs){var bt;return bs===1?bp:bs%2===0?(bt=br(bs/2>>0),bt*bt):bp*br(bs-1);}return br(bq);};_5.InvalidArg=function(bp,bq){throw new S.New(bp,bq);};_5.InvalidOp=function(bp){throw new U.New$1(bp);};_5.FailWith=function(bp){throw window.Error(bp);};_6.string=function(bp,bq,br){return bq==null?br!=null&&br.$==1?bp.slice(0,br.$0+1):"":br==null?bp.slice(bq.$0):bp.slice(bq.$0,br.$0+1);};_6.array=function(bp,bq,br){return bq==null?br!=null&&br.$==1?bp.slice(0,br.$0+1):[]:br==null?bp.slice(bq.$0):bp.slice(bq.$0,br.$0+1);};_6.setArray=function(bp,bq,br,bs){var bt;bt=bq!=null&&bq.$==1?bq.$0:0;B.setSub(bp,bt,(br!=null&&br.$==1?br.$0:bp.length-1)-bt+1,bs);};_6.array2D=function(bp,bq,br,bs,bt){var bu,bv;bu=bq!=null&&bq.$==1?bq.$0:0;bv=bs!=null&&bs.$==1?bs.$0:0;return B.sub2D(bp,bu,bv,(br!=null&&br.$==1?br.$0:bp.length-1)-bu+1,(bt!=null&&bt.$==1?bt.$0:(bp.length?bp[0].length:0)-1)-bv+1);};_6.array2Dfix1=function(bp,bq,br,bs){var bt,bu,bv,bw,bx,by;bt=br!=null&&br.$==1?br.$0:0;bu=bs!=null&&bs.$==1?bs.$0:(bp.length?bp[0].length:0)-1;bv=bu-bt+1;bw=new window.Array(bv);for(bx=0,by=bv-1;bx<=by;bx++)B.set(bw,bx,B.get2D(bp,bq,bt+bx));return bw;};_6.array2Dfix2=function(bp,bq,br,bs){var bt,bu,bv,bw,bx,by;bt=bq!=null&&bq.$==1?bq.$0:0;bu=br!=null&&br.$==1?br.$0:bp.length-1;bv=bu-bt+1;bw=new window.Array(bv);for(bx=0,by=bv-1;bx<=by;bx++)B.set(bw,bx,B.get2D(bp,bt+bx,bs));return bw;};_6.setArray2Dfix1=function(bp,bq,br,bs,bt){var bu,bv,bw,bx;bu=br!=null&&br.$==1?br.$0:0;bv=bs!=null&&bs.$==1?bs.$0:(bp.length?bp[0].length:0)-1;for(bw=0,bx=bv-bu+1-1;bw<=bx;bw++)B.set2D(bp,bq,bu+bw,B.get(bt,bw));};_6.setArray2Dfix2=function(bp,bq,br,bs,bt){var bu,bv,bw,bx;bu=bq!=null&&bq.$==1?bq.$0:0;bv=br!=null&&br.$==1?br.$0:bp.length-1;for(bw=0,bx=bv-bu+1-1;bw<=bx;bw++)B.set2D(bp,bu+bw,bs,B.get(bt,bw));};_6.setArray2D=function(bp,bq,br,bs,bt,bu){var bv,bw;bv=bq!=null&&bq.$==1?bq.$0:0;bw=bs!=null&&bs.$==1?bs.$0:0;B.setSub2D(bp,bv,bw,(br!=null&&br.$==1?br.$0:bp.length-1)-bv+1,(bt!=null&&bt.$==1?bt.$0:(bp.length?bp[0].length:0)-1)-bw+1,bu);};_7.filter=function(bp,bq){var br;return bq!=null&&bq.$==1&&(bp(bq.$0)&&(br=bq.$0,true))?bq:null;};_7.fold=function(bp,bq,br){return br==null?bq:bp(bq,br.$0);};_7.foldBack=function(bp,bq,br){return bq==null?br:bp(bq.$0,br);};_7.ofNullable=function(bp){return bp==null?null:{$:1,$0:_4.get(bp)};};_7.ofObj=function(bp){return bp==null?null:{$:1,$0:bp};};_7.toArray=function(bp){return bp==null?[]:[bp.$0];};_7.toList=function(bp){return bp==null?_3.Empty:D.ofArray([bp.$0]);};_7.toNullable=function(bp){return bp!=null&&bp.$==1?bp.$0:null;};_7.toObj=function(bp){return bp==null?null:bp.$0;};_8.CopyTo=function(bp,bq,br){B.blit(bp,0,bq,br,B.length(bp));};_8.Contains=function(bp,bq){return C.exists(function(br){return bg.Equals(bq,br);},bp);};_8.Clear=function(bp){bp.splice(0,B.length(bp));};_9=a.Random=bj.Class({NextBytes:function(bp){var bq,br;for(bq=0,br=B.length(bp)-1;bq<=br;bq++)B.set(bp,bq,bo.floor(bo.random()*256));},Next:function(bp,bq){return bp>bq?_5.FailWith("'minValue' cannot be greater than maxValue."):bp+bo.floor(bo.random()*(bq-bp));},Next$1:function(bp){return bp<0?_5.FailWith("'maxValue' must be greater than zero."):bo.floor(bo.random()*bp);},Next$2:function(){return bo.floor(bo.random()*2147483648);}},null,_9);_9.New=bj.Ctor(function(){},_9);_.New=function(bp){return[bp];};$.MapError=function(bp,bq){return bq.$==1?{$:1,$0:bp(bq.$0)}:{$:0,$0:bq.$0};};$.Map=function(bp,bq){return bq.$==1?{$:1,$0:bq.$0}:{$:0,$0:bp(bq.$0)};};$.Bind=function(bp,bq){return bq.$==1?{$:1,$0:bq.$0}:bp(bq.$0);};C.enumFinally=function(bp,bq){return{GetEnumerator:function(){var br;try{br=v.Get(bp);}catch(bs){bq();throw bs;}return new w.New(null,null,function(bt){return br.MoveNext()&&(bt.c=br.Current(),true);},function(){br.Dispose();bq();});}};};C.enumUsing=function(bp,bq){return{GetEnumerator:function(){var br;try{br=v.Get(bq(bp));}catch(bs){bp.Dispose();throw bs;}return new w.New(null,null,function(bt){return br.MoveNext()&&(bt.c=br.Current(),true);},function(){br.Dispose();bp.Dispose();});}};};C.enumWhile=function(bp,bq){return{GetEnumerator:function(){return new w.New(null,null,function(br){var bs;while(true){bs=br.s;if(bg.Equals(bs,null)){if(bp()){br.s=v.Get(bq);br=br;}else return false;}else{if(bs.MoveNext()){br.c=bs.Current();return true;}else{bs.Dispose();br.s=null;br=br;}}}},function(br){var bs;bs=br.s;!bg.Equals(bs,null)?bs.Dispose():void 0;});}};};ba.createEvent=function(bp,bq,br){return{AddHandler:bp,RemoveHandler:bq,Subscribe:function(bs){var bt;bt=br(function(){return function(bu){return bs.OnNext(bu);};});bp(bt);return{Dispose:function(){return bq(bt);}};}};};C.append=function(bp,bq){return{GetEnumerator:function(){var br;br=[true];return new w.New(v.Get(bp),null,function(bs){var bt;return bs.s.MoveNext()?(bs.c=bs.s.Current(),true):(bt=bs.s,!bg.Equals(bt,null)?bt.Dispose():void 0,bs.s=null,br[0]&&(br[0]=false,bs.s=v.Get(bq),bs.s.MoveNext()?(bs.c=bs.s.Current(),true):(bs.s.Dispose(),bs.s=null,false)));},function(bs){var bt;bt=bs.s;!bg.Equals(bt,null)?bt.Dispose():void 0;});}};};C.average=function(bp){var bq,br;bq=C.fold(function(bs,bt){return(function(bu){var bv,bw;bv=bu[0];bw=bu[1];return function(bx){return[bv+1,bw+bx];};}(bs))(bt);},[0,0],bp);br=bq[0];return br===0?_5.InvalidArg("source","The input sequence was empty."):bq[1]/br;};C.averageBy=function(bp,bq){var br,bs;br=C.fold(function(bt,bu){return(function(bv){var bw,bx;bw=bv[0];bx=bv[1];return function(by){return[bw+1,bx+bp(by)];};}(bt))(bu);},[0,0],bq);bs=br[0];return bs===0?_5.InvalidArg("source","The input sequence was empty."):br[1]/bs;};C.cache=function(bp){var bq,br;bq=[];br=[v.Get(bp)];return{GetEnumerator:function(){return new w.New(0,null,function(bs){var bt;return bs.s+1<bq.length?(bs.s=bs.s+1,bs.c=bq[bs.s],true):(bt=br[0],bg.Equals(bt,null)?false:bt.MoveNext()?(bs.s=bs.s+1,bs.c=bt.Current(),bq.push(bs.c),true):(bt.Dispose(),br[0]=null,false));},void 0);}};};C.choose=function(bp,bq){return C.collect(function(br){var bs;bs=bp(br);return bs==null?_3.Empty:D.ofArray([bs.$0]);},bq);};C.collect=function(bp,bq){return C.concat(C.map(bp,bq));};C.compareWith=function(bp,bq,br){var bs,bt,bu,bv,bw;bs=v.Get(bq);try{bu=v.Get(br);try{bv=0;bw=true;while(bw&&bv===0)if(bs.MoveNext())bv=bu.MoveNext()?bp(bs.Current(),bu.Current()):1;else if(bu.MoveNext())bv=-1;else bw=false;bt=bv;}finally{if("Dispose"in bu)bu.Dispose();}return bt;}finally{if("Dispose"in bs)bs.Dispose();}};C.concat=function(bp){return{GetEnumerator:function(){var bq;bq=v.Get(bp);return new w.New(null,null,function(br){var bs;while(true){bs=br.s;if(bg.Equals(bs,null)){if(bq.MoveNext()){br.s=v.Get(bq.Current());br=br;}else{bq.Dispose();return false;}}else{if(bs.MoveNext()){br.c=bs.Current();return true;}else{br.Dispose();br.s=null;br=br;}}}},function(br){var bs;bs=br.s;!bg.Equals(bs,null)?bs.Dispose():void 0;!bg.Equals(bq,null)?bq.Dispose():void 0;});}};};C.countBy=function(bp,bq){return C.delay(function(){return B.countBy(bp,B.ofSeq(bq));});};C.delay=function(bp){return{GetEnumerator:function(){return v.Get(bp());}};};C.distinct=function(bp){return C.distinctBy(window.id,bp);};C.distinctBy=function(bp,bq){return{GetEnumerator:function(){var br,bs;br=v.Get(bq);bs=new _1.New$3();return new w.New(null,null,function(bt){var bu,bv;if(br.MoveNext()){bu=br.Current();bv=bs.Add(bp(bu));while(!bv&&br.MoveNext()){bu=br.Current();bv=bs.Add(bp(bu));}return bv&&(bt.c=bu,true);}else return false;},function(){br.Dispose();});}};};C.splitInto=function(bp,bq){bp<=0?_5.FailWith("Count must be positive"):void 0;return C.delay(function(){return B.splitInto(bp,B.ofSeq(bq));});};C.exactlyOne=function(bp){var bq,br;bq=v.Get(bp);try{return bq.MoveNext()?(br=bq.Current(),bq.MoveNext()?_5.InvalidOp("Sequence contains more than one element"):br):_5.InvalidOp("Sequence contains no elements");}finally{if("Dispose"in bq)bq.Dispose();}};C.exists=function(bp,bq){var br,bs;br=v.Get(bq);try{bs=false;while(!bs&&br.MoveNext())bs=bp(br.Current());return bs;}finally{if("Dispose"in br)br.Dispose();}};C.exists2=function(bp,bq,br){var bs,bt,bu,bv;bs=v.Get(bq);try{bu=v.Get(br);try{bv=false;while(!bv&&bs.MoveNext()&&bu.MoveNext())bv=bp(bs.Current(),bu.Current());bt=bv;}finally{if("Dispose"in bu)bu.Dispose();}return bt;}finally{if("Dispose"in bs)bs.Dispose();}};C.filter=function(bp,bq){return{GetEnumerator:function(){var br;br=v.Get(bq);return new w.New(null,null,function(bs){var bt,bu,bv;bt=br.MoveNext();bu=br.Current();bv=false;while(bt)if(bp(bu)){bs.c=bu;bv=true;bt=false;}else if(br.MoveNext())bu=br.Current();else bt=false;return bv;},function(){br.Dispose();});}};};C.find=function(bp,bq){var br;br=C.tryFind(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};C.findIndex=function(bp,bq){var br;br=C.tryFindIndex(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};C.fold=function(bp,bq,br){var bs,bt;bs=bq;bt=v.Get(br);try{while(bt.MoveNext())bs=bp(bs,bt.Current());return bs;}finally{if("Dispose"in bt)bt.Dispose();}};C.forall=function(bp,bq){return!C.exists(function(br){return!bp(br);},bq);};C.forall2=function(bp,bq,br){return!C.exists2(function(bs,bt){return!bp(bs,bt);},bq,br);};C.groupBy=function(bp,bq){return C.delay(function(){return B.groupBy(bp,B.ofSeq(bq));});};C.head=function(bp){var bq;bq=v.Get(bp);try{return bq.MoveNext()?bq.Current():C.insufficient();}finally{if("Dispose"in bq)bq.Dispose();}};C.init=function(bp,bq){return C.take(bp,C.initInfinite(bq));};C.initInfinite=function(bp){return{GetEnumerator:function(){return new w.New(0,null,function(bq){bq.c=bp(bq.s);bq.s=bq.s+1;return true;},void 0);}};};C.isEmpty=function(bp){var bq;bq=v.Get(bp);try{return!bq.MoveNext();}finally{if("Dispose"in bq)bq.Dispose();}};C.iter=function(bp,bq){var br;br=v.Get(bq);try{while(br.MoveNext())bp(br.Current());}finally{if("Dispose"in br)br.Dispose();}};C.iter2=function(bp,bq,br){var bs,bt,bu;bs=v.Get(bq);try{bu=v.Get(br);try{while(bs.MoveNext()&&bu.MoveNext())bp(bs.Current(),bu.Current());bt=void 0;}finally{if("Dispose"in bu)bu.Dispose();}bt;}finally{if("Dispose"in bs)bs.Dispose();}};C.iteri=function(bp,bq){var br,bs;br=0;bs=v.Get(bq);try{while(bs.MoveNext()){bp(br,bs.Current());br=br+1;}}finally{if("Dispose"in bs)bs.Dispose();}};C.length=function(bp){var bq,br;bq=0;br=v.Get(bp);try{while(br.MoveNext())bq=bq+1;return bq;}finally{if("Dispose"in br)br.Dispose();}};C.map=function(bp,bq){return{GetEnumerator:function(){var br;br=v.Get(bq);return new w.New(null,null,function(bs){return br.MoveNext()&&(bs.c=bp(br.Current()),true);},function(){br.Dispose();});}};};C.mapi=function(bp,bq){return C.map2(bp,C.initInfinite(window.id),bq);};C.map2=function(bp,bq,br){return{GetEnumerator:function(){var bs,bt;bs=v.Get(bq);bt=v.Get(br);return new w.New(null,null,function(bu){return bs.MoveNext()&&bt.MoveNext()&&(bu.c=bp(bs.Current(),bt.Current()),true);},function(){bs.Dispose();bt.Dispose();});}};};C.maxBy=function(bp,bq){return C.reduce(function(br,bs){return bg.Compare(bp(br),bp(bs))>=0?br:bs;},bq);};C.minBy=function(bp,bq){return C.reduce(function(br,bs){return bg.Compare(bp(br),bp(bs))<=0?br:bs;},bq);};C.max=function(bp){return C.reduce(function(bq,br){return bg.Compare(bq,br)>=0?bq:br;},bp);};C.min=function(bp){return C.reduce(function(bq,br){return bg.Compare(bq,br)<=0?bq:br;},bp);};C.nth=function(bp,bq){var br,bs;if(bp<0)_5.FailWith("negative index requested");br=-1;bs=v.Get(bq);try{while(br<bp){!bs.MoveNext()?C.insufficient():void 0;br=br+1;}return bs.Current();}finally{if("Dispose"in bs)bs.Dispose();}};C.pairwise=function(bp){return C.map(function(bq){return[B.get(bq,0),B.get(bq,1)];},C.windowed(2,bp));};C.pick=function(bp,bq){var br;br=C.tryPick(bp,bq);return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};C.readOnly=function(bp){return{GetEnumerator:function(){return v.Get(bp);}};};C.reduce=function(bp,bq){var br,bs;br=v.Get(bq);try{if(!br.MoveNext())_5.FailWith("The input sequence was empty");bs=br.Current();while(br.MoveNext())bs=bp(bs,br.Current());return bs;}finally{if("Dispose"in br)br.Dispose();}};C.scan=function(bp,bq,br){return{GetEnumerator:function(){var bs;bs=v.Get(br);return new w.New(false,null,function(bt){return bt.s?bs.MoveNext()&&(bt.c=bp(bt.c,bs.Current()),true):(bt.c=bq,bt.s=true,true);},function(){bs.Dispose();});}};};C.skip=function(bp,bq){return{GetEnumerator:function(){var br;br=v.Get(bq);return new w.New(true,null,function(bs){var bt,bu;if(bs.s){for(bt=1,bu=bp;bt<=bu;bt++)if(!br.MoveNext())C.insufficient();bs.s=false;}else null;return br.MoveNext()&&(bs.c=br.Current(),true);},function(){br.Dispose();});}};};C.skipWhile=function(bp,bq){return{GetEnumerator:function(){var br;br=v.Get(bq);return new w.New(true,null,function(bs){var bt,bu;if(bs.s){bt=true;bu=false;while(bt)if(br.MoveNext()){if(!bp(br.Current()))bt=false;}else{bt=false;bu=true;}bs.s=false;return bu?false:(bs.c=br.Current(),true);}else return br.MoveNext()&&(bs.c=br.Current(),true);},function(){br.Dispose();});}};};C.sort=function(bp){return C.sortBy(window.id,bp);};C.sortBy=function(bp,bq){return C.delay(function(){var br;br=B.ofSeq(bq);B.sortInPlaceBy(bp,br);return br;});};C.sortByDescending=function(bp,bq){return C.delay(function(){var br;br=B.ofSeq(bq);B.sortInPlaceByDescending(bp,br);return br;});};C.sortDescending=function(bp){return C.sortByDescending(window.id,bp);};C.sum=function(bp){return C.fold(function(bq,br){return bq+br;},0,bp);};C.sumBy=function(bp,bq){return C.fold(function(br,bs){return br+bp(bs);},0,bq);};C.take=function(bp,bq){bp<0?C.nonNegative():void 0;return{GetEnumerator:function(){var br;br=[v.Get(bq)];return new w.New(0,null,function(bs){var bt;bs.s=bs.s+1;return bs.s>bp?false:(bt=br[0],bg.Equals(bt,null)?C.insufficient():bt.MoveNext()?(bs.c=bt.Current(),bs.s===bp?(bt.Dispose(),br[0]=null):void 0,true):(bt.Dispose(),br[0]=null,C.insufficient()));},function(){var bs;bs=br[0];!bg.Equals(bs,null)?bs.Dispose():void 0;});}};};C.takeWhile=function(bp,bq){return C.delay(function(){return C.enumUsing(v.Get(bq),function(br){return C.enumWhile(function(){return br.MoveNext()&&bp(br.Current());},C.delay(function(){return[br.Current()];}));});});};C.truncate=function(bp,bq){return C.delay(function(){return C.enumUsing(v.Get(bq),function(br){var bs;bs=[0];return C.enumWhile(function(){return br.MoveNext()&&bs[0]<bp;},C.delay(function(){bs[0]++;return[br.Current()];}));});});};C.tryFind=function(bp,bq){var br,bs,bt;br=v.Get(bq);try{bs=null;while(bs==null&&br.MoveNext()){bt=br.Current();bp(bt)?bs={$:1,$0:bt}:void 0;}return bs;}finally{if("Dispose"in br)br.Dispose();}};C.findBack=function(bp,bq){var br;br=B.tryFindBack(bp,B.ofSeq(bq));return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};C.tryFindIndex=function(bp,bq){var br,bs,bt;br=v.Get(bq);try{bs=true;bt=0;while(bs&&br.MoveNext())if(bp(br.Current()))bs=false;else bt=bt+1;return bs?null:{$:1,$0:bt};}finally{if("Dispose"in br)br.Dispose();}};C.findIndexBack=function(bp,bq){var br;br=B.tryFindIndexBack(bp,B.ofSeq(bq));return br==null?_5.FailWith("KeyNotFoundException"):br.$0;};C.tryPick=function(bp,bq){var br,bs;br=v.Get(bq);try{bs=null;while(bg.Equals(bs,null)&&br.MoveNext())bs=bp(br.Current());return bs;}finally{if("Dispose"in br)br.Dispose();}};C.unfold=function(bp,bq){return{GetEnumerator:function(){return new w.New(bq,null,function(br){var bs;bs=bp(br.s);return bs==null?false:(br.c=bs.$0[0],br.s=bs.$0[1],true);},void 0);}};};C.windowed=function(bp,bq){bp<=0?_5.FailWith("The input must be positive."):void 0;return C.delay(function(){return C.enumUsing(v.Get(bq),function(br){var bs;bs=[];return C.append(C.enumWhile(function(){return bs.length<bp&&br.MoveNext();},C.delay(function(){bs.push(br.Current());return[];})),C.delay(function(){return bs.length===bp?C.append([bs.slice(0)],C.delay(function(){return C.enumWhile(function(){return br.MoveNext();},C.delay(function(){bs.shift();bs.push(br.Current());return[bs.slice(0)];}));})):[];}));});});};C.zip=function(bp,bq){return C.map2(function(br,bs){return[br,bs];},bp,bq);};C.map3=function(bp,bq,br,bs){return{GetEnumerator:function(){var bt,bu,bv;bt=v.Get(bq);bu=v.Get(br);bv=v.Get(bs);return new w.New(null,null,function(bw){return bt.MoveNext()&&bu.MoveNext()&&bv.MoveNext()&&(bw.c=bp(bt.Current(),bu.Current(),bv.Current()),true);},function(){bt.Dispose();bu.Dispose();bv.Dispose();});}};};C.zip3=function(bp,bq,br){return C.map3(function(bs,bt,bu){return[bs,bt,bu];},bp,bq,br);};C.fold2=function(bp,bq,br,bs){return B.fold2(bp,bq,B.ofSeq(br),B.ofSeq(bs));};C.foldBack=function(bp,bq,br){return B.foldBack(bp,B.ofSeq(bq),br);};C.foldBack2=function(bp,bq,br,bs){return B.foldBack2(bp,B.ofSeq(bq),B.ofSeq(br),bs);};C.iteri2=function(bp,bq,br){var bs,bt,bu,bv;bs=0;bt=v.Get(bq);try{bv=v.Get(br);try{while(bt.MoveNext()&&bv.MoveNext()){bp(bs,bt.Current(),bv.Current());bs=bs+1;}bu=void 0;}finally{if("Dispose"in bv)bv.Dispose();}bu;}finally{if("Dispose"in bt)bt.Dispose();}};C.mapi2=function(bp,bq,br){return C.map3(function(bs,bt,bu){return((bp(bs))(bt))(bu);},C.initInfinite(window.id),bq,br);};C.mapFold=function(bp,bq,br){return B.mapFold(bp,bq,B.ofSeq(br));};C.mapFoldBack=function(bp,bq,br){return B.mapFoldBack(bp,B.ofSeq(bq),br);};C.permute=function(bp,bq){return C.delay(function(){return B.permute(bp,B.ofSeq(bq));});};C.reduceBack=function(bp,bq){return B.reduceBack(bp,B.ofSeq(bq));};C.replicate=function(bp,bq){bp<0?C.nonNegative():void 0;return C.delay(function(){return C.map(function(){return bq;},_5.range(0,bp-1));});};C.rev=function(bp){return C.delay(function(){return B.ofSeq(bp).slice().reverse();});};C.scanBack=function(bp,bq,br){return C.delay(function(){return B.scanBack(bp,B.ofSeq(bq),br);});};C.indexed=function(bp){return C.mapi(function(bq,br){return[bq,br];},bp);};C.sortWith=function(bp,bq){return C.delay(function(){var br;br=B.ofSeq(bq);B.sortInPlaceWith(bp,br);return br;});};C.tail=function(bp){return C.skip(1,bp);};bb.CopyTo=function(bp,bq,br){B.blit(bq,0,bq,br,B.length(bp));};bb.Contains=function(bp,bq){return C.exists(function(br){return bg.Equals(bq,br);},bp);};bb.Clear=function(bp){bp.splice(0,B.length(bp));};bc.RegexEscape=function(bp){return bp.replace(new window.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bc.SplitWith=function(bp,bq){return bp.split(bq);};bc.Join=function(bp,bq){return bq.join(bp);};bc.TrimEndWS=function(bp){return bp.replace(new window.RegExp("\\s+$"),"");};bc.TrimStartWS=function(bp){return bp.replace(new window.RegExp("^\\s+"),"");};bc.Trim=function(bp){return bp.replace(new window.RegExp("^\\s+"),"").replace(new window.RegExp("\\s+$"),"");};bc.StartsWith=function(bp,bq){return bp.substring(0,bq.length)==bq;};bc.Substring=function(bp,bq,br){return bp.substr(bq,br);};bc.ReplaceOnce=function(bp,bq,br){return bp.replace(bq,br);};bc.Remove=function(bp,bq,br){return bp.substring(0,bq)+bp.substring(bq+br);};bc.PadRightWith=function(bp,bq,br){return bq>bp.length?bp+window.Array(bq-bp.length+1).join(bn.fromCharCode(br)):bp;};bc.PadLeftWith=function(bp,bq,br){return bq>bp.length?window.Array(bq-bp.length+1).join(bn.fromCharCode(br))+bp:bp;};bc.LastIndexOf=function(bp,bq,br){return bp.lastIndexOf(bn.fromCharCode(bq),br);};bc.IsNullOrWhiteSpace=function(bp){return bp==null||(new window.RegExp("^\\s*$")).test(bp);};bc.IsNullOrEmpty=function(bp){return bp==null||bp=="";};bc.Insert=function(bp,bq,br){return bp.substring(0,bq-1)+br+bp.substring(bq);};bc.IndexOf=function(bp,bq,br){return bp.indexOf(bn.fromCharCode(bq),br);};bc.EndsWith=function(bp,bq){return bp.substring(bp.length-bq.length)==bq;};bc.collect=function(bp,bq){return B.init(bq.length,function(br){return bp(bq.charCodeAt(br));}).join("");};bc.concat=function(bp,bq){return B.ofSeq(bq).join(bp);};bc.exists=function(bp,bq){return C.exists(bp,bc.protect(bq));};bc.forall=function(bp,bq){return C.forall(bp,bc.protect(bq));};bc.init=function(bp,bq){return B.init(bp,bq).join("");};bc.iter=function(bp,bq){C.iter(bp,bc.protect(bq));};bc.iteri=function(bp,bq){C.iteri(bp,bc.protect(bq));};bc.length=function(bp){return bc.protect(bp).length;};bc.map=function(bp,bq){return bc.collect(function(br){return bn.fromCharCode(bp(br));},bc.protect(bq));};bc.mapi=function(bp,bq){return B.ofSeq(C.mapi(function(br,bs){return bn.fromCharCode(bp(br,bs));},bq)).join("");};bc.replicate=function(bp,bq){return bc.init(bp,function(){return bq;});};bc.protect=function(bp){return bp===null?"":bp;};bc.SFormat=function(bp,bq){return bp.replace(new window.RegExp("{(0|[1-9]\\d*)(?:,(-?[1-9]\\d*|0))?(?::(.*?))?}","g"),function(br,bs,bt){var bu,bv,bw;bu=bn(B.get(bq,+bs));return!bg.Equals(bt,void 0)?(bv=+bt,(bw=bo.abs(bv),bw>bu.length?bv>0?bc.PadLeft(bu,bw):bc.PadRight(bu,bw):bu)):bu;});};bc.Filter=function(bp,bq){return B.ofSeq(C.choose(function(br){return bp(br)?{$:1,$0:bn.fromCharCode(br)}:null;},bq)).join("");};bc.SplitStrings=function(bp,bq,br){return bc.Split(bp,new window.RegExp(bc.concat("|",B.map(bc.RegexEscape,bq))),br);};bc.SplitChars=function(bp,bq,br){return bc.Split(bp,new window.RegExp("["+bc.RegexEscape(bn.fromCharCode.apply(void 0,bq))+"]"),br);};bc.Split=function(bp,bq,br){return br===1?B.filter(function(bs){return bs!=="";},bc.SplitWith(bp,bq)):bc.SplitWith(bp,bq);};bc.TrimEnd=function(bp,bq){var br,bs;if(bg.Equals(bq,null)||bq.length==0)return bc.TrimEndWS(bp);else{br=bp.length-1;bs=true;while(br>=0&&bs)(function(){var bt;bt=bp.charCodeAt(br);return B.exists(function(bu){return bt===bu;},bq)?void(br=br-1):void(bs=false);}());return bc.Substring(bp,0,br+1);}};bc.TrimStart=function(bp,bq){var br,bs;if(bg.Equals(bq,null)||bq.length==0)return bc.TrimStartWS(bp);else{br=0;bs=true;while(br<bp.length&&bs)(function(){var bt;bt=bp.charCodeAt(br);return B.exists(function(bu){return bt===bu;},bq)?void(br=br+1):void(bs=false);}());return bp.substring(br);}};bc.ToCharArrayRange=function(bp,bq,br){return B.init(br,function(bs){return bp.charCodeAt(bq+bs);});};bc.ToCharArray=function(bp){return B.init(bp.length,function(bq){return bp.charCodeAt(bq);});};bc.ReplaceChar=function(bp,bq,br){return bc.Replace(bp,bn.fromCharCode(bq),bn.fromCharCode(br));};bc.Replace=function(bp,bq,br){function bs(bt){var bu,bv,bw;bu=bt.indexOf(bq);return bu!==-1?(bv=bc.ReplaceOnce(bt,bq,br),(bw=bu+br.length,bc.Substring(bv,0,bu+br.length)+bs(bv.substring(bw)))):bt;}return bs(bp);};bc.PadRight=function(bp,bq){return bc.PadRightWith(bp,bq,32);};bc.PadLeft=function(bp,bq){return bc.PadLeftWith(bp,bq,32);};bc.CopyTo=function(bp,bq,br,bs,bt){B.blit(bc.ToCharArray(bp),bq,br,bs,bt);};bc.Compare=function(bp,bq){return bg.Compare(bp,bq);};bd=a.Task=bj.Class({Execute:function(){this.action();},Start:function(){var bp;bp=this;bg.Equals(this.status,0)?(this.status=2,s.scheduler().Fork(function(){var bq;bp.status=3;try{bp.Execute();bp.status=5;}catch(br){br instanceof R&&(bg.Equals(br.ct,bp.token)&&(bq=br,true))?(bm.log("Task cancellation caught:",bq),bp.exc=new V.New$3([bq]),bp.status=6):(bm.log("Task error caught:",br),bp.exc=new V.New$3([br]),bp.status=7);}bp.RunContinuations();})):_5.InvalidOp("Task not in initial state");},StartContinuation:function(){var bp;bp=this;bg.Equals(this.status,1)?(this.status=2,s.scheduler().Fork(function(){if(bg.Equals(bp.status,2)){bp.status=3;try{bp.Execute();bp.status=5;}catch(bq){bp.exc=new V.New$3([bq]);bp.status=7;}bp.RunContinuations();}})):void 0;},ContinueWith:function(bp,bq){var br,bs;br=this;bs=new be.New(function(){return bp(br);},bq,1,null,void 0);this.get_IsCompleted()?bs.StartContinuation():this.continuations.push(bs);return bs;},ContinueWith$1:function(bp,bq){var br,bs;br=this;bs=new bd.New$2(function(){return bp(br);},bq,1,null);this.get_IsCompleted()?bs.StartContinuation():this.continuations.push(bs);return bs;},ContinueWith$2:function(bp){return this.ContinueWith$1(bp,s.noneCT());},RunContinuations:function(){var bp,bq,br;bp=this.continuations;for(bq=0,br=bp.length-1;bq<=br;bq++)B.get(bp,bq).StartContinuation();},OnCompleted:function(bp){if(this.get_IsCompleted())bp();else{bg.Equals(this.get_Status(),0)?this.Start():void 0;this.ContinueWith$2(function(){return bp();});}},get_Status:function(){return this.status;},get_IsFaulted:function(){return bg.Equals(this.status,7);},get_IsCompleted:function(){return bg.Equals(this.status,5)||bg.Equals(this.status,7)||bg.Equals(this.status,6);},get_IsCanceled:function(){return bg.Equals(this.status,6);},get_Exception:function(){return this.exc;}},null,bd);bd.WhenAll=function(bp){var bq,br,bs,bt,bu,bv;bq=B.length(bp);br=[0];bs=new window.Array(bq);bt=new bf.New();for(bu=0,bv=bq-1;bu<=bv;bu++)(function(bw){B.get(bp,bu).ContinueWith$2(function(bx){return bx.get_IsFaulted()?void bt.TrySetException$1(bx.get_Exception()):bx.get_IsCanceled()?void bt.TrySetCanceled$1():(br[0]++,bs[bw]=bx.get_Result(),br[0]===bq?bt.SetResult(bs):null);});}(bu));return bt.get_Task();};bd.WhenAll$1=function(bp){var bq,br,bs,bt,bu;bq=B.length(bp);br=[0];bs=new bf.New();for(bt=0,bu=bq-1;bt<=bu;bt++)B.get(bp,bt).ContinueWith$2(function(bv){return bv.get_IsFaulted()?void bs.TrySetException$1(bv.get_Exception()):bv.get_IsCanceled()?void bs.TrySetCanceled$1():(br[0]++,br[0]===bq?void bs.TrySetResult():null);});return bs.get_Task();};bd.WhenAny=function(bp){var bq,br,bs;bq=new bf.New();for(br=0,bs=bp.length-1;br<=bs;br++)B.get(bp,br).ContinueWith(function(bt){bq.TrySetResult(bt);},s.noneCT());return bq.get_Task();};bd.WhenAny$1=function(bp){var bq,br,bs;bq=new bf.New();for(br=0,bs=bp.length-1;br<=bs;br++)B.get(bp,br).ContinueWith$2(function(bt){bq.TrySetResult(bt);});return bq.get_Task();};bd.Delay=function(bp,bq){return s.StartAsTask(s.Sleep(bp),{$:1,$0:bq});};bd.Delay$1=function(bp){return s.StartAsTask(s.Sleep(bp),null);};bd.Run=function(bp,bq){var br;br=bp();return bq.c?bd.FromCanceled(bq):(bg.Equals(br.get_Status(),0)?br.Start():void 0,br);};bd.Run$1=function(bp,bq){var br;br=new be.New(bp,bq,0,null,void 0);br.Start();return br;};bd.Run$2=function(bp,bq){var br;br=bp();return bq.c?bd.FromCanceled$1(bq):(bg.Equals(br.get_Status(),0)?br.Start():void 0,br);};bd.Run$3=function(bp,bq){var br;br=new bd.New$2(bp,bq,0,null);br.Start();return br;};bd.FromResult=function(bp){return new be.New(null,s.noneCT(),5,null,bp);};bd.FromException=function(bp){return new be.New(null,s.noneCT(),7,new V.New$3([bp]),null);};bd.FromException$1=function(bp){return new bd.New$2(null,s.noneCT(),7,new V.New$3([bp]));};bd.FromCanceled=function(bp){return new be.New(null,bp,6,null,null);};bd.FromCanceled$1=function(bp){return new bd.New$2(null,bp,6,null);};bd.New=bj.Ctor(function(bp,bq){bd.New$2.call(this,bp,bq,0,null);},bd);bd.New$1=bj.Ctor(function(bp){bd.New$2.call(this,bp,s.noneCT(),0,null);},bd);bd.New$2=bj.Ctor(function(bp,bq,br,bs){this.action=bp;this.token=bq;this.status=br;this.continuations=[];this.exc=bs;},bd);be=a.Task1=bj.Class({get_Result:function(){return this.result;},Execute:function(){this.result=this.func();}},bd,be);be.New=bj.Ctor(function(bp,bq,br,bs,bt){bd.New$2.call(this,null,bq,br,bs);this.func=bp;this.result=bt;},be);bf=a.TaskCompletionSource=bj.Class({TrySetResult:function(bp){return!this.task.get_IsCompleted()&&(this.task.status=5,this.task.result=bp,this.task.RunContinuations(),true);},TrySetException:function(bp){return this.TrySetException$1(new V.New$2(bp));},TrySetException$1:function(bp){return!this.task.get_IsCompleted()&&(this.task.status=7,this.task.exc=new V.New$3([bp]),this.task.RunContinuations(),true);},TrySetCanceled:function(bp){return!this.task.get_IsCompleted()&&(this.task.status=6,this.task.RunContinuations(),true);},TrySetCanceled$1:function(){return!this.task.get_IsCompleted()&&(this.task.status=6,this.task.RunContinuations(),true);},SetResult:function(bp){this.task.get_IsCompleted()?_5.FailWith("Task already completed."):void 0;this.task.status=5;this.task.result=bp;this.task.RunContinuations();},SetException:function(bp){this.SetException$1(new V.New$2(bp));},SetException$1:function(bp){this.task.get_IsCompleted()?_5.FailWith("Task already completed."):void 0;this.task.status=7;this.task.exc=new V.New$3([bp]);this.task.RunContinuations();},SetCanceled:function(){this.task.get_IsCompleted()?_5.FailWith("Task already completed."):void 0;this.task.status=6;this.task.RunContinuations();},get_Task:function(){return this.task;}},null,bf);bf.New=bj.Ctor(function(){this.task=new be.New(null,s.noneCT(),1,null,void 0);},bf);bg.Hash=function(bp){var bq;bq=typeof bp;return bq=="function"?0:bq=="boolean"?bp?1:0:bq=="number"?bp:bq=="string"?bg.hashString(bp):bq=="object"?bp==null?0:bp instanceof window.Array?bg.hashArray(bp):bg.hashObject(bp):0;};bg.hashObject=function(bp){var bq,br;if("GetHashCode"in bp)return bp.GetHashCode();else{bq=[0];for(var bs in bp)if(function(bt){bq[0]=bg.hashMix(bg.hashMix(bq[0],bg.hashString(bt)),bg.Hash(bp[bt]));return false;}(bs))break;return bq[0];}};bg.hashString=function(bp){var bq,br,bs;if(bp===null)return 0;else{bq=5381;for(br=0,bs=bp.length-1;br<=bs;br++)bq=bg.hashMix(bq,bp.charCodeAt(br)<<0);return bq;}};bg.hashArray=function(bp){var bq,br,bs;bq=-34948909;for(br=0,bs=B.length(bp)-1;br<=bs;br++)bq=bg.hashMix(bq,bg.Hash(B.get(bp,br)));return bq;};bg.hashMix=function(bp,bq){return(bp<<5)+bp+bq;};bg.Equals=function(bp,bq){var br,bs,bt,bu;if(bp===bq)return true;else{br=typeof bp;if(br=="object"){if(bp===null||bp===void 0||bq===null||bq===void 0)return false;else if("Equals"in bp)return bp.Equals(bq);else if(bp instanceof window.Array&&bq instanceof window.Array)return bg.arrayEquals(bp,bq);else if(bp instanceof bl&&bq instanceof bl)return bg.dateEquals(bp,bq);else{bs=[true];for(var bv in bp)if(function(bw){bs[0]=!bp.hasOwnProperty(bw)||bq.hasOwnProperty(bw)&&bg.Equals(bp[bw],bq[bw]);return!bs[0];}(bv))break;if(bs[0]){for(var bw in bq)if(function(bx){bs[0]=!bq.hasOwnProperty(bx)||bp.hasOwnProperty(bx);return!bs[0];}(bw))break;}return bs[0];}}else return br=="function"&&("$Func"in bp?bp.$Func===bq.$Func&&bp.$Target===bq.$Target:"$Invokes"in bp&&"$Invokes"in bq&&bg.arrayEquals(bp.$Invokes,bq.$Invokes));}};bg.dateEquals=function(bp,bq){return bp.getTime()===bq.getTime();};bg.arrayEquals=function(bp,bq){var br,bs;if(B.length(bp)===B.length(bq)){br=true;bs=0;while(br&&bs<B.length(bp)){!bg.Equals(B.get(bp,bs),B.get(bq,bs))?br=false:void 0;bs=bs+1;}return br;}else return false;};bg.Compare=function(bp,bq){var br,bs,bt,bu,bv,bw;if(bp===bq)return 0;else{bs=typeof bp;switch(bs=="function"?1:bs=="boolean"?2:bs=="number"?2:bs=="string"?2:bs=="object"?3:0){case 0:return typeof bq=="undefined"?0:-1;break;case 1:return _5.FailWith("Cannot compare function values.");break;case 2:return bp<bq?-1:1;break;case 3:if(bp===null)bt=-1;else if(bq===null)bt=1;else if("CompareTo"in bp)bt=bp.CompareTo(bq);else if("CompareTo0"in bp)bt=bp.CompareTo0(bq);else if(bp instanceof window.Array&&bq instanceof window.Array)bt=bg.compareArrays(bp,bq);else if(bp instanceof bl&&bq instanceof bl)bt=bg.compareDates(bp,bq);else{bu=[0];for(var bx in bp)if(function(by){return!bp.hasOwnProperty(by)?false:!bq.hasOwnProperty(by)?(bu[0]=1,true):(bu[0]=bg.Compare(bp[by],bq[by]),bu[0]!==0);}(bx))break;if(bu[0]===0){for(var by in bq)if(function(bz){return!bq.hasOwnProperty(bz)?false:!bp.hasOwnProperty(bz)&&(bu[0]=-1,true);}(by))break;}bt=bu[0];}return bt;break;}}};bg.compareDates=function(bp,bq){return bg.Compare(bp.getTime(),bq.getTime());};bg.compareArrays=function(bp,bq){var br,bs;if(B.length(bp)<B.length(bq))return -1;else if(B.length(bp)>B.length(bq))return 1;else{br=0;bs=0;while(br===0&&bs<B.length(bp)){br=bg.Compare(B.get(bp,bs),B.get(bq,bs));bs=bs+1;}return br;}};bh.TryParse=function(bp,bq,br,bs){var bt,bu;bt=+bp;bu=bt===bt-bt%1&&bt>=bq&&bt<=br;bu?bs.set(bt):void 0;return bu;};bh.Parse=function(bp,bq,br,bs){var bt;bt=+bp;if(bt!==bt-bt%1)throw new X.New$1("Input string was not in a correct format.");else if(bt<bq||bt>br)throw new Y.New$1(bs);else return bt;};bh.ParseByte=function(bp){return bh.Parse(bp,0,255,"Value was either too large or too small for an unsigned byte.");};bh.TryParseByte=function(bp,bq){return bh.TryParse(bp,0,255,bq);};bh.ParseSByte=function(bp){return bh.Parse(bp,-128,127,"Value was either too large or too small for a signed byte.");};bh.TryParseSByte=function(bp,bq){return bh.TryParse(bp,-128,127,bq);};bh.ParseInt16=function(bp){return bh.Parse(bp,-32768,32767,"Value was either too large or too small for an Int16.");};bh.TryParseInt16=function(bp,bq){return bh.TryParse(bp,-32768,32767,bq);};bh.ParseInt32=function(bp){return bh.Parse(bp,-2147483648,2147483647,"Value was either too large or too small for an Int32.");};bh.TryParseInt32=function(bp,bq){return bh.TryParse(bp,-2147483648,2147483647,bq);};bh.ParseUInt16=function(bp){return bh.Parse(bp,0,65535,"Value was either too large or too small for an UInt16.");};bh.TryParseUInt16=function(bp,bq){return bh.TryParse(bp,0,65535,bq);};bh.ParseUInt32=function(bp){return bh.Parse(bp,0,4294967295,"Value was either too large or too small for an UInt32.");};bh.TryParseUInt32=function(bp,bq){return bh.TryParse(bp,0,4294967295,bq);};bh.ParseInt64=function(bp){return bh.Parse(bp,-9223372036854775808,9223372036854775807,"Value was either too large or too small for an Int64.");};bh.TryParseInt64=function(bp,bq){return bh.TryParse(bp,-9223372036854775808,9223372036854775807,bq);};bh.ParseUInt64=function(bp){return bh.Parse(bp,0,18446744073709551615,"Value was either too large or too small for an UInt64.");};bh.TryParseUInt64=function(bp,bq){return bh.TryParse(bp,0,18446744073709551615,bq);};}());
