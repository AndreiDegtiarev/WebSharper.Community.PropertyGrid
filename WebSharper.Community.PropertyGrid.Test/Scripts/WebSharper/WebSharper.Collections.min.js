(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;a=window.WebSharper=window.WebSharper||{};b=a.Collections=a.Collections||{};c=b.BalancedTree=b.BalancedTree||{};d=c.Tree=c.Tree||{};e=b.Pair=b.Pair||{};f=b.MapUtil=b.MapUtil||{};g=b.FSharpMap=b.FSharpMap||{};h=b.Map=b.Map||{};i=b.FSharpSet=b.FSharpSet||{};j=b.Set=b.Set||{};k=b.ListEnumerator=b.ListEnumerator||{};l=b.List=b.List||{};m=b.ResizeArray=b.ResizeArray||{};n=b.LinkedListEnumerator=b.LinkedListEnumerator||{};o=b.LinkedList=b.LinkedList||{};p=a.Grouping=a.Grouping||{};q=a.FsComparer=a.FsComparer||{};r=a.ProjectionComparer=a.ProjectionComparer||{};s=a.CompoundComparer=a.CompoundComparer||{};t=a.ReverseComparer=a.ReverseComparer||{};u=a.OrderedEnumerable=a.OrderedEnumerable||{};v=a.Linq=a.Linq||{};w=a&&a.Arrays;x=a&&a.Seq;y=a&&a.Unchecked;z=a&&a.List;A=window.IntelliFactory;B=A&&A.Runtime;C=a&&a.Enumerator;D=a&&a.Operators;E=b&&b.HashSet;F=b&&b.Dictionary;G=a&&a.Nullable;d.New=function(H,I,J,K,L){return{Node:H,Left:I,Right:J,Height:K,Count:L};};c.TryFind=function(H,I){var J;J=(c.Lookup(H,I))[0];return J==null?null:{$:1,$0:J.Node};};c.Contains=function(H,I){return!((c.Lookup(H,I))[0]==null);};c.Add=function(H,I){return c.Put(function(J,K){return K;},H,I);};c.Remove=function(H,I){var J,K,L,M;J=c.Lookup(H,I);K=J[0];L=J[1];return K==null?I:K.Right==null?c.Rebuild(L,K.Left):K.Left==null?c.Rebuild(L,K.Right):c.Rebuild(L,(M=w.ofSeq(x.append(c.Enumerate(false,K.Left),c.Enumerate(false,K.Right))),c.Build(M,0,M.length-1)));};c.Put=function(H,I,J){var K,L;K=c.Lookup(I,J);L=K[0];return L==null?c.Rebuild(K[1],c.Branch(I,null,null)):c.Rebuild(K[1],c.Branch(H(L.Node,I),L.Left,L.Right));};c.Rebuild=function(H,I){var J,L,M,N,O,P,Q,R,S,T;function K(U){return U==null?0:U.Height;}J=I;for(L=0,M=w.length(H)-1;L<=M;L++){J=(N=w.get(H,L),N[0]?(O=N[1],(P=N[2],K(J)>K(P)+1?K(J.Left)===K(J.Right)+1?(Q=J.Left,c.Branch(Q.Node,c.Branch(O,P,Q.Left),c.Branch(J.Node,Q.Right,J.Right))):c.Branch(J.Node,c.Branch(O,P,J.Left),J.Right):c.Branch(O,P,J))):(R=N[1],(S=N[2],K(J)>K(S)+1?K(J.Right)===K(J.Left)+1?(T=J.Right,c.Branch(T.Node,c.Branch(J.Node,J.Left,T.Left),c.Branch(R,T.Right,S))):c.Branch(J.Node,J.Left,c.Branch(R,J.Right,S)):c.Branch(R,J,S))));}return J;};c.Lookup=function(H,I){var J,K,L,M;J=[];K=I;L=true;while(L)if(K==null)L=false;else{M=y.Compare(H,K.Node);M===0?L=false:M===1?(J.unshift([true,K.Node,K.Left]),K=K.Right):(J.unshift([false,K.Node,K.Right]),K=K.Left);}return[K,J];};c.OfSeq=function(H){var I;I=w.ofSeq(x.distinct(H));w.sortInPlace(I);return c.Build(I,0,I.length-1);};c.Build=function(H,I,J){var K,L,M;return J-I+1<=0?null:(K=(I+J)/2>>0,(L=c.Build(H,I,K-1),(M=c.Build(H,K+1,J),c.Branch(w.get(H,K),L,M))));};c.Enumerate=function(H,I){var J;J=function(K,L){var M;while(true)if(K==null)return L.$==1?{$:1,$0:[L.$0[0],[L.$0[1],L.$1]]}:null;else if(H){M=K;K=M.Right;L=new z.T({$:1,$0:[M.Node,M.Left],$1:L});}else{M=K;K=M.Left;L=new z.T({$:1,$0:[M.Node,M.Right],$1:L});}};return x.unfold(function(K){return J(K[0],K[1]);},[I,z.T.Empty]);};c.Branch=function(H,I,J){var K,L;return d.New(H,I,J,1+(K=I==null?0:I.Height,(L=J==null?0:J.Height,y.Compare(K,L)===1?K:L)),1+(I==null?0:I.Count)+(J==null?0:J.Count));};e=b.Pair=B.Class({Equals:function(H){return y.Equals(this.Key,H.Key);},GetHashCode:function(){return y.Hash(this.Key);},CompareTo0:function(H){return y.Compare(this.Key,H.Key);}},null,e);e.New=function(H,I){return new e({Key:H,Value:I});};f.fromSeq=function(H){var I;I=w.ofSeq(x.delay(function(){return x.collect(function(J){return[e.New(J[0],J[1])];},x.distinctBy(function(J){return J[0];},H));}));w.sortInPlace(I);return c.Build(I,0,I.length-1);};g=b.FSharpMap=B.Class({Equals:function(H){return this.get_Count()===H.get_Count()&&x.forall2(y.Equals,this,H);},GetHashCode:function(){return y.Hash(w.ofSeq(this));},GetEnumerator$1:function(){return C.Get(x.map(function(H){return{K:H.Key,V:H.Value};},c.Enumerate(false,this.tree)));},TryFind:function(H){var I;I=c.TryFind(e.New(H,void 0),this.tree);return I==null?null:{$:1,$0:I.$0.Value};},Remove:function(H){return new g.New$1(c.Remove(e.New(H,void 0),this.tree));},get_Item:function(H){var I;I=this.TryFind(H);return I==null?D.FailWith("The given key was not present in the dictionary."):I.$0;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var H;H=this.tree;return H==null?0:H.Count;},ContainsKey:function(H){return c.Contains(e.New(H,void 0),this.tree);},Add:function(H,I){return new g.New$1(c.Add(e.New(H,I),this.tree));},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();},CompareTo0:function(H){return x.compareWith(y.Compare,this,H);}},null,g);g.New=B.Ctor(function(H){g.New$1.call(this,f.fromSeq(H));},g);g.New$1=B.Ctor(function(H){this.tree=H;},g);h.Map=function(H,I){return new g.New$1(c.OfSeq(x.map(function(J){return e.New(J.Key,H(J.Key,J.Value));},c.Enumerate(false,I.get_Tree()))));};h.TryPick=function(H,I){return x.tryPick(function(J){return H(J.K,J.V);},I);};h.TryFindKey=function(H,I){return x.tryPick(function(J){return H(J.K,J.V)?{$:1,$0:J.K}:null;},I);};h.TryFind=function(H,I){return I.TryFind(H);};h.ToSeq=function(H){return x.map(function(I){return[I.Key,I.Value];},c.Enumerate(false,H.get_Tree()));};h.Pick=function(H,I){return x.pick(function(J){return H(J.K,J.V);},I);};h.Partition=function(H,I){var J,K,L;J=w.partition(function(M){return H(M.Key,M.Value);},w.ofSeq(c.Enumerate(false,I.get_Tree())));return[new g.New$1((K=J[0],c.Build(K,0,K.length-1))),new g.New$1((L=J[1],c.Build(L,0,L.length-1)))];};h.OfArray=function(H){return new g.New$1(c.OfSeq(x.map(function(I){return e.New(I[0],I[1]);},H)));};h.Iterate=function(H,I){x.iter(function(J){H(J.K,J.V);},I);};h.ForAll=function(H,I){return x.forall(function(J){return H(J.K,J.V);},I);};h.FoldBack=function(H,I,J){return x.fold(function(K,L){return H(L.Key,L.Value,K);},J,c.Enumerate(true,I.get_Tree()));};h.Fold=function(H,I,J){return x.fold(function(K,L){return H(K,L.Key,L.Value);},I,c.Enumerate(false,J.get_Tree()));};h.FindKey=function(H,I){return x.pick(function(J){return H(J.K,J.V)?{$:1,$0:J.K}:null;},I);};h.Filter=function(H,I){var J;return new g.New$1((J=w.ofSeq(x.filter(function(K){return H(K.Key,K.Value);},c.Enumerate(false,I.get_Tree()))),c.Build(J,0,J.length-1)));};h.Exists=function(H,I){return x.exists(function(J){return H(J.K,J.V);},I);};i=b.FSharpSet=B.Class({Equals:function(H){return this.get_Count()===H.get_Count()&&x.forall2(y.Equals,this,H);},GetHashCode:function(){return -1741749453+y.Hash(w.ofSeq(this));},GetEnumerator$1:function(){return C.Get(c.Enumerate(false,this.tree));},Remove:function(H){return new i.New$1(c.Remove(H,this.tree));},get_MinimumElement:function(){return x.head(c.Enumerate(false,this.tree));},get_MaximumElement:function(){return x.head(c.Enumerate(true,this.tree));},IsSupersetOf:function(H){var I;I=this;return x.forall(function(J){return I.Contains(J);},H);},IsSubsetOf:function(H){return x.forall(function(I){return H.Contains(I);},this);},IsProperSupersetOf:function(H){return this.IsSupersetOf(H)&&this.get_Count()>H.get_Count();},IsProperSubsetOf:function(H){return this.IsSubsetOf(H)&&this.get_Count()<H.get_Count();},get_Tree:function(){return this.tree;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var H;H=this.tree;return H==null?0:H.Count;},Contains:function(H){return c.Contains(H,this.tree);},Add:function(H){return new i.New$1(c.Add(H,this.tree));},sub:function(H){return j.Filter(function(I){return!H.Contains(I);},this);},add:function(H){return new i.New$1(c.OfSeq(x.append(this,H)));},CompareTo0:function(H){return x.compareWith(y.Compare,this,H);},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},null,i);i.op_Subtraction=function(H,I){return j.Filter(function(J){return!I.Contains(J);},H);};i.op_Addition=function(H,I){return new i.New$1(c.OfSeq(x.append(H,I)));};i.New=B.Ctor(function(H){i.New$1.call(this,c.OfSeq(H));},i);i.New$1=B.Ctor(function(H){this.tree=H;},i);j.Partition=function(H,I){var J;J=w.partition(H,w.ofSeq(I));return[new i.New$1(c.OfSeq(J[0])),new i.New$1(c.OfSeq(J[1]))];};j.FoldBack=function(H,I,J){return x.fold(function(K,L){return H(L,K);},J,c.Enumerate(true,I.get_Tree()));};j.Filter=function(H,I){var J;return new i.New$1((J=w.ofSeq(x.filter(H,I)),c.Build(J,0,J.length-1)));};k=b.ListEnumerator=B.Class({get_Current:function(){return w.get(this.arr,this.i);},MoveNext$1:function(){this.i=this.i+1;return this.i<w.length(this.arr);},Dispose:function(){},Current:function(){return w.get(this.arr,this.i);},Reset:function(){D.FailWith("IEnumerator.Reset not supported");},Current0:function(){return w.get(this.arr,this.i);},MoveNext:function(){return this.MoveNext$1();}},null,k);k.New=B.Ctor(function(H){this.arr=H;this.i=-1;},k);l=b.List=B.Class({ToArray:function(){return this.arr.slice();},Reverse:function(H,I){w.reverse(this.arr,H,I);},Reverse$1:function(){this.arr.reverse();},RemoveRange:function(H,I){m.splice(this.arr,H,I,[]);},RemoveAt:function(H){m.splice(this.arr,H,1,[]);},set_Item:function(H,I){w.set(this.arr,H,I);},get_Item:function(H){return w.get(this.arr,H);},InsertRange:function(H,I){m.splice(this.arr,H,0,w.ofSeq(I));},Insert:function(H,I){m.splice(this.arr,H,0,[I]);},GetRange:function(H,I){return new l.New$3(w.sub(this.arr,H,I));},get_Count:function(){return w.length(this.arr);},CopyTo:function(H,I,J,K){w.blit(this.arr,H,I,J,K);},CopyTo$1:function(H,I){this.CopyTo(0,H,I,this.get_Count());},CopyTo$2:function(H){this.CopyTo$1(H,0);},Clear:function(){m.splice(this.arr,0,w.length(this.arr),[]);},AddRange:function(H){var I;I=this;x.iter(function(J){I.Add(J);},H);},Add:function(H){this.arr.push(H);},GetEnumerator:function(){return C.Get(this.arr);},GetEnumerator0:function(){return C.Get0(this.arr);}},null,l);l.New=B.Ctor(function(H){l.New$3.call(this,w.ofSeq(H));},l);l.New$1=B.Ctor(function(H){l.New$3.call(this,[]);},l);l.New$2=B.Ctor(function(){l.New$3.call(this,[]);},l);l.New$3=B.Ctor(function(H){this.arr=H;},l);m.splice=function(H,I,J,K){return window.Array.prototype.splice.apply(H,[I,J].concat(K));};n=b.LinkedListEnumerator=B.Class({Reset:function(){},Dispose:function(){},MoveNext:function(){this.c=this.c.n;return!y.Equals(this.c,null);},Current0:function(){return this.c.v;},Current:function(){return this.c.v;}},null,n);n.New=B.Ctor(function(H){this.c=H;},n);o=b.LinkedList=B.Class({RemoveLast:function(){this.Remove$1(this.p);},RemoveFirst:function(){this.Remove$1(this.n);},Remove:function(H){var I;I=this.Find(H);return y.Equals(I,null)?false:(this.Remove$1(I),true);},Remove$1:function(H){var I,J;I=H.p;J=H.n;y.Equals(I,null)?this.n=J:I.n=J;y.Equals(J,null)?this.p=I:J.p=I;this.c=this.c-1;},GetEnumerator$1:function(){return new n.New(this);},FindLast:function(H){var I,J;I=this.p;J=true;while(J&&!y.Equals(I,null))if(I.v==H)J=false;else I=I.p;return J?null:I;},Find:function(H){var I,J;I=this.n;J=true;while(J&&!y.Equals(I,null))if(I.v==H)J=false;else I=I.n;return J?null:I;},Contains:function(H){var I,J;I=false;J=this.n;while(!y.Equals(J,null)&&!I)if(J.v==H)I=true;else J=J.n;return I;},Clear:function(){this.c=0;this.n=null;this.p=null;},AddLast:function(H){var I;return this.c===0?(I={p:null,n:null,v:H},(this.n=I,this.p=this.n,this.c=1,I)):this.AddAfter(this.p,H);},AddFirst:function(H){var I;return this.c===0?(I={p:null,n:null,v:H},(this.n=I,this.p=this.n,this.c=1,I)):this.AddBefore(this.n,H);},AddBefore:function(H,I){var J,K;J=H.p;K={p:J,n:H,v:I};y.Equals(H.p,null)?this.n=K:void 0;H.p=K;!y.Equals(J,null)?J.n=K:void 0;this.c=this.c+1;return K;},AddAfter:function(H,I){var J,K;J=H.n;K={p:H,n:J,v:I};y.Equals(H.n,null)?this.p=K:void 0;H.n=K;!y.Equals(J,null)?J.p=K:void 0;this.c=this.c+1;return K;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},null,o);o.New=B.Ctor(function(){o.New$1.call(this,[]);},o);o.New$1=B.Ctor(function(H){var I,J;this.c=0;this.n=null;this.p=null;I=C.Get(H);I.MoveNext()?(this.n={p:null,n:null,v:I.Current()},this.p=this.n,this.c=1):void 0;while(I.MoveNext()){J={p:this.p,n:null,v:I.Current()};this.p.n=J;this.p=J;this.c=this.c+1;}},o);p=a.Grouping=B.Class({System_Linq_IGrouping_2$get_Key:function(){return this.k;},GetEnumerator0:function(){return C.Get0(this.v);},GetEnumerator:function(){return C.Get(this.v);}},null,p);p.New=B.Ctor(function(H,I){this.k=H;this.v=I;},p);q=a.FsComparer=B.Class({Compare:function(H,I){return y.Compare(H,I);}},null,q);q.New=B.Ctor(function(){},q);r=a.ProjectionComparer=B.Class({Compare:function(H,I){return this.primary.Compare(this.projection(H),this.projection(I));}},null,r);r.New=B.Ctor(function(H,I){this.primary=H;this.projection=I;},r);s=a.CompoundComparer=B.Class({Compare:function(H,I){var J;J=this.primary.Compare(H,I);return J===0?this.secondary.Compare(H,I):J;}},null,s);s.New=B.Ctor(function(H,I){this.primary=H;this.secondary=I;},s);t=a.ReverseComparer=B.Class({Compare:function(H,I){return this.primary.Compare(this.projection(I),this.projection(H));}},null,t);t.New=B.Ctor(function(H,I){this.primary=H;this.projection=I;},t);u=a.OrderedEnumerable=B.Class({GetEnumerator0:function(){return C.Get(this);},GetEnumerator:function(){var H,I;H=this;I=w.ofSeq(this.source);w.sortInPlaceWith(function(J,K){return H.primary.Compare(J,K);},I);return C.Get(I);},System_Linq_IOrderedEnumerable_1$CreateOrderedEnumerable:function(H,I,J){return new u.New(this.source,new s.New(this.primary,J?new t.New(I,H):new r.New(I,H)));}},null,u);u.New=B.Ctor(function(H,I){this.source=H;this.primary=I;},u);v.ElementAtOrDefault=function(H,I,J){try{return x.nth(I,H);}catch(K){return J;}};v.FirstOrDefault=function(H,I){var J;J=C.Get(H);try{return J.MoveNext()?J.Current():I;}finally{if("Dispose"in J)J.Dispose();}};v.FirstOrDefault$1=function(H,I,J){var K;K=x.tryFind(I,H);return K==null?J:K.$0;};v.LastOrDefault=function(H,I,J){var K;K=v.LastPred(H,I);return K==null?J:K.$0;};v.SingleOrDefault=function(H,I,J){var K,L;K=C.Get(H);try{L=null;while(K.MoveNext())if(I(K.Current()))if(L!=null&&L.$==1)D.InvalidOp("Sequence contains more than one element");else L={$:1,$0:K.Current()};return L==null?J:L.$0;}finally{if("Dispose"in K)K.Dispose();}};v.Where=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=0;return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return x.append(I(J.Current(),K)?[J.Current()]:[],x.delay(function(){K=K+1;return[];}));}));});});};v.Union=function(H,I,J){var K,L;K=new E.New(H,J);L=C.Get(I);try{while(L.MoveNext())K.Add(L.Current());}finally{if("Dispose"in L)L.Dispose();}return K;};v.ToDictionary=function(H,I,J,K){var L;L=new F.New$3(K);x.iter(function(M){L.Add(I(M),J(M));},H);return L;};v.ToDictionary$1=function(H,I,J){var K;K=new F.New$3(J);x.iter(function(L){K.Add(I(L),L);},H);return K;};v.TakeWhile=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){return x.enumWhile(function(){return J.MoveNext()&&I(J.Current());},x.delay(function(){return[J.Current()];}));});});};v.TakeWhile$1=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=0;return x.enumWhile(function(){return J.MoveNext()&&I(J.Current(),K);},x.delay(function(){K=K+1;return[J.Current()];}));});});};v.Take=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=0;return x.enumWhile(function(){return K<I&&J.MoveNext();},x.delay(function(){K=K+1;return[J.Current()];}));});});};v.Sum=function(H){var I;I=x.choose(function(J){return J!=null?{$:1,$0:G.get(J)}:null;},H);return x.isEmpty(I)?null:x.sum(I);};v.SkipWhile=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=true;return x.append(x.enumWhile(function(){return K&&J.MoveNext();},x.delay(function(){return!I(J.Current())?(K=false,[]):[];})),x.delay(function(){return!K?x.append([J.Current()],x.delay(function(){return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return[J.Current()];}));})):[];}));});});};v.SkipWhile$1=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K,L;K=0;L=true;return x.append(x.enumWhile(function(){return L&&J.MoveNext();},x.delay(function(){return I(J.Current(),K)?(K=K+1,[]):(L=false,[]);})),x.delay(function(){return!L?x.append([J.Current()],x.delay(function(){return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return[J.Current()];}));})):[];}));});});};v.Skip=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=0;return x.append(x.enumWhile(function(){return K<I&&J.MoveNext();},x.delay(function(){K=K+1;return[];})),x.delay(function(){return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return[J.Current()];}));}));});});};v.Single=function(H,I){var J,K;J=((K=function(L,M){return I(M)?L!=null?D.InvalidOp("Sequence contains more than one matching element"):{$:1,$0:M}:L;},(B.Curried3(x.fold))(K))(null))(H);return J!=null&&J.$==1?J.$0:D.InvalidOp("Sequence contains no elements");};v.SequenceEqual=function(H,I,J){var K,L,M;K=C.Get(H);try{M=C.Get(H);try{L=function(){while(true)if(K.MoveNext()){if(!(M.MoveNext()&&J.CEquals(K.Current(),M.Current())))return false;}else return!M.MoveNext();}();}finally{if("Dispose"in M)M.Dispose();}return L;}finally{if("Dispose"in K)K.Dispose();}};v.SelectMany=function(H,I,J){var K;K=function(L,M){return x.map(function(N){return J(L,N);},M);};return x.collect(function(L){return K(L[0],L[1]);},x.mapi(function(L,M){return[M,I(M,L)];},H));};v.SelectMany$1=function(H,I,J){var K;K=function(L,M){return x.map(function(N){return J(L,N);},M);};return x.collect(function(L){return K(L[0],L[1]);},x.map(function(L){return[L,I(L)];},H));};v.SelectMany$2=function(H,I){return x.concat(x.mapi(function(J,K){return I(K,J);},H));};v.Select=function(H,I){return x.mapi(function(J,K){return I(K,J);},H);};v.Reverse=function(H){return w.ofSeq(H).slice().reverse();};v.Repeat=function(H,I){return x.init(I,function(){return H;});};v.Range=function(H,I){return x.init(I,function(J){return H+J;});};v.OrderByDescending=function(H,I,J){return new u.New(H,new t.New(J,I));};v.OrderBy=function(H,I,J){return new u.New(H,new r.New(J,I));};v.Min=function(H){var I;I=x.choose(function(J){return J!=null?{$:1,$0:G.get(J)}:null;},H);return x.isEmpty(I)?null:x.min(I);};v.Max=function(H){var I;I=x.choose(function(J){return J!=null?{$:1,$0:G.get(J)}:null;},H);return x.isEmpty(I)?null:x.max(I);};v.Last=function(H,I){var J;J=v.LastPred(H,I);return J==null?D.InvalidOp("Sequence contains no matching element"):J.$0;};v.LastPred=function(H,I){var J;return((J=function(K,L){return I(L)?{$:1,$0:L}:K;},(B.Curried3(x.fold))(J))(null))(H);};v.Join=function(H,I,J,K,L,M){return x.delay(function(){var N,O,P;N=new F.New$3(M);O=w.ofSeq(x.delay(function(){return x.collect(function(Q){var R,S,T;R=J(Q);return(S=null,[N.TryGetValue(R,{get:function(){return S;},set:function(U){S=U;}}),S])[0]?[]:(T=[Q,new l.New$2()],(N.Add(R,T),[T]));},H);}));P=C.Get(I);try{while(P.MoveNext())(function(){var Q,R,S;Q=P.Current();R=(S=null,[N.TryGetValue(K(Q),{get:function(){return S;},set:function(T){S=T;}}),S]);return R[0]?R[1][1].Add(Q):null;}());}finally{if("Dispose"in P)P.Dispose();}return w.ofSeq(x.delay(function(){return x.collect(function(Q){var R;R=Q[0];return x.map(function(S){return L(R,S);},Q[1]);},O);}));});};v.Intersect=function(H,I,J){var K;K=new E.New(H,J);return x.delay(function(){var L;L=new E.New$1(J);return x.collect(function(M){return K.Contains(M)&&L.Add(M)?[M]:[];},I);});};v.GroupJoin=function(H,I,J,K,L,M){return x.delay(function(){var N,O,P;N=new F.New$3(M);O=w.ofSeq(x.delay(function(){return x.collect(function(Q){var R,S,T;R=J(Q);return(S=null,[N.TryGetValue(R,{get:function(){return S;},set:function(U){S=U;}}),S])[0]?[]:(T=[Q,new l.New$2()],(N.Add(R,T),[T]));},H);}));P=C.Get(I);try{while(P.MoveNext())(function(){var Q,R,S;Q=P.Current();R=(S=null,[N.TryGetValue(K(Q),{get:function(){return S;},set:function(T){S=T;}}),S]);return R[0]?R[1][1].Add(Q):null;}());}finally{if("Dispose"in P)P.Dispose();}w.iteri(function(Q,R){return w.set(O,Q,L(R[0],R[1]));},O);return O;});};v.GroupBy=function(H,I,J,K,L){return x.map(function(M){return K(M.System_Linq_IGrouping_2$get_Key(),M);},v.GroupBy$1(H,I,J,L));};v.GroupBy$1=function(H,I,J,K){return x.delay(function(){return w.ofSeq(x.delay(function(){var L;L=new F.New$3(K);return x.collect(function(M){var N,O,P,Q,R;N=I(M);O=J(M);P=(Q=null,[L.TryGetValue(N,{get:function(){return Q;},set:function(S){Q=S;}}),Q]);return P[0]?(P[1].Add(O),[]):(R=new l.New$2(),(R.Add(O),L.set_Item(N,R),[new p.New(N,R)]));},H);}));});};v.Except=function(H,I,J){var K,L;K=new E.New(H,J);L=C.Get(I);try{while(L.MoveNext())K.Remove(L.Current());}finally{if("Dispose"in L)L.Dispose();}return K;};v.Distinct=function(H,I){return x.delay(function(){return x.enumUsing(C.Get(H),function(J){var K;K=new E.New$1(I);return x.enumWhile(function(){return J.MoveNext();},x.delay(function(){return K.Add(J.Current())?[J.Current()]:[];}));});});};v.DefaultIfEmpty=function(H,I){return x.isEmpty(H)?[I]:H;};v.Average=function(H){var I,J,K,L;I=[];J=C.Get(H);try{while(J.MoveNext()){if(K=J.Current(),K!=null){I.push((L=J.Current(),G.get(L)));}}return w.length(I)===0?null:x.sum(I)/window.Number(w.length(I));}finally{if("Dispose"in J)J.Dispose();}};}());
