(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;a=window.WebSharper=window.WebSharper||{};b=a.Json=a.Json||{};c=b.Provider=b.Provider||{};d=a.Web=a.Web||{};e=d.Control=d.Control||{};f=d.FSharpInlineControl=d.FSharpInlineControl||{};g=d.InlineControl=d.InlineControl||{};h=window.IntelliFactory;i=h&&h.Runtime;j=a&&a.Collections;k=j&&j.Dictionary;l=j&&j.FSharpMap;m=a&&a.Unchecked;n=a&&a.Arrays;o=a&&a.Operators;p=j&&j.FSharpSet;q=j&&j.BalancedTree;r=a&&a.List;s=a&&a.Enumerator;t=j&&j.Map;u=a&&a.Seq;c.DecodeStringDictionary=i.Curried3(function(v,w,x){var y,z,A;y=new k.New$5();z=v();for(var B in x)if(function(C){y.Add(C,z(x[C]));return false;}(B))break;return y;});c.DecodeStringMap=i.Curried3(function(v,w,x){var y,z,A;y=[new l.New([])];z=v();for(var B in x)if(function(C){var D;y[0]=(D=z(x[C]),y[0].Add(C,D));return false;}(B))break;return y[0];});c.DecodeArray=function(v){return c.EncodeArray(v);};c.DecodeUnion=function(v,w,x){return function(){return function(y){var z,A,B,C,D,E,F;if(typeof y==="object"&&y!=null){D=v===void 0?{}:new v();if(m.Equals(typeof w,"string"))z=(A=y[w],B=function(G){return G===A;},n.findIndex(function(G){return B(G[0],G[1]);},x));else{E=[void 0];for(var G in w)if(function(H){return y.hasOwnProperty(H)&&(E[0]=w[H],true);}(G))break;z=E[0];}D.$=z;C=function(H,I,J,K){var L;if(H===null){L=(J(null))(y);I?delete L[w]:void 0;D.$0=L;}else if(m.Equals(K,0))D[H]=(J(null))(y[I]);else if(m.Equals(K,1))D[H]=y.hasOwnProperty(I)?{$:1,$0:(J(null))(y[I])}:null;else o.FailWith("Invalid field option kind");};n.iter(function(H){return C(H[0],H[1],H[2],H[3]);},(n.get(x,z))[1]);return D;}else return y;};};};c.DecodeRecord=function(v,w){return function(){return function(x){var y,z;y=v===void 0?{}:new v();z=function(A,B,C){if(m.Equals(C,0)){if(x.hasOwnProperty(A))y[A]=(B(null))(x[A]);else o.FailWith("Missing mandatory field: "+A);}else if(m.Equals(C,1))y[A]=x.hasOwnProperty(A)?{$:1,$0:(B(null))(x[A])}:null;else if(m.Equals(C,2)){if(x.hasOwnProperty(A))y[A]=(B(null))(x[A]);}else o.FailWith("Invalid field option kind");};n.iter(function(A){return z(A[0],A[1],A[2]);},w);return y;};};};c.DecodeSet=i.Curried3(function(v,w,x){return new p.New$1(q.OfSeq(n.map(v(),x)));});c.DecodeList=i.Curried3(function(v,w,x){var y;y=v();return r.init(n.length(x),function(z){return y(n.get(x,z));});});c.DecodeDateTime=i.Curried3(function(v,w,x){return(new window.Date(x)).getTime();});c.DecodeTuple=function(v){return c.EncodeTuple(v);};c.EncodeStringDictionary=i.Curried3(function(v,w,x){var y,z,A,B;y={};z=v();A=s.Get(x);try{while(A.MoveNext()){B=o.KeyValue(A.Current());y[B[0]]=z(B[1]);}}finally{if("Dispose"in A)A.Dispose();}return y;});c.EncodeStringMap=i.Curried3(function(v,w,x){var y,z;y={};z=v();t.Iterate(function(A,B){y[A]=z(B);},x);return y;});c.EncodeSet=i.Curried3(function(v,w,x){var y,z;y=[];z=v();u.iter(function(A){y.push(z(A));},x);return y;});c.EncodeArray=i.Curried3(function(v,w,x){return n.map(v(),x);});c.EncodeUnion=function(v,w,x){return function(){return function(y){var z,A,B;return typeof y==="object"&&y!=null?(z={},(A=n.get(x,y.$),(m.Equals(typeof w,"string")?z[w]=A[0]:void 0,B=function(C,D,E,F){var G,H,I;if(C===null){G=(E(null))(y.$0);for(var J in G)if(function(K){z[K]=G[K];return false;}(J))break;}else if(m.Equals(F,0))z[D]=(E(null))(y[C]);else if(m.Equals(F,1)){I=y[C];I==null?void 0:z[D]=(E(null))(I.$0);}else o.FailWith("Invalid field option kind");},n.iter(function(C){return B(C[0],C[1],C[2],C[3]);},A[1]),z))):y;};};};c.EncodeRecord=function(v,w){return function(){return function(x){var y,z;y={};z=function(A,B,C){var D;if(m.Equals(C,0))y[A]=(B(null))(x[A]);else if(m.Equals(C,1)){D=x[A];D==null?void 0:y[A]=(B(null))(D.$0);}else if(m.Equals(C,2)){if(x.hasOwnProperty(A))y[A]=(B(null))(x[A]);}else o.FailWith("Invalid field option kind");};n.iter(function(A){return z(A[0],A[1],A[2]);},w);return y;};};};c.EncodeList=i.Curried3(function(v,w,x){var y,z;y=[];z=v();r.iter(function(A){y.push(z(A));},x);return y;});c.EncodeDateTime=i.Curried3(function(v,w,x){return(new window.Date(x)).toISOString();});c.EncodeTuple=i.Curried3(function(v,w,x){return n.map2(function(y,z){return(y(null))(z);},v,x);});c.Id=i.Curried3(function(v,w,x){return x;});e=d.Control=i.Class({Body:function(){return this.get_Body();}},null,e);f=d.FSharpInlineControl=i.Class({get_Body:function(){return n.fold(function(v,w){return v[w];},window,this.funcName).apply(null,this.args);}},e,f);g=d.InlineControl=i.Class({get_Body:function(){return n.fold(function(v,w){return v[w];},window,this.funcName).apply(null,this.args);}},e,g);}());
