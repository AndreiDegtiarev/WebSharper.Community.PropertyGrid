(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;a=window;b=a.WebSharper;c=b&&b.Obj;d=b.UI=b.UI||{};e=d.Templating=d.Templating||{};f=e.Runtime=e.Runtime||{};g=f.Server=f.Server||{};h=g.TemplateInitializer=g.TemplateInitializer||{};i=g.TemplateInstances=g.TemplateInstances||{};j=g.Handler=g.Handler||{};k=g.TemplateInstance=g.TemplateInstance||{};l=g.Runtime=g.Runtime||{};m=f.Client=f.Client||{};n=a.IntelliFactory;o=n&&n.Runtime;p=b&&b.Collections;q=p&&p.Dictionary;r=b&&b.Arrays;s=d&&d.Var;t=b&&b.Operators;u=d&&d.Doc;v=b&&b.Activator;w=p&&p.HashSet;x=b&&b.Enumerator;y=b&&b.Seq;h=g.TemplateInitializer=o.Class({get_Vars:function(){return this.vars;},get_Id:function(){return this.id;},get_Instance:function(){var z,A,B,C,D,E,F;if(this.hasOwnProperty("instance"))return this.instance;else{A=new q.New$5();B=this.vars;for(C=0,D=B.length-1;C<=D;C++){E=r.get(B,C);F=E[1];A.set_Item(E[0],F===0?s.Create$1(""):F===1?s.Create$1(0):F===2?s.Create$1(false):t.FailWith("Invalid value type"));}z=new k.New({$:0,$0:A},u.Empty());this.instance=z;return z;}}},c,h);h.New=o.Ctor(function(z,A){this.id=z;this.vars=A;},h);i=g.TemplateInstances=o.Class({},c,i);i.GetInstance=function(z){return(v.Instances())[z].get_Instance();};i.New=o.Ctor(function(){},i);j.CompleteHoles$142$20=function(z,A){return function(B){return function(){return i.GetInstance(z).Hole(A).Set(B.value);};};};j.EventQ2$117$42=function(z,A){return function(B){return function(C){return A({Vars:i.GetInstance(z),Target:B,Event:C});};};};j.CompleteHoles=function(z,A,B){var D,E,F,G,H,I;function C(J,K){var L,M,N,O;return E.Contains(J)?null:(L=K===0?(M=s.Create$1(""),[{$:8,$0:J,$1:M},M]):K===1?(N=s.Create$1(0),[{$:13,$0:J,$1:N},N]):K===2?(O=s.Create$1(false),[{$:9,$0:J,$1:O},O]):t.FailWith("Invalid value type"),(D.set_Item(J,L[1]),{$:1,$0:L[0]}));}D=new q.New$5();E=new w.New$3();F=x.Get(A);try{while(F.MoveNext()){G=F.Current();(G.$==8?(H=[G.$0,m.Box(G.$1)],true):G.$==11?(H=[G.$0,m.Box(G.$1)],true):G.$==10?(H=[G.$0,m.Box(G.$1)],true):G.$==13?(H=[G.$0,m.Box(G.$1)],true):G.$==12?(H=[G.$0,m.Box(G.$1)],true):G.$==9&&(H=[G.$0,m.Box(G.$1)],true))?(I=H[0],E.Add(I),D.set_Item(I,H[1])):void 0;}}finally{if("Dispose"in F)F.Dispose();}return[y.append(A,r.choose(function(J){return C(J[0],J[1]);},B)),{$:0,$0:D}];};k=g.TemplateInstance=o.Class({Hole:function(z){return this.allVars.get_Item(z);},get_Doc:function(){return this.doc;}},c,k);k.New=o.Ctor(function(z,A){this.doc=A;this.allVars=z.$==0?z.$0:t.FailWith("Should not happen");},k);l.RunTemplate=function(z){return u.RunFullDocTemplate(z);};m.AfterRenderQ2$59$26=function(z){return function(){z();};};m.Box=a.id;}());
